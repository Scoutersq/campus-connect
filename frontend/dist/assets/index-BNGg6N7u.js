(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _c={exports:{}},So={},Lc={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Ih=Symbol.for("react.fragment"),$h=Symbol.for("react.strict_mode"),Mh=Symbol.for("react.profiler"),Bh=Symbol.for("react.provider"),zh=Symbol.for("react.context"),Uh=Symbol.for("react.forward_ref"),Vh=Symbol.for("react.suspense"),Hh=Symbol.for("react.memo"),Wh=Symbol.for("react.lazy"),Wl=Symbol.iterator;function qh(e){return e===null||typeof e!="object"?null:(e=Wl&&e[Wl]||e["@@iterator"],typeof e=="function"?e:null)}var Rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Pc={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Rc}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tc(){}Tc.prototype=Xn.prototype;function Oi(e,t,n){this.props=e,this.context=t,this.refs=Pc,this.updater=n||Rc}var Di=Oi.prototype=new Tc;Di.constructor=Oi;Ac(Di,Xn.prototype);Di.isPureReactComponent=!0;var ql=Array.isArray,Oc=Object.prototype.hasOwnProperty,Fi={current:null},Dc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,n){var r,s={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Oc.call(t,r)&&!Dc.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ts,type:e,key:a,ref:i,props:s,_owner:Fi.current}}function Kh(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ii(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function Qh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Kl=/\/+/g;function Qo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qh(""+e.key):t.toString(36)}function As(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ts:case Fh:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Qo(i,0):r,ql(s)?(n="",e!=null&&(n=e.replace(Kl,"$&/")+"/"),As(s,t,n,"",function(c){return c})):s!=null&&(Ii(s)&&(s=Kh(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Kl,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ql(e))for(var l=0;l<e.length;l++){a=e[l];var u=r+Qo(a,l);i+=As(a,t,n,u,s)}else if(u=qh(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=r+Qo(a,l++),i+=As(a,t,n,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function cs(e,t,n){if(e==null)return e;var r=[],s=0;return As(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Yh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Se={current:null},Ps={transition:null},Jh={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Fi};function Ic(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:cs,forEach:function(e,t,n){cs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cs(e,function(){t++}),t},toArray:function(e){return cs(e,function(t){return t})||[]},only:function(e){if(!Ii(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Xn;H.Fragment=Ih;H.Profiler=Mh;H.PureComponent=Oi;H.StrictMode=$h;H.Suspense=Vh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jh;H.act=Ic;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ac({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Fi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Oc.call(t,u)&&!Dc.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ts,type:e.type,key:s,ref:a,props:r,_owner:i}};H.createContext=function(e){return e={$$typeof:zh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bh,_context:e},e.Consumer=e};H.createElement=Fc;H.createFactory=function(e){var t=Fc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:Uh,render:e}};H.isValidElement=Ii;H.lazy=function(e){return{$$typeof:Wh,_payload:{_status:-1,_result:e},_init:Yh}};H.memo=function(e,t){return{$$typeof:Hh,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=Ps.transition;Ps.transition={};try{e()}finally{Ps.transition=t}};H.unstable_act=Ic;H.useCallback=function(e,t){return Se.current.useCallback(e,t)};H.useContext=function(e){return Se.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Se.current.useDeferredValue(e)};H.useEffect=function(e,t){return Se.current.useEffect(e,t)};H.useId=function(){return Se.current.useId()};H.useImperativeHandle=function(e,t,n){return Se.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Se.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Se.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Se.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Se.current.useReducer(e,t,n)};H.useRef=function(e){return Se.current.useRef(e)};H.useState=function(e){return Se.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Se.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Se.current.useTransition()};H.version="18.3.1";Lc.exports=H;var j=Lc.exports;const S=Dh(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=j,Gh=Symbol.for("react.element"),Zh=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,tm=Xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nm={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,n){var r,s={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)em.call(t,r)&&!nm.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Gh,type:e,key:a,ref:i,props:s,_owner:tm.current}}So.Fragment=Zh;So.jsx=$c;So.jsxs=$c;_c.exports=So;var o=_c.exports,Mc={exports:{}},$e={},Bc={exports:{}},zc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,P){var I=L.length;L.push(P);e:for(;0<I;){var M=I-1>>>1,V=L[M];if(0<s(V,P))L[M]=P,L[I]=V,I=M;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var P=L[0],I=L.pop();if(I!==P){L[0]=I;e:for(var M=0,V=L.length,ne=V>>>1;M<ne;){var de=2*(M+1)-1,st=L[de],ot=de+1,us=L[ot];if(0>s(st,I))ot<V&&0>s(us,st)?(L[M]=us,L[ot]=I,M=ot):(L[M]=st,L[de]=I,M=de);else if(ot<V&&0>s(us,I))L[M]=us,L[ot]=I,M=ot;else break e}}return P}function s(L,P){var I=L.sortIndex-P.sortIndex;return I!==0?I:L.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var u=[],c=[],m=1,d=null,p=3,v=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var P=n(c);P!==null;){if(P.callback===null)r(c);else if(P.startTime<=L)r(c),P.sortIndex=P.expirationTime,t(u,P);else break;P=n(c)}}function x(L){if(w=!1,g(L),!y)if(n(u)!==null)y=!0,U(k);else{var P=n(c);P!==null&&B(x,P.startTime-L)}}function k(L,P){y=!1,w&&(w=!1,f(E),E=-1),v=!0;var I=p;try{for(g(P),d=n(u);d!==null&&(!(d.expirationTime>P)||L&&!O());){var M=d.callback;if(typeof M=="function"){d.callback=null,p=d.priorityLevel;var V=M(d.expirationTime<=P);P=e.unstable_now(),typeof V=="function"?d.callback=V:d===n(u)&&r(u),g(P)}else r(u);d=n(u)}if(d!==null)var ne=!0;else{var de=n(c);de!==null&&B(x,de.startTime-P),ne=!1}return ne}finally{d=null,p=I,v=!1}}var C=!1,N=null,E=-1,R=5,T=-1;function O(){return!(e.unstable_now()-T<R)}function A(){if(N!==null){var L=e.unstable_now();T=L;var P=!0;try{P=N(!0,L)}finally{P?_():(C=!1,N=null)}}else C=!1}var _;if(typeof h=="function")_=function(){h(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=A,_=function(){F.postMessage(null)}}else _=function(){b(A,0)};function U(L){N=L,C||(C=!0,_())}function B(L,P){E=b(function(){L(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,U(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(L){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var I=p;p=P;try{return L()}finally{p=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=p;p=L;try{return P()}finally{p=I}},e.unstable_scheduleCallback=function(L,P,I){var M=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?M+I:M):I=M,L){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=I+V,L={id:m++,callback:P,priorityLevel:L,startTime:I,expirationTime:V,sortIndex:-1},I>M?(L.sortIndex=I,t(c,L),n(u)===null&&L===n(c)&&(w?(f(E),E=-1):w=!0,B(x,I-M))):(L.sortIndex=V,t(u,L),y||v||(y=!0,U(k))),L},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(L){var P=p;return function(){var I=p;p=P;try{return L.apply(this,arguments)}finally{p=I}}}})(zc);Bc.exports=zc;var rm=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm=j,Fe=rm;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Uc=new Set,Ar={};function vn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Ar[e]=t,e=0;e<t.length;e++)Uc.add(t[e])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,om=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ql={},Yl={};function am(e){return La.call(Yl,e)?!0:La.call(Ql,e)?!1:om.test(e)?Yl[e]=!0:(Ql[e]=!0,!1)}function im(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lm(e,t,n,r){if(t===null||typeof t>"u"||im(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var $i=/[\-:]([a-z])/g;function Mi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($i,Mi);ye[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($i,Mi);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($i,Mi);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function Bi(e,t,n,r){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lm(t,n,s,r)&&(n=null),r||s===null?am(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Et=sm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Sn=Symbol.for("react.fragment"),zi=Symbol.for("react.strict_mode"),Ra=Symbol.for("react.profiler"),Vc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),Ui=Symbol.for("react.forward_ref"),Aa=Symbol.for("react.suspense"),Pa=Symbol.for("react.suspense_list"),Vi=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Wc=Symbol.for("react.offscreen"),Jl=Symbol.iterator;function ar(e){return e===null||typeof e!="object"?null:(e=Jl&&e[Jl]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Yo;function xr(e){if(Yo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yo=t&&t[1]||""}return`
`+Yo+e}var Jo=!1;function Xo(e,t){if(!e||Jo)return"";Jo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=r.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var u=`
`+s[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=l);break}}}finally{Jo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xr(e):""}function um(e){switch(e.tag){case 5:return xr(e.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 2:case 15:return e=Xo(e.type,!1),e;case 11:return e=Xo(e.type.render,!1),e;case 1:return e=Xo(e.type,!0),e;default:return""}}function Ta(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sn:return"Fragment";case kn:return"Portal";case Ra:return"Profiler";case zi:return"StrictMode";case Aa:return"Suspense";case Pa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hc:return(e.displayName||"Context")+".Consumer";case Vc:return(e._context.displayName||"Context")+".Provider";case Ui:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vi:return t=e.displayName||null,t!==null?t:Ta(e.type)||"Memo";case Lt:t=e._payload,e=e._init;try{return Ta(e(t))}catch{}}return null}function cm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ta(t);case 8:return t===zi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e){var t=qc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fs(e){e._valueTracker||(e._valueTracker=dm(e))}function Kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Oa(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Xl(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Bi(e,"checked",t,!1)}function Da(e,t){Qc(e,t);var n=Kt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fa(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fa(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fa(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yr=Array.isArray;function Fn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ia(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(yr(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kt(n)}}function Yc(e,t){var n=Kt(t.value),r=Kt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function eu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $a(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hs,Xc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fm=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(e){fm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jr[t]=jr[e]})});function Gc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||jr.hasOwnProperty(e)&&jr[e]?(""+t).trim():t+"px"}function Zc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var hm=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(hm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var za=null;function Hi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,In=null,$n=null;function tu(e){if(e=ss(e)){if(typeof Ua!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ro(t),Ua(e.stateNode,e.type,t))}}function ed(e){In?$n?$n.push(e):$n=[e]:In=e}function td(){if(In){var e=In,t=$n;if($n=In=null,tu(e),t)for(e=0;e<t.length;e++)tu(t[e])}}function nd(e,t){return e(t)}function rd(){}var Go=!1;function sd(e,t,n){if(Go)return e(t,n);Go=!0;try{return nd(e,t,n)}finally{Go=!1,(In!==null||$n!==null)&&(rd(),td())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var Va=!1;if(bt)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Va=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Va=!1}function mm(e,t,n,r,s,a,i,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var Nr=!1,Gs=null,Zs=!1,Ha=null,pm={onError:function(e){Nr=!0,Gs=e}};function gm(e,t,n,r,s,a,i,l,u){Nr=!1,Gs=null,mm.apply(pm,arguments)}function xm(e,t,n,r,s,a,i,l,u){if(gm.apply(this,arguments),Nr){if(Nr){var c=Gs;Nr=!1,Gs=null}else throw Error(D(198));Zs||(Zs=!0,Ha=c)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nu(e){if(wn(e)!==e)throw Error(D(188))}function ym(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return nu(s),e;if(a===r)return nu(s),t;a=a.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=a;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=a;break}if(l===r){i=!0,r=s,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=s;break}if(l===r){i=!0,r=a,n=s;break}l=l.sibling}if(!i)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function ad(e){return e=ym(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var ld=Fe.unstable_scheduleCallback,ru=Fe.unstable_cancelCallback,vm=Fe.unstable_shouldYield,wm=Fe.unstable_requestPaint,le=Fe.unstable_now,bm=Fe.unstable_getCurrentPriorityLevel,Wi=Fe.unstable_ImmediatePriority,ud=Fe.unstable_UserBlockingPriority,eo=Fe.unstable_NormalPriority,jm=Fe.unstable_LowPriority,cd=Fe.unstable_IdlePriority,Co=null,ct=null;function Nm(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Co,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Cm,km=Math.log,Sm=Math.LN2;function Cm(e){return e>>>=0,e===0?32:31-(km(e)/Sm|0)|0}var ms=64,ps=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function to(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=vr(l):(a&=i,a!==0&&(r=vr(a)))}else i=n&~s,i!==0?r=vr(i):a!==0&&(r=vr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ze(t),s=1<<n,r|=e[n],t&=~s;return r}function Em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _m(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ze(a),l=1<<i,u=s[i];u===-1?(!(l&n)||l&r)&&(s[i]=Em(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function Wa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dd(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function Zo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ns(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=n}function Lm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ze(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function qi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ze(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hd,Ki,md,pd,gd,qa=!1,gs=[],Ft=null,It=null,$t=null,Or=new Map,Dr=new Map,At=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":Or.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function lr(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ss(t),t!==null&&Ki(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Am(e,t,n,r,s){switch(t){case"focusin":return Ft=lr(Ft,e,t,n,r,s),!0;case"dragenter":return It=lr(It,e,t,n,r,s),!0;case"mouseover":return $t=lr($t,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Or.set(a,lr(Or.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Dr.set(a,lr(Dr.get(a)||null,e,t,n,r,s)),!0}return!1}function xd(e){var t=on(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,gd(e.priority,function(){md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ka(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);za=r,n.target.dispatchEvent(r),za=null}else return t=ss(n),t!==null&&Ki(t),e.blockedOn=n,!1;t.shift()}return!0}function ou(e,t,n){Ts(e)&&n.delete(t)}function Pm(){qa=!1,Ft!==null&&Ts(Ft)&&(Ft=null),It!==null&&Ts(It)&&(It=null),$t!==null&&Ts($t)&&($t=null),Or.forEach(ou),Dr.forEach(ou)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,qa||(qa=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Pm)))}function Fr(e){function t(s){return ur(s,e)}if(0<gs.length){ur(gs[0],e);for(var n=1;n<gs.length;n++){var r=gs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&ur(Ft,e),It!==null&&ur(It,e),$t!==null&&ur($t,e),Or.forEach(t),Dr.forEach(t),n=0;n<At.length;n++)r=At[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)xd(n),n.blockedOn===null&&At.shift()}var Mn=Et.ReactCurrentBatchConfig,no=!0;function Tm(e,t,n,r){var s=J,a=Mn.transition;Mn.transition=null;try{J=1,Qi(e,t,n,r)}finally{J=s,Mn.transition=a}}function Om(e,t,n,r){var s=J,a=Mn.transition;Mn.transition=null;try{J=4,Qi(e,t,n,r)}finally{J=s,Mn.transition=a}}function Qi(e,t,n,r){if(no){var s=Ka(e,t,n,r);if(s===null)ua(e,t,r,ro,n),su(e,r);else if(Am(s,e,t,n,r))r.stopPropagation();else if(su(e,r),t&4&&-1<Rm.indexOf(e)){for(;s!==null;){var a=ss(s);if(a!==null&&hd(a),a=Ka(e,t,n,r),a===null&&ua(e,t,r,ro,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else ua(e,t,r,null,n)}}var ro=null;function Ka(e,t,n,r){if(ro=null,e=Hi(r),e=on(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ro=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bm()){case Wi:return 1;case ud:return 4;case eo:case jm:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Ot=null,Yi=null,Os=null;function vd(){if(Os)return Os;var e,t=Yi,n=t.length,r,s="value"in Ot?Ot.value:Ot.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[a-r];r++);return Os=s.slice(e,1<r?1-r:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xs(){return!0}function au(){return!1}function Me(e){function t(n,r,s,a,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xs:au,this.isPropagationStopped=au,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xs)},persist:function(){},isPersistent:xs}),t}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ji=Me(Gn),rs=oe({},Gn,{view:0,detail:0}),Dm=Me(rs),ea,ta,cr,Eo=oe({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(ea=e.screenX-cr.screenX,ta=e.screenY-cr.screenY):ta=ea=0,cr=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),iu=Me(Eo),Fm=oe({},Eo,{dataTransfer:0}),Im=Me(Fm),$m=oe({},rs,{relatedTarget:0}),na=Me($m),Mm=oe({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Bm=Me(Mm),zm=oe({},Gn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Um=Me(zm),Vm=oe({},Gn,{data:0}),lu=Me(Vm),Hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Km(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qm[e])?!!t[e]:!1}function Xi(){return Km}var Qm=oe({},rs,{key:function(e){if(e.key){var t=Hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ym=Me(Qm),Jm=oe({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=Me(Jm),Xm=oe({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Gm=Me(Xm),Zm=oe({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ep=Me(Zm),tp=oe({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),np=Me(tp),rp=[9,13,27,32],Gi=bt&&"CompositionEvent"in window,kr=null;bt&&"documentMode"in document&&(kr=document.documentMode);var sp=bt&&"TextEvent"in window&&!kr,wd=bt&&(!Gi||kr&&8<kr&&11>=kr),cu=" ",du=!1;function bd(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function op(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(du=!0,cu);case"textInput":return e=t.data,e===cu&&du?null:e;default:return null}}function ap(e,t){if(Cn)return e==="compositionend"||!Gi&&bd(e,t)?(e=vd(),Os=Yi=Ot=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ip[e.type]:t==="textarea"}function Nd(e,t,n,r){ed(r),t=so(t,"onChange"),0<t.length&&(n=new Ji("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sr=null,Ir=null;function lp(e){Od(e,0)}function _o(e){var t=Ln(e);if(Kc(t))return e}function up(e,t){if(e==="change")return t}var kd=!1;if(bt){var ra;if(bt){var sa="oninput"in document;if(!sa){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),sa=typeof hu.oninput=="function"}ra=sa}else ra=!1;kd=ra&&(!document.documentMode||9<document.documentMode)}function mu(){Sr&&(Sr.detachEvent("onpropertychange",Sd),Ir=Sr=null)}function Sd(e){if(e.propertyName==="value"&&_o(Ir)){var t=[];Nd(t,Ir,e,Hi(e)),sd(lp,t)}}function cp(e,t,n){e==="focusin"?(mu(),Sr=t,Ir=n,Sr.attachEvent("onpropertychange",Sd)):e==="focusout"&&mu()}function dp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(Ir)}function fp(e,t){if(e==="click")return _o(t)}function hp(e,t){if(e==="input"||e==="change")return _o(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:mp;function $r(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!La.call(t,s)||!tt(e[s],t[s]))return!1}return!0}function pu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gu(e,t){var n=pu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pu(n)}}function Cd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Zi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pp(e){var t=Ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cd(n.ownerDocument.documentElement,n)){if(r!==null&&Zi(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=gu(n,a);var i=gu(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gp=bt&&"documentMode"in document&&11>=document.documentMode,En=null,Qa=null,Cr=null,Ya=!1;function xu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ya||En==null||En!==Xs(r)||(r=En,"selectionStart"in r&&Zi(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cr&&$r(Cr,r)||(Cr=r,r=so(Qa,"onSelect"),0<r.length&&(t=new Ji("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _n={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionend:ys("Transition","TransitionEnd")},oa={},_d={};bt&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete _n.animationend.animation,delete _n.animationiteration.animation,delete _n.animationstart.animation),"TransitionEvent"in window||delete _n.transitionend.transition);function Lo(e){if(oa[e])return oa[e];if(!_n[e])return e;var t=_n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _d)return oa[e]=t[n];return e}var Ld=Lo("animationend"),Rd=Lo("animationiteration"),Ad=Lo("animationstart"),Pd=Lo("transitionend"),Td=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Td.set(e,t),vn(t,[e])}for(var aa=0;aa<yu.length;aa++){var ia=yu[aa],xp=ia.toLowerCase(),yp=ia[0].toUpperCase()+ia.slice(1);Jt(xp,"on"+yp)}Jt(Ld,"onAnimationEnd");Jt(Rd,"onAnimationIteration");Jt(Ad,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Pd,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function vu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xm(r,t,void 0,e),e.currentTarget=null}function Od(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&s.isPropagationStopped())break e;vu(s,l,c),a=u}else for(i=0;i<r.length;i++){if(l=r[i],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&s.isPropagationStopped())break e;vu(s,l,c),a=u}}}if(Zs)throw e=Ha,Zs=!1,Ha=null,e}function G(e,t){var n=t[ei];n===void 0&&(n=t[ei]=new Set);var r=e+"__bubble";n.has(r)||(Dd(t,e,2,!1),n.add(r))}function la(e,t,n){var r=0;t&&(r|=4),Dd(n,e,r,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){if(!e[vs]){e[vs]=!0,Uc.forEach(function(n){n!=="selectionchange"&&(vp.has(n)||la(n,!1,e),la(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,la("selectionchange",!1,t))}}function Dd(e,t,n,r){switch(yd(t)){case 1:var s=Tm;break;case 4:s=Om;break;default:s=Qi}n=s.bind(null,t,n,e),s=void 0,!Va||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ua(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;i=i.return}for(;l!==null;){if(i=on(l),i===null)return;if(u=i.tag,u===5||u===6){r=a=i;continue e}l=l.parentNode}}r=r.return}sd(function(){var c=a,m=Hi(n),d=[];e:{var p=Td.get(e);if(p!==void 0){var v=Ji,y=e;switch(e){case"keypress":if(Ds(n)===0)break e;case"keydown":case"keyup":v=Ym;break;case"focusin":y="focus",v=na;break;case"focusout":y="blur",v=na;break;case"beforeblur":case"afterblur":v=na;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gm;break;case Ld:case Rd:case Ad:v=Bm;break;case Pd:v=ep;break;case"scroll":v=Dm;break;case"wheel":v=np;break;case"copy":case"cut":case"paste":v=Um;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=uu}var w=(t&4)!==0,b=!w&&e==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var h=c,g;h!==null;){g=h;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,f!==null&&(x=Tr(h,f),x!=null&&w.push(Br(h,x,g)))),b)break;h=h.return}0<w.length&&(p=new v(p,y,null,n,m),d.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&n!==za&&(y=n.relatedTarget||n.fromElement)&&(on(y)||y[jt]))break e;if((v||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?on(y):null,y!==null&&(b=wn(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(w=iu,x="onMouseLeave",f="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=uu,x="onPointerLeave",f="onPointerEnter",h="pointer"),b=v==null?p:Ln(v),g=y==null?p:Ln(y),p=new w(x,h+"leave",v,n,m),p.target=b,p.relatedTarget=g,x=null,on(m)===c&&(w=new w(f,h+"enter",y,n,m),w.target=g,w.relatedTarget=b,x=w),b=x,v&&y)t:{for(w=v,f=y,h=0,g=w;g;g=Nn(g))h++;for(g=0,x=f;x;x=Nn(x))g++;for(;0<h-g;)w=Nn(w),h--;for(;0<g-h;)f=Nn(f),g--;for(;h--;){if(w===f||f!==null&&w===f.alternate)break t;w=Nn(w),f=Nn(f)}w=null}else w=null;v!==null&&wu(d,p,v,w,!1),y!==null&&b!==null&&wu(d,b,y,w,!0)}}e:{if(p=c?Ln(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=up;else if(fu(p))if(kd)k=hp;else{k=dp;var C=cp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=fp);if(k&&(k=k(e,c))){Nd(d,k,n,m);break e}C&&C(e,p,c),e==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Fa(p,"number",p.value)}switch(C=c?Ln(c):window,e){case"focusin":(fu(C)||C.contentEditable==="true")&&(En=C,Qa=c,Cr=null);break;case"focusout":Cr=Qa=En=null;break;case"mousedown":Ya=!0;break;case"contextmenu":case"mouseup":case"dragend":Ya=!1,xu(d,n,m);break;case"selectionchange":if(gp)break;case"keydown":case"keyup":xu(d,n,m)}var N;if(Gi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Cn?bd(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(wd&&n.locale!=="ko"&&(Cn||E!=="onCompositionStart"?E==="onCompositionEnd"&&Cn&&(N=vd()):(Ot=m,Yi="value"in Ot?Ot.value:Ot.textContent,Cn=!0)),C=so(c,E),0<C.length&&(E=new lu(E,e,null,n,m),d.push({event:E,listeners:C}),N?E.data=N:(N=jd(n),N!==null&&(E.data=N)))),(N=sp?op(e,n):ap(e,n))&&(c=so(c,"onBeforeInput"),0<c.length&&(m=new lu("onBeforeInput","beforeinput",null,n,m),d.push({event:m,listeners:c}),m.data=N))}Od(d,t)})}function Br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function so(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Tr(e,n),a!=null&&r.unshift(Br(e,a,s)),a=Tr(e,t),a!=null&&r.push(Br(e,a,s))),e=e.return}return r}function Nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wu(e,t,n,r,s){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Tr(n,a),u!=null&&i.unshift(Br(n,u,l))):s||(u=Tr(n,a),u!=null&&i.push(Br(n,u,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var wp=/\r\n?/g,bp=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(bp,"")}function ws(e,t,n){if(t=bu(t),bu(e)!==t&&n)throw Error(D(425))}function oo(){}var Ja=null,Xa=null;function Ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,jp=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(kp)}:Za;function kp(e){setTimeout(function(){throw e})}function ca(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Fr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fr(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Zn,zr="__reactProps$"+Zn,jt="__reactContainer$"+Zn,ei="__reactEvents$"+Zn,Sp="__reactListeners$"+Zn,Cp="__reactHandles$"+Zn;function on(e){var t=e[lt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[lt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nu(e);e!==null;){if(n=e[lt])return n;e=Nu(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[lt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ro(e){return e[zr]||null}var ti=[],Rn=-1;function Xt(e){return{current:e}}function Z(e){0>Rn||(e.current=ti[Rn],ti[Rn]=null,Rn--)}function X(e,t){Rn++,ti[Rn]=e.current,e.current=t}var Qt={},je=Xt(Qt),Re=Xt(!1),fn=Qt;function Wn(e,t){var n=e.type.contextTypes;if(!n)return Qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function ao(){Z(Re),Z(je)}function ku(e,t,n){if(je.current!==Qt)throw Error(D(168));X(je,t),X(Re,n)}function Fd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,cm(e)||"Unknown",s));return oe({},n,r)}function io(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qt,fn=je.current,X(je,e),X(Re,Re.current),!0}function Su(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=Fd(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,Z(Re),Z(je),X(je,e)):Z(Re),X(Re,n)}var gt=null,Ao=!1,da=!1;function Id(e){gt===null?gt=[e]:gt.push(e)}function Ep(e){Ao=!0,Id(e)}function Gt(){if(!da&&gt!==null){da=!0;var e=0,t=J;try{var n=gt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gt=null,Ao=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),ld(Wi,Gt),s}finally{J=t,da=!1}}return null}var An=[],Pn=0,lo=null,uo=0,Be=[],ze=0,hn=null,xt=1,yt="";function nn(e,t){An[Pn++]=uo,An[Pn++]=lo,lo=e,uo=t}function $d(e,t,n){Be[ze++]=xt,Be[ze++]=yt,Be[ze++]=hn,hn=e;var r=xt;e=yt;var s=32-Ze(r)-1;r&=~(1<<s),n+=1;var a=32-Ze(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,xt=1<<32-Ze(t)+s|n<<s|r,yt=a+e}else xt=1<<a|n<<s|r,yt=e}function el(e){e.return!==null&&(nn(e,1),$d(e,1,0))}function tl(e){for(;e===lo;)lo=An[--Pn],An[Pn]=null,uo=An[--Pn],An[Pn]=null;for(;e===hn;)hn=Be[--ze],Be[ze]=null,yt=Be[--ze],Be[ze]=null,xt=Be[--ze],Be[ze]=null}var De=null,Oe=null,ee=!1,Xe=null;function Md(e,t){var n=Ve(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Oe=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:xt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ve(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,De=e,Oe=null,!0):!1;default:return!1}}function ni(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ri(e){if(ee){var t=Oe;if(t){var n=t;if(!Cu(e,t)){if(ni(e))throw Error(D(418));t=Mt(n.nextSibling);var r=De;t&&Cu(e,t)?Md(r,n):(e.flags=e.flags&-4097|2,ee=!1,De=e)}}else{if(ni(e))throw Error(D(418));e.flags=e.flags&-4097|2,ee=!1,De=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function bs(e){if(e!==De)return!1;if(!ee)return Eu(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ga(e.type,e.memoizedProps)),t&&(t=Oe)){if(ni(e))throw Bd(),Error(D(418));for(;t;)Md(e,t),t=Mt(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=Mt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=De?Mt(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Oe;e;)e=Mt(e.nextSibling)}function qn(){Oe=De=null,ee=!1}function nl(e){Xe===null?Xe=[e]:Xe.push(e)}var _p=Et.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function js(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _u(e){var t=e._init;return t(e._payload)}function zd(e){function t(f,h){if(e){var g=f.deletions;g===null?(f.deletions=[h],f.flags|=16):g.push(h)}}function n(f,h){if(!e)return null;for(;h!==null;)t(f,h),h=h.sibling;return null}function r(f,h){for(f=new Map;h!==null;)h.key!==null?f.set(h.key,h):f.set(h.index,h),h=h.sibling;return f}function s(f,h){return f=Vt(f,h),f.index=0,f.sibling=null,f}function a(f,h,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<h?(f.flags|=2,h):g):(f.flags|=2,h)):(f.flags|=1048576,h)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function l(f,h,g,x){return h===null||h.tag!==6?(h=ya(g,f.mode,x),h.return=f,h):(h=s(h,g),h.return=f,h)}function u(f,h,g,x){var k=g.type;return k===Sn?m(f,h,g.props.children,x,g.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&_u(k)===h.type)?(x=s(h,g.props),x.ref=dr(f,h,g),x.return=f,x):(x=Us(g.type,g.key,g.props,null,f.mode,x),x.ref=dr(f,h,g),x.return=f,x)}function c(f,h,g,x){return h===null||h.tag!==4||h.stateNode.containerInfo!==g.containerInfo||h.stateNode.implementation!==g.implementation?(h=va(g,f.mode,x),h.return=f,h):(h=s(h,g.children||[]),h.return=f,h)}function m(f,h,g,x,k){return h===null||h.tag!==7?(h=cn(g,f.mode,x,k),h.return=f,h):(h=s(h,g),h.return=f,h)}function d(f,h,g){if(typeof h=="string"&&h!==""||typeof h=="number")return h=ya(""+h,f.mode,g),h.return=f,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ds:return g=Us(h.type,h.key,h.props,null,f.mode,g),g.ref=dr(f,null,h),g.return=f,g;case kn:return h=va(h,f.mode,g),h.return=f,h;case Lt:var x=h._init;return d(f,x(h._payload),g)}if(yr(h)||ar(h))return h=cn(h,f.mode,g,null),h.return=f,h;js(f,h)}return null}function p(f,h,g,x){var k=h!==null?h.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(f,h,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:return g.key===k?u(f,h,g,x):null;case kn:return g.key===k?c(f,h,g,x):null;case Lt:return k=g._init,p(f,h,k(g._payload),x)}if(yr(g)||ar(g))return k!==null?null:m(f,h,g,x,null);js(f,g)}return null}function v(f,h,g,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(g)||null,l(h,f,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ds:return f=f.get(x.key===null?g:x.key)||null,u(h,f,x,k);case kn:return f=f.get(x.key===null?g:x.key)||null,c(h,f,x,k);case Lt:var C=x._init;return v(f,h,g,C(x._payload),k)}if(yr(x)||ar(x))return f=f.get(g)||null,m(h,f,x,k,null);js(h,x)}return null}function y(f,h,g,x){for(var k=null,C=null,N=h,E=h=0,R=null;N!==null&&E<g.length;E++){N.index>E?(R=N,N=null):R=N.sibling;var T=p(f,N,g[E],x);if(T===null){N===null&&(N=R);break}e&&N&&T.alternate===null&&t(f,N),h=a(T,h,E),C===null?k=T:C.sibling=T,C=T,N=R}if(E===g.length)return n(f,N),ee&&nn(f,E),k;if(N===null){for(;E<g.length;E++)N=d(f,g[E],x),N!==null&&(h=a(N,h,E),C===null?k=N:C.sibling=N,C=N);return ee&&nn(f,E),k}for(N=r(f,N);E<g.length;E++)R=v(N,f,E,g[E],x),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?E:R.key),h=a(R,h,E),C===null?k=R:C.sibling=R,C=R);return e&&N.forEach(function(O){return t(f,O)}),ee&&nn(f,E),k}function w(f,h,g,x){var k=ar(g);if(typeof k!="function")throw Error(D(150));if(g=k.call(g),g==null)throw Error(D(151));for(var C=k=null,N=h,E=h=0,R=null,T=g.next();N!==null&&!T.done;E++,T=g.next()){N.index>E?(R=N,N=null):R=N.sibling;var O=p(f,N,T.value,x);if(O===null){N===null&&(N=R);break}e&&N&&O.alternate===null&&t(f,N),h=a(O,h,E),C===null?k=O:C.sibling=O,C=O,N=R}if(T.done)return n(f,N),ee&&nn(f,E),k;if(N===null){for(;!T.done;E++,T=g.next())T=d(f,T.value,x),T!==null&&(h=a(T,h,E),C===null?k=T:C.sibling=T,C=T);return ee&&nn(f,E),k}for(N=r(f,N);!T.done;E++,T=g.next())T=v(N,f,E,T.value,x),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),h=a(T,h,E),C===null?k=T:C.sibling=T,C=T);return e&&N.forEach(function(A){return t(f,A)}),ee&&nn(f,E),k}function b(f,h,g,x){if(typeof g=="object"&&g!==null&&g.type===Sn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ds:e:{for(var k=g.key,C=h;C!==null;){if(C.key===k){if(k=g.type,k===Sn){if(C.tag===7){n(f,C.sibling),h=s(C,g.props.children),h.return=f,f=h;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&_u(k)===C.type){n(f,C.sibling),h=s(C,g.props),h.ref=dr(f,C,g),h.return=f,f=h;break e}n(f,C);break}else t(f,C);C=C.sibling}g.type===Sn?(h=cn(g.props.children,f.mode,x,g.key),h.return=f,f=h):(x=Us(g.type,g.key,g.props,null,f.mode,x),x.ref=dr(f,h,g),x.return=f,f=x)}return i(f);case kn:e:{for(C=g.key;h!==null;){if(h.key===C)if(h.tag===4&&h.stateNode.containerInfo===g.containerInfo&&h.stateNode.implementation===g.implementation){n(f,h.sibling),h=s(h,g.children||[]),h.return=f,f=h;break e}else{n(f,h);break}else t(f,h);h=h.sibling}h=va(g,f.mode,x),h.return=f,f=h}return i(f);case Lt:return C=g._init,b(f,h,C(g._payload),x)}if(yr(g))return y(f,h,g,x);if(ar(g))return w(f,h,g,x);js(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,h!==null&&h.tag===6?(n(f,h.sibling),h=s(h,g),h.return=f,f=h):(n(f,h),h=ya(g,f.mode,x),h.return=f,f=h),i(f)):n(f,h)}return b}var Kn=zd(!0),Ud=zd(!1),co=Xt(null),fo=null,Tn=null,rl=null;function sl(){rl=Tn=fo=null}function ol(e){var t=co.current;Z(co),e._currentValue=t}function si(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){fo=e,rl=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function We(e){var t=e._currentValue;if(rl!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(fo===null)throw Error(D(308));Tn=e,fo.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var an=null;function al(e){an===null?an=[e]:an.push(e)}function Vd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,al(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nt(e,r)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Rt=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nt(e,n)}return s=r.interleaved,s===null?(t.next=t,al(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nt(e,n)}function Fs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qi(e,n)}}function Lu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var s=e.updateQueue;Rt=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,i===null?a=c:i.next=c,i=u;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==i&&(l===null?m.firstBaseUpdate=c:l.next=c,m.lastBaseUpdate=u))}if(a!==null){var d=s.baseState;i=0,m=c=u=null,l=a;do{var p=l.lane,v=l.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,w=l;switch(p=t,v=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(v,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,d,p):y,p==null)break e;d=oe({},d,p);break e;case 2:Rt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(c=m=v,u=d):m=m.next=v,i|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(m===null&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=m,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);pn|=i,e.lanes=i,e.memoizedState=d}}function Ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var os={},dt=Xt(os),Ur=Xt(os),Vr=Xt(os);function ln(e){if(e===os)throw Error(D(174));return e}function ll(e,t){switch(X(Vr,t),X(Ur,e),X(dt,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$a(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$a(t,e)}Z(dt),X(dt,t)}function Qn(){Z(dt),Z(Ur),Z(Vr)}function Wd(e){ln(Vr.current);var t=ln(dt.current),n=$a(t,e.type);t!==n&&(X(Ur,e),X(dt,n))}function ul(e){Ur.current===e&&(Z(dt),Z(Ur))}var re=Xt(0);function mo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fa=[];function cl(){for(var e=0;e<fa.length;e++)fa[e]._workInProgressVersionPrimary=null;fa.length=0}var Is=Et.ReactCurrentDispatcher,ha=Et.ReactCurrentBatchConfig,mn=0,se=null,fe=null,me=null,po=!1,Er=!1,Hr=0,Lp=0;function ve(){throw Error(D(321))}function dl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tt(e[n],t[n]))return!1;return!0}function fl(e,t,n,r,s,a){if(mn=a,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?Tp:Op,e=n(r,s),Er){a=0;do{if(Er=!1,Hr=0,25<=a)throw Error(D(301));a+=1,me=fe=null,t.updateQueue=null,Is.current=Dp,e=n(r,s)}while(Er)}if(Is.current=go,t=fe!==null&&fe.next!==null,mn=0,me=fe=se=null,po=!1,t)throw Error(D(300));return e}function hl(){var e=Hr!==0;return Hr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?se.memoizedState=me=e:me=me.next=e,me}function qe(){if(fe===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?se.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(D(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?se.memoizedState=me=e:me=me.next=e}return me}function Wr(e,t){return typeof t=="function"?t(e):t}function ma(e){var t=qe(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=i=null,u=null,c=a;do{var m=c.lane;if((mn&m)===m)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=d,i=r):u=u.next=d,se.lanes|=m,pn|=m}c=c.next}while(c!==null&&c!==a);u===null?i=r:u.next=l,tt(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,se.lanes|=a,pn|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=qe(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);tt(a,t.memoizedState)||(Le=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function qd(){}function Kd(e,t){var n=se,r=qe(),s=t(),a=!tt(r.memoizedState,s);if(a&&(r.memoizedState=s,Le=!0),r=r.queue,ml(Jd.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,qr(9,Yd.bind(null,n,r,s,t),void 0,null),pe===null)throw Error(D(349));mn&30||Qd(n,t,s)}return s}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yd(e,t,n,r){t.value=n,t.getSnapshot=r,Xd(t)&&Gd(e)}function Jd(e,t,n){return n(function(){Xd(t)&&Gd(e)})}function Xd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch{return!0}}function Gd(e){var t=Nt(e,1);t!==null&&et(t,e,1,-1)}function Au(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Pp.bind(null,se,e),[t.memoizedState,e]}function qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zd(){return qe().memoizedState}function $s(e,t,n,r){var s=it();se.flags|=e,s.memoizedState=qr(1|t,n,void 0,r===void 0?null:r)}function Po(e,t,n,r){var s=qe();r=r===void 0?null:r;var a=void 0;if(fe!==null){var i=fe.memoizedState;if(a=i.destroy,r!==null&&dl(r,i.deps)){s.memoizedState=qr(t,n,a,r);return}}se.flags|=e,s.memoizedState=qr(1|t,n,a,r)}function Pu(e,t){return $s(8390656,8,e,t)}function ml(e,t){return Po(2048,8,e,t)}function ef(e,t){return Po(4,2,e,t)}function tf(e,t){return Po(4,4,e,t)}function nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rf(e,t,n){return n=n!=null?n.concat([e]):null,Po(4,4,nf.bind(null,t,e),n)}function pl(){}function sf(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function of(e,t){var n=qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function af(e,t,n){return mn&21?(tt(n,t)||(n=dd(),se.lanes|=n,pn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Rp(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{J=n,ha.transition=r}}function lf(){return qe().memoizedState}function Ap(e,t,n){var r=Ut(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uf(e))cf(t,n);else if(n=Vd(e,t,n,r),n!==null){var s=ke();et(n,e,r,s),df(n,t,r)}}function Pp(e,t,n){var r=Ut(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uf(e))cf(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,tt(l,i)){var u=t.interleaved;u===null?(s.next=s,al(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Vd(e,t,s,r),n!==null&&(s=ke(),et(n,e,r,s),df(n,t,r))}}function uf(e){var t=e.alternate;return e===se||t!==null&&t===se}function cf(e,t){Er=po=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function df(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qi(e,n)}}var go={readContext:We,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},Tp={readContext:We,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:We,useEffect:Pu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$s(4194308,4,nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $s(4194308,4,e,t)},useInsertionEffect:function(e,t){return $s(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ap.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:Au,useDebugValue:pl,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=Au(!1),t=e[0];return e=Rp.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=it();if(ee){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),pe===null)throw Error(D(349));mn&30||Qd(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Pu(Jd.bind(null,r,a,e),[e]),r.flags|=2048,qr(9,Yd.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=it(),t=pe.identifierPrefix;if(ee){var n=yt,r=xt;n=(r&~(1<<32-Ze(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Lp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Op={readContext:We,useCallback:sf,useContext:We,useEffect:ml,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:ma,useRef:Zd,useState:function(){return ma(Wr)},useDebugValue:pl,useDeferredValue:function(e){var t=qe();return af(t,fe.memoizedState,e)},useTransition:function(){var e=ma(Wr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Kd,useId:lf,unstable_isNewReconciler:!1},Dp={readContext:We,useCallback:sf,useContext:We,useEffect:ml,useImperativeHandle:rf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:pa,useRef:Zd,useState:function(){return pa(Wr)},useDebugValue:pl,useDeferredValue:function(e){var t=qe();return fe===null?t.memoizedState=e:af(t,fe.memoizedState,e)},useTransition:function(){var e=pa(Wr)[0],t=qe().memoizedState;return[e,t]},useMutableSource:qd,useSyncExternalStore:Kd,useId:lf,unstable_isNewReconciler:!1};function Qe(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Ut(e),a=vt(r,s);a.payload=t,n!=null&&(a.callback=n),t=Bt(e,a,s),t!==null&&(et(t,e,s,r),Fs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ke(),s=Ut(e),a=vt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Bt(e,a,s),t!==null&&(et(t,e,s,r),Fs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ke(),r=Ut(e),s=vt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Bt(e,s,r),t!==null&&(et(t,e,r,n),Fs(t,e,r))}};function Tu(e,t,n,r,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!$r(n,r)||!$r(s,a):!0}function ff(e,t,n){var r=!1,s=Qt,a=t.contextType;return typeof a=="object"&&a!==null?a=We(a):(s=Ae(t)?fn:je.current,r=t.contextTypes,a=(r=r!=null)?Wn(e,s):Qt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=To,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ou(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function ai(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},il(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=We(a):(a=Ae(t)?fn:je.current,s.context=Wn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(oi(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&To.enqueueReplaceState(s,s.state,null),ho(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var n="",r=t;do n+=um(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function ga(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ii(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fp=typeof WeakMap=="function"?WeakMap:Map;function hf(e,t,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){yo||(yo=!0,xi=r),ii(e,t)},n}function mf(e,t,n){n=vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ii(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ii(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Du(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Fp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Jp.bind(null,e,t,n),t.then(e,e))}function Fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vt(-1,1),t.tag=2,Bt(n,t,1))),n.lanes|=1),e)}var Ip=Et.ReactCurrentOwner,Le=!1;function Ne(e,t,n,r){t.child=e===null?Ud(t,null,n,r):Kn(t,e.child,n,r)}function $u(e,t,n,r,s){n=n.render;var a=t.ref;return Bn(t,s),r=fl(e,t,n,r,a,s),n=hl(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(ee&&n&&el(t),t.flags|=1,Ne(e,t,r,s),t.child)}function Mu(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Nl(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,pf(e,t,a,r,s)):(e=Us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(i,r)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Vt(a,r),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if($r(a,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,kt(e,t,s)}return li(e,t,n,r,s)}function gf(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Dn,Te),Te|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Dn,Te),Te|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,X(Dn,Te),Te|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,X(Dn,Te),Te|=r;return Ne(e,t,s,n),t.child}function xf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function li(e,t,n,r,s){var a=Ae(n)?fn:je.current;return a=Wn(t,a),Bn(t,s),n=fl(e,t,n,r,a,s),r=hl(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(ee&&r&&el(t),t.flags|=1,Ne(e,t,n,s),t.child)}function Bu(e,t,n,r,s){if(Ae(n)){var a=!0;io(t)}else a=!1;if(Bn(t,s),t.stateNode===null)Ms(e,t),ff(t,n,r),ai(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var u=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=We(c):(c=Ae(n)?fn:je.current,c=Wn(t,c));var m=n.getDerivedStateFromProps,d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Ou(t,i,r,c),Rt=!1;var p=t.memoizedState;i.state=p,ho(t,r,i,s),u=t.memoizedState,l!==r||p!==u||Re.current||Rt?(typeof m=="function"&&(oi(t,n,m,r),u=t.memoizedState),(l=Rt||Tu(t,n,l,r,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Hd(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Qe(t.type,l),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=We(u):(u=Ae(n)?fn:je.current,u=Wn(t,u));var v=n.getDerivedStateFromProps;(m=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==d||p!==u)&&Ou(t,i,r,u),Rt=!1,p=t.memoizedState,i.state=p,ho(t,r,i,s);var y=t.memoizedState;l!==d||p!==y||Re.current||Rt?(typeof v=="function"&&(oi(t,n,v,r),y=t.memoizedState),(c=Rt||Tu(t,n,c,r,p,y,u)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=u,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return ui(e,t,n,r,a,s)}function ui(e,t,n,r,s,a){xf(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Su(t,n,!1),kt(e,t,a);r=t.stateNode,Ip.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Kn(t,e.child,null,a),t.child=Kn(t,null,l,a)):Ne(e,t,l,a),t.memoizedState=r.state,s&&Su(t,n,!0),t.child}function yf(e){var t=e.stateNode;t.pendingContext?ku(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ku(e,t.context,!1),ll(e,t.containerInfo)}function zu(e,t,n,r,s){return qn(),nl(s),t.flags|=256,Ne(e,t,n,r),t.child}var ci={dehydrated:null,treeContext:null,retryLane:0};function di(e){return{baseLanes:e,cachePool:null,transitions:null}}function vf(e,t,n){var r=t.pendingProps,s=re.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(re,s&1),e===null)return ri(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Fo(i,r,0,null),e=cn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=di(n),t.memoizedState=ci,e):gl(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return $p(e,t,i,r,l,s,n);if(a){a=r.fallback,i=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Vt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Vt(l,a):(a=cn(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?di(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=ci,r}return a=e.child,e=a.sibling,r=Vt(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gl(e,t){return t=Fo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ns(e,t,n,r){return r!==null&&nl(r),Kn(t,e.child,null,n),e=gl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $p(e,t,n,r,s,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ga(Error(D(422))),Ns(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Fo({mode:"visible",children:r.children},s,0,null),a=cn(a,s,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Kn(t,e.child,null,i),t.child.memoizedState=di(i),t.memoizedState=ci,a);if(!(t.mode&1))return Ns(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(D(419)),r=ga(a,r,void 0),Ns(e,t,i,r)}if(l=(i&e.childLanes)!==0,Le||l){if(r=pe,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nt(e,s),et(r,e,s,-1))}return jl(),r=ga(Error(D(421))),Ns(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Xp.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Oe=Mt(s.nextSibling),De=t,ee=!0,Xe=null,e!==null&&(Be[ze++]=xt,Be[ze++]=yt,Be[ze++]=hn,xt=e.id,yt=e.overflow,hn=t),t=gl(t,r.children),t.flags|=4096,t)}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),si(e.return,t,n)}function xa(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function wf(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Ne(e,t,r.children,n),r=re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uu(e,n,t);else if(e.tag===19)Uu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(re,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&mo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),xa(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}xa(t,!0,n,null,a);break;case"together":xa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Vt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mp(e,t,n){switch(t.tag){case 3:yf(t),qn();break;case 5:Wd(t);break;case 1:Ae(t.type)&&io(t);break;case 4:ll(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;X(co,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(re,re.current&1),t.flags|=128,null):n&t.child.childLanes?vf(e,t,n):(X(re,re.current&1),e=kt(e,t,n),e!==null?e.sibling:null);X(re,re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wf(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(re,re.current),r)break;return null;case 22:case 23:return t.lanes=0,gf(e,t,n)}return kt(e,t,n)}var bf,fi,jf,Nf;bf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fi=function(){};jf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ln(dt.current);var a=null;switch(n){case"input":s=Oa(e,s),r=Oa(e,r),a=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),a=[];break;case"textarea":s=Ia(e,s),r=Ia(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=oo)}Ma(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ar.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ar.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&G("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};Nf=function(e,t,n,r){n!==r&&(t.flags|=4)};function fr(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bp(e,t,n){var r=t.pendingProps;switch(tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Ae(t.type)&&ao(),we(t),null;case 3:return r=t.stateNode,Qn(),Z(Re),Z(je),cl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(wi(Xe),Xe=null))),fi(e,t),we(t),null;case 5:ul(t);var s=ln(Vr.current);if(n=t.type,e!==null&&t.stateNode!=null)jf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return we(t),null}if(e=ln(dt.current),bs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[lt]=t,r[zr]=a,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(s=0;s<wr.length;s++)G(wr[s],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":Xl(r,a),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},G("invalid",r);break;case"textarea":Zl(r,a),G("invalid",r)}Ma(n,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ws(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ws(r.textContent,l,e),s=["children",""+l]):Ar.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&G("scroll",r)}switch(n){case"input":fs(r),Gl(r,a,!0);break;case"textarea":fs(r),eu(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=oo)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[lt]=t,e[zr]=r,bf(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ba(n,r),n){case"dialog":G("cancel",e),G("close",e),s=r;break;case"iframe":case"object":case"embed":G("load",e),s=r;break;case"video":case"audio":for(s=0;s<wr.length;s++)G(wr[s],e);s=r;break;case"source":G("error",e),s=r;break;case"img":case"image":case"link":G("error",e),G("load",e),s=r;break;case"details":G("toggle",e),s=r;break;case"input":Xl(e,r),s=Oa(e,r),G("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),G("invalid",e);break;case"textarea":Zl(e,r),s=Ia(e,r),G("invalid",e);break;default:s=r}Ma(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?Zc(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Xc(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Pr(e,u):typeof u=="number"&&Pr(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ar.hasOwnProperty(a)?u!=null&&a==="onScroll"&&G("scroll",e):u!=null&&Bi(e,a,u,i))}switch(n){case"input":fs(e),Gl(e,r,!1);break;case"textarea":fs(e),eu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kt(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Fn(e,!!r.multiple,a,!1):r.defaultValue!=null&&Fn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Nf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=ln(Vr.current),ln(dt.current),bs(t)){if(r=t.stateNode,n=t.memoizedProps,r[lt]=t,(a=r.nodeValue!==n)&&(e=De,e!==null))switch(e.tag){case 3:ws(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ws(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lt]=t,t.stateNode=r}return we(t),null;case 13:if(Z(re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Oe!==null&&t.mode&1&&!(t.flags&128))Bd(),qn(),t.flags|=98560,a=!1;else if(a=bs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[lt]=t}else qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),a=!1}else Xe!==null&&(wi(Xe),Xe=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?he===0&&(he=3):jl())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return Qn(),fi(e,t),e===null&&Mr(t.stateNode.containerInfo),we(t),null;case 10:return ol(t.type._context),we(t),null;case 17:return Ae(t.type)&&ao(),we(t),null;case 19:if(Z(re),a=t.memoizedState,a===null)return we(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)fr(a,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=mo(e),i!==null){for(t.flags|=128,fr(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(re,re.current&1|2),t.child}e=e.sibling}a.tail!==null&&le()>Jn&&(t.flags|=128,r=!0,fr(a,!1),t.lanes=4194304)}else{if(!r)if(e=mo(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ee)return we(t),null}else 2*le()-a.renderingStartTime>Jn&&n!==1073741824&&(t.flags|=128,r=!0,fr(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=le(),t.sibling=null,n=re.current,X(re,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return bl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Te&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function zp(e,t){switch(tl(t),t.tag){case 1:return Ae(t.type)&&ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),Z(Re),Z(je),cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(Z(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(re),null;case 4:return Qn(),null;case 10:return ol(t.type._context),null;case 22:case 23:return bl(),null;case 24:return null;default:return null}}var ks=!1,be=!1,Up=typeof WeakSet=="function"?WeakSet:Set,$=null;function On(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(e,t,r)}else n.current=null}function hi(e,t,n){try{n()}catch(r){ae(e,t,r)}}var Vu=!1;function Vp(e,t){if(Ja=no,e=Ed(),Zi(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,u=-1,c=0,m=0,d=e,p=null;t:for(;;){for(var v;d!==n||s!==0&&d.nodeType!==3||(l=i+s),d!==a||r!==0&&d.nodeType!==3||(u=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===n&&++c===s&&(l=i),p===a&&++m===r&&(u=i),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xa={focusedElem:e,selectionRange:n},no=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,f=t.stateNode,h=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:Qe(t.type,w),b);f.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(x){ae(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=Vu,Vu=!1,y}function _r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&hi(t,n,a)}s=s.next}while(s!==r)}}function Oo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mi(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kf(e){var t=e.alternate;t!==null&&(e.alternate=null,kf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[zr],delete t[ei],delete t[Sp],delete t[Cp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sf(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oo));else if(r!==4&&(e=e.child,e!==null))for(pi(e,t,n),e=e.sibling;e!==null;)pi(e,t,n),e=e.sibling}function gi(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(gi(e,t,n),e=e.sibling;e!==null;)gi(e,t,n),e=e.sibling}var ge=null,Ye=!1;function _t(e,t,n){for(n=n.child;n!==null;)Cf(e,t,n),n=n.sibling}function Cf(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Co,n)}catch{}switch(n.tag){case 5:be||On(n,t);case 6:var r=ge,s=Ye;ge=null,_t(e,t,n),ge=r,Ye=s,ge!==null&&(Ye?(e=ge,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Ye?(e=ge,n=n.stateNode,e.nodeType===8?ca(e.parentNode,n):e.nodeType===1&&ca(e,n),Fr(e)):ca(ge,n.stateNode));break;case 4:r=ge,s=Ye,ge=n.stateNode.containerInfo,Ye=!0,_t(e,t,n),ge=r,Ye=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&hi(n,t,i),s=s.next}while(s!==r)}_t(e,t,n);break;case 1:if(!be&&(On(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,t,l)}_t(e,t,n);break;case 21:_t(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,_t(e,t,n),be=r):_t(e,t,n);break;default:_t(e,t,n)}}function Wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Up),t.forEach(function(r){var s=Gp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ke(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,Ye=!1;break e;case 3:ge=l.stateNode.containerInfo,Ye=!0;break e;case 4:ge=l.stateNode.containerInfo,Ye=!0;break e}l=l.return}if(ge===null)throw Error(D(160));Cf(a,i,s),ge=null,Ye=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ae(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ef(t,e),t=t.sibling}function Ef(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),at(e),r&4){try{_r(3,e,e.return),Oo(3,e)}catch(w){ae(e,e.return,w)}try{_r(5,e,e.return)}catch(w){ae(e,e.return,w)}}break;case 1:Ke(t,e),at(e),r&512&&n!==null&&On(n,n.return);break;case 5:if(Ke(t,e),at(e),r&512&&n!==null&&On(n,n.return),e.flags&32){var s=e.stateNode;try{Pr(s,"")}catch(w){ae(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Qc(s,a),Ba(l,i);var c=Ba(l,a);for(i=0;i<u.length;i+=2){var m=u[i],d=u[i+1];m==="style"?Zc(s,d):m==="dangerouslySetInnerHTML"?Xc(s,d):m==="children"?Pr(s,d):Bi(s,m,d,c)}switch(l){case"input":Da(s,a);break;case"textarea":Yc(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Fn(s,!!a.multiple,v,!1):p!==!!a.multiple&&(a.defaultValue!=null?Fn(s,!!a.multiple,a.defaultValue,!0):Fn(s,!!a.multiple,a.multiple?[]:"",!1))}s[zr]=a}catch(w){ae(e,e.return,w)}}break;case 6:if(Ke(t,e),at(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(w){ae(e,e.return,w)}}break;case 3:if(Ke(t,e),at(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fr(t.containerInfo)}catch(w){ae(e,e.return,w)}break;case 4:Ke(t,e),at(e);break;case 13:Ke(t,e),at(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(vl=le())),r&4&&Wu(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(be=(c=be)||m,Ke(t,e),be=c):Ke(t,e),at(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!m&&e.mode&1)for($=e,m=e.child;m!==null;){for(d=$=m;$!==null;){switch(p=$,v=p.child,p.tag){case 0:case 11:case 14:case 15:_r(4,p,p.return);break;case 1:On(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ae(r,n,w)}}break;case 5:On(p,p.return);break;case 22:if(p.memoizedState!==null){Ku(d);continue}}v!==null?(v.return=p,$=v):Ku(d)}m=m.sibling}e:for(m=null,d=e;;){if(d.tag===5){if(m===null){m=d;try{s=d.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Gc("display",i))}catch(w){ae(e,e.return,w)}}}else if(d.tag===6){if(m===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(w){ae(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ke(t,e),at(e),r&4&&Wu(e);break;case 21:break;default:Ke(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sf(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pr(s,""),r.flags&=-33);var a=Hu(e);gi(e,a,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Hu(e);pi(e,l,i);break;default:throw Error(D(161))}}catch(u){ae(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Hp(e,t,n){$=e,_f(e)}function _f(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,a=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ks;if(!i){var l=s.alternate,u=l!==null&&l.memoizedState!==null||be;l=ks;var c=be;if(ks=i,(be=u)&&!c)for($=s;$!==null;)i=$,u=i.child,i.tag===22&&i.memoizedState!==null?Qu(s):u!==null?(u.return=i,$=u):Qu(s);for(;a!==null;)$=a,_f(a),a=a.sibling;$=s,ks=l,be=c}qu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,$=a):qu(e)}}function qu(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Oo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Qe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ru(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ru(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var d=m.dehydrated;d!==null&&Fr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}be||t.flags&512&&mi(t)}catch(p){ae(t,t.return,p)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function Ku(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function Qu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Oo(4,t)}catch(u){ae(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ae(t,s,u)}}var a=t.return;try{mi(t)}catch(u){ae(t,a,u)}break;case 5:var i=t.return;try{mi(t)}catch(u){ae(t,i,u)}}}catch(u){ae(t,t.return,u)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Wp=Math.ceil,xo=Et.ReactCurrentDispatcher,xl=Et.ReactCurrentOwner,He=Et.ReactCurrentBatchConfig,Q=0,pe=null,ue=null,xe=0,Te=0,Dn=Xt(0),he=0,Kr=null,pn=0,Do=0,yl=0,Lr=null,_e=null,vl=0,Jn=1/0,pt=null,yo=!1,xi=null,zt=null,Ss=!1,Dt=null,vo=0,Rr=0,yi=null,Bs=-1,zs=0;function ke(){return Q&6?le():Bs!==-1?Bs:Bs=le()}function Ut(e){return e.mode&1?Q&2&&xe!==0?xe&-xe:_p.transition!==null?(zs===0&&(zs=dd()),zs):(e=J,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function et(e,t,n,r){if(50<Rr)throw Rr=0,yi=null,Error(D(185));ns(e,n,r),(!(Q&2)||e!==pe)&&(e===pe&&(!(Q&2)&&(Do|=n),he===4&&Pt(e,xe)),Pe(e,r),n===1&&Q===0&&!(t.mode&1)&&(Jn=le()+500,Ao&&Gt()))}function Pe(e,t){var n=e.callbackNode;_m(e,t);var r=to(e,e===pe?xe:0);if(r===0)n!==null&&ru(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ru(n),t===1)e.tag===0?Ep(Yu.bind(null,e)):Id(Yu.bind(null,e)),Np(function(){!(Q&6)&&Gt()}),n=null;else{switch(fd(r)){case 1:n=Wi;break;case 4:n=ud;break;case 16:n=eo;break;case 536870912:n=cd;break;default:n=eo}n=Ff(n,Lf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lf(e,t){if(Bs=-1,zs=0,Q&6)throw Error(D(327));var n=e.callbackNode;if(zn()&&e.callbackNode!==n)return null;var r=to(e,e===pe?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=wo(e,r);else{t=r;var s=Q;Q|=2;var a=Af();(pe!==e||xe!==t)&&(pt=null,Jn=le()+500,un(e,t));do try{Qp();break}catch(l){Rf(e,l)}while(!0);sl(),xo.current=a,Q=s,ue!==null?t=0:(pe=null,xe=0,t=he)}if(t!==0){if(t===2&&(s=Wa(e),s!==0&&(r=s,t=vi(e,s))),t===1)throw n=Kr,un(e,0),Pt(e,r),Pe(e,le()),n;if(t===6)Pt(e,r);else{if(s=e.current.alternate,!(r&30)&&!qp(s)&&(t=wo(e,r),t===2&&(a=Wa(e),a!==0&&(r=a,t=vi(e,a))),t===1))throw n=Kr,un(e,0),Pt(e,r),Pe(e,le()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:rn(e,_e,pt);break;case 3:if(Pt(e,r),(r&130023424)===r&&(t=vl+500-le(),10<t)){if(to(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Za(rn.bind(null,e,_e,pt),t);break}rn(e,_e,pt);break;case 4:if(Pt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-Ze(r);a=1<<i,i=t[i],i>s&&(s=i),r&=~a}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wp(r/1960))-r,10<r){e.timeoutHandle=Za(rn.bind(null,e,_e,pt),r);break}rn(e,_e,pt);break;case 5:rn(e,_e,pt);break;default:throw Error(D(329))}}}return Pe(e,le()),e.callbackNode===n?Lf.bind(null,e):null}function vi(e,t){var n=Lr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=wo(e,t),e!==2&&(t=_e,_e=n,t!==null&&wi(t)),e}function wi(e){_e===null?_e=e:_e.push.apply(_e,e)}function qp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!tt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~yl,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ze(t),r=1<<n;e[n]=-1,t&=~r}}function Yu(e){if(Q&6)throw Error(D(327));zn();var t=to(e,0);if(!(t&1))return Pe(e,le()),null;var n=wo(e,t);if(e.tag!==0&&n===2){var r=Wa(e);r!==0&&(t=r,n=vi(e,r))}if(n===1)throw n=Kr,un(e,0),Pt(e,t),Pe(e,le()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rn(e,_e,pt),Pe(e,le()),null}function wl(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Jn=le()+500,Ao&&Gt())}}function gn(e){Dt!==null&&Dt.tag===0&&!(Q&6)&&zn();var t=Q;Q|=1;var n=He.transition,r=J;try{if(He.transition=null,J=1,e)return e()}finally{J=r,He.transition=n,Q=t,!(Q&6)&&Gt()}}function bl(){Te=Dn.current,Z(Dn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,jp(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(tl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ao();break;case 3:Qn(),Z(Re),Z(je),cl();break;case 5:ul(r);break;case 4:Qn();break;case 13:Z(re);break;case 19:Z(re);break;case 10:ol(r.type._context);break;case 22:case 23:bl()}n=n.return}if(pe=e,ue=e=Vt(e.current,null),xe=Te=t,he=0,Kr=null,yl=Do=pn=0,_e=Lr=null,an!==null){for(t=0;t<an.length;t++)if(n=an[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=s,r.next=i}n.pending=r}an=null}return e}function Rf(e,t){do{var n=ue;try{if(sl(),Is.current=go,po){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}po=!1}if(mn=0,me=fe=se=null,Er=!1,Hr=0,xl.current=null,n===null||n.return===null){he=1,Kr=t,ue=null;break}e:{var a=e,i=n.return,l=n,u=t;if(t=xe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,m=l,d=m.tag;if(!(m.mode&1)&&(d===0||d===11||d===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=Fu(i);if(v!==null){v.flags&=-257,Iu(v,i,l,a,t),v.mode&1&&Du(a,c,t),t=v,u=c;var y=t.updateQueue;if(y===null){var w=new Set;w.add(u),t.updateQueue=w}else y.add(u);break e}else{if(!(t&1)){Du(a,c,t),jl();break e}u=Error(D(426))}}else if(ee&&l.mode&1){var b=Fu(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Iu(b,i,l,a,t),nl(Yn(u,l));break e}}a=u=Yn(u,l),he!==4&&(he=2),Lr===null?Lr=[a]:Lr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=hf(a,u,t);Lu(a,f);break e;case 1:l=u;var h=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zt===null||!zt.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=mf(a,l,t);Lu(a,x);break e}}a=a.return}while(a!==null)}Tf(n)}catch(k){t=k,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function Af(){var e=xo.current;return xo.current=go,e===null?go:e}function jl(){(he===0||he===3||he===2)&&(he=4),pe===null||!(pn&268435455)&&!(Do&268435455)||Pt(pe,xe)}function wo(e,t){var n=Q;Q|=2;var r=Af();(pe!==e||xe!==t)&&(pt=null,un(e,t));do try{Kp();break}catch(s){Rf(e,s)}while(!0);if(sl(),Q=n,xo.current=r,ue!==null)throw Error(D(261));return pe=null,xe=0,he}function Kp(){for(;ue!==null;)Pf(ue)}function Qp(){for(;ue!==null&&!vm();)Pf(ue)}function Pf(e){var t=Df(e.alternate,e,Te);e.memoizedProps=e.pendingProps,t===null?Tf(e):ue=t,xl.current=null}function Tf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zp(n,t),n!==null){n.flags&=32767,ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,ue=null;return}}else if(n=Bp(n,t,Te),n!==null){ue=n;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);he===0&&(he=5)}function rn(e,t,n){var r=J,s=He.transition;try{He.transition=null,J=1,Yp(e,t,n,r)}finally{He.transition=s,J=r}return null}function Yp(e,t,n,r){do zn();while(Dt!==null);if(Q&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Lm(e,a),e===pe&&(ue=pe=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,Ff(eo,function(){return zn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=He.transition,He.transition=null;var i=J;J=1;var l=Q;Q|=4,xl.current=null,Vp(e,n),Ef(n,e),pp(Xa),no=!!Ja,Xa=Ja=null,e.current=n,Hp(n),wm(),Q=l,J=i,He.transition=a}else e.current=n;if(Ss&&(Ss=!1,Dt=e,vo=s),a=e.pendingLanes,a===0&&(zt=null),Nm(n.stateNode),Pe(e,le()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yo)throw yo=!1,e=xi,xi=null,e;return vo&1&&e.tag!==0&&zn(),a=e.pendingLanes,a&1?e===yi?Rr++:(Rr=0,yi=e):Rr=0,Gt(),null}function zn(){if(Dt!==null){var e=fd(vo),t=He.transition,n=J;try{if(He.transition=null,J=16>e?16:e,Dt===null)var r=!1;else{if(e=Dt,Dt=null,vo=0,Q&6)throw Error(D(331));var s=Q;for(Q|=4,$=e.current;$!==null;){var a=$,i=a.child;if($.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for($=c;$!==null;){var m=$;switch(m.tag){case 0:case 11:case 15:_r(8,m,a)}var d=m.child;if(d!==null)d.return=m,$=d;else for(;$!==null;){m=$;var p=m.sibling,v=m.return;if(kf(m),m===c){$=null;break}if(p!==null){p.return=v,$=p;break}$=v}}}var y=a.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}$=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,$=i;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_r(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,$=f;break e}$=a.return}}var h=e.current;for($=h;$!==null;){i=$;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,$=g;else e:for(i=h;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oo(9,l)}}catch(k){ae(l,l.return,k)}if(l===i){$=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,$=x;break e}$=l.return}}if(Q=s,Gt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Co,e)}catch{}r=!0}return r}finally{J=n,He.transition=t}}return!1}function Ju(e,t,n){t=Yn(n,t),t=hf(e,t,1),e=Bt(e,t,1),t=ke(),e!==null&&(ns(e,1,t),Pe(e,t))}function ae(e,t,n){if(e.tag===3)Ju(e,e,n);else for(;t!==null;){if(t.tag===3){Ju(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=Yn(n,e),e=mf(t,e,1),t=Bt(t,e,1),e=ke(),t!==null&&(ns(t,1,e),Pe(t,e));break}}t=t.return}}function Jp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(xe&n)===n&&(he===4||he===3&&(xe&130023424)===xe&&500>le()-vl?un(e,0):yl|=n),Pe(e,t)}function Of(e,t){t===0&&(e.mode&1?(t=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):t=1);var n=ke();e=Nt(e,t),e!==null&&(ns(e,t,n),Pe(e,n))}function Xp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Of(e,n)}function Gp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),Of(e,n)}var Df;Df=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Re.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Mp(e,t,n);Le=!!(e.flags&131072)}else Le=!1,ee&&t.flags&1048576&&$d(t,uo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ms(e,t),e=t.pendingProps;var s=Wn(t,je.current);Bn(t,n),s=fl(null,t,r,e,s,n);var a=hl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(a=!0,io(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,il(t),s.updater=To,t.stateNode=s,s._reactInternals=t,ai(t,r,e,n),t=ui(null,t,r,!0,a,n)):(t.tag=0,ee&&a&&el(t),Ne(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=eg(r),e=Qe(r,e),s){case 0:t=li(null,t,r,e,n);break e;case 1:t=Bu(null,t,r,e,n);break e;case 11:t=$u(null,t,r,e,n);break e;case 14:t=Mu(null,t,r,Qe(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qe(r,s),li(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qe(r,s),Bu(e,t,r,s,n);case 3:e:{if(yf(t),e===null)throw Error(D(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Hd(e,t),ho(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Yn(Error(D(423)),t),t=zu(e,t,r,n,s);break e}else if(r!==s){s=Yn(Error(D(424)),t),t=zu(e,t,r,n,s);break e}else for(Oe=Mt(t.stateNode.containerInfo.firstChild),De=t,ee=!0,Xe=null,n=Ud(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qn(),r===s){t=kt(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return Wd(t),e===null&&ri(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Ga(r,s)?i=null:a!==null&&Ga(r,a)&&(t.flags|=32),xf(e,t),Ne(e,t,i,n),t.child;case 6:return e===null&&ri(t),null;case 13:return vf(e,t,n);case 4:return ll(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kn(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qe(r,s),$u(e,t,r,s,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,X(co,r._currentValue),r._currentValue=i,a!==null)if(tt(a.value,i)){if(a.children===s.children&&!Re.current){t=kt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=vt(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?u.next=u:(u.next=m.next,m.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),si(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(D(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),si(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Ne(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bn(t,n),s=We(s),r=r(s),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,s=Qe(r,t.pendingProps),s=Qe(r.type,s),Mu(e,t,r,s,n);case 15:return pf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Qe(r,s),Ms(e,t),t.tag=1,Ae(r)?(e=!0,io(t)):e=!1,Bn(t,n),ff(t,r,s),ai(t,r,s,n),ui(null,t,r,!0,e,n);case 19:return wf(e,t,n);case 22:return gf(e,t,n)}throw Error(D(156,t.tag))};function Ff(e,t){return ld(e,t)}function Zp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,n,r){return new Zp(e,t,n,r)}function Nl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eg(e){if(typeof e=="function")return Nl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ui)return 11;if(e===Vi)return 14}return 2}function Vt(e,t){var n=e.alternate;return n===null?(n=Ve(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,s,a){var i=2;if(r=e,typeof e=="function")Nl(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Sn:return cn(n.children,s,a,t);case zi:i=8,s|=8;break;case Ra:return e=Ve(12,n,t,s|2),e.elementType=Ra,e.lanes=a,e;case Aa:return e=Ve(13,n,t,s),e.elementType=Aa,e.lanes=a,e;case Pa:return e=Ve(19,n,t,s),e.elementType=Pa,e.lanes=a,e;case Wc:return Fo(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vc:i=10;break e;case Hc:i=9;break e;case Ui:i=11;break e;case Vi:i=14;break e;case Lt:i=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Ve(i,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function cn(e,t,n,r){return e=Ve(7,e,r,t),e.lanes=n,e}function Fo(e,t,n,r){return e=Ve(22,e,r,t),e.elementType=Wc,e.lanes=n,e.stateNode={isHidden:!1},e}function ya(e,t,n){return e=Ve(6,e,null,t),e.lanes=n,e}function va(e,t,n){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function tg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zo(0),this.expirationTimes=Zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kl(e,t,n,r,s,a,i,l,u){return e=new tg(e,t,n,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ve(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(a),e}function ng(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function If(e){if(!e)return Qt;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Fd(e,n,t)}return t}function $f(e,t,n,r,s,a,i,l,u){return e=kl(n,r,!0,e,s,a,i,l,u),e.context=If(null),n=e.current,r=ke(),s=Ut(n),a=vt(r,s),a.callback=t??null,Bt(n,a,s),e.current.lanes=s,ns(e,s,r),Pe(e,r),e}function Io(e,t,n,r){var s=t.current,a=ke(),i=Ut(s);return n=If(n),t.context===null?t.context=n:t.pendingContext=n,t=vt(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bt(s,t,i),e!==null&&(et(e,s,i,a),Fs(e,s,i)),i}function bo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sl(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}function rg(){return null}var Mf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cl(e){this._internalRoot=e}$o.prototype.render=Cl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Io(e,t,null,null)};$o.prototype.unmount=Cl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){Io(null,e,null,null)}),t[jt]=null}};function $o(e){this._internalRoot=e}$o.prototype.unstable_scheduleHydration=function(e){if(e){var t=pd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&t!==0&&t<At[n].priority;n++);At.splice(n,0,e),n===0&&xd(e)}};function El(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gu(){}function sg(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var c=bo(i);a.call(c)}}var i=$f(t,r,e,0,null,!1,!1,"",Gu);return e._reactRootContainer=i,e[jt]=i.current,Mr(e.nodeType===8?e.parentNode:e),gn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=bo(u);l.call(c)}}var u=kl(e,0,!1,null,null,!1,!1,"",Gu);return e._reactRootContainer=u,e[jt]=u.current,Mr(e.nodeType===8?e.parentNode:e),gn(function(){Io(t,u,n,r)}),u}function Bo(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var u=bo(i);l.call(u)}}Io(t,i,e,s)}else i=sg(n,t,e,s,r);return bo(i)}hd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(qi(t,n|1),Pe(t,le()),!(Q&6)&&(Jn=le()+500,Gt()))}break;case 13:gn(function(){var r=Nt(e,1);if(r!==null){var s=ke();et(r,e,1,s)}}),Sl(e,1)}};Ki=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=ke();et(t,e,134217728,n)}Sl(e,134217728)}};md=function(e){if(e.tag===13){var t=Ut(e),n=Nt(e,t);if(n!==null){var r=ke();et(n,e,t,r)}Sl(e,t)}};pd=function(){return J};gd=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Ua=function(e,t,n){switch(t){case"input":if(Da(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ro(r);if(!s)throw Error(D(90));Kc(r),Da(r,s)}}}break;case"textarea":Yc(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}};nd=wl;rd=gn;var og={usingClientEntryPoint:!1,Events:[ss,Ln,Ro,ed,td,wl]},hr={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ag={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ad(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||rg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{Co=Cs.inject(ag),ct=Cs}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!El(t))throw Error(D(200));return ng(e,t,null,n)};$e.createRoot=function(e,t){if(!El(e))throw Error(D(299));var n=!1,r="",s=Mf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kl(e,1,!1,null,null,n,!1,r,s),e[jt]=t.current,Mr(e.nodeType===8?e.parentNode:e),new Cl(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=ad(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return gn(e)};$e.hydrate=function(e,t,n){if(!Mo(t))throw Error(D(200));return Bo(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!El(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",i=Mf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=$f(t,null,e,1,n??null,s,!1,a,i),e[jt]=t.current,Mr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $o(t)};$e.render=function(e,t,n){if(!Mo(t))throw Error(D(200));return Bo(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!Mo(e))throw Error(D(40));return e._reactRootContainer?(gn(function(){Bo(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1};$e.unstable_batchedUpdates=wl;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mo(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Bo(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function Bf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bf)}catch(e){console.error(e)}}Bf(),Mc.exports=$e;var ig=Mc.exports,zf,Zu=ig;zf=Zu.createRoot,Zu.hydrateRoot;let lg={data:""},ug=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||lg},cg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dg=/\/\*[^]*?\*\/|  +/g,ec=/\n+/g,Tt=(e,t)=>{let n="",r="",s="";for(let a in e){let i=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+i+";":r+=a[1]=="f"?Tt(i,a):a+"{"+Tt(i,a[1]=="k"?"":t)+"}":typeof i=="object"?r+=Tt(i,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):i!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Tt.p?Tt.p(a,i):a+":"+i+";")}return n+(t&&s?t+"{"+s+"}":s)+r},mt={},Uf=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Uf(e[n]);return t}return e},fg=(e,t,n,r,s)=>{let a=Uf(e),i=mt[a]||(mt[a]=(u=>{let c=0,m=11;for(;c<u.length;)m=101*m+u.charCodeAt(c++)>>>0;return"go"+m})(a));if(!mt[i]){let u=a!==e?e:(c=>{let m,d,p=[{}];for(;m=cg.exec(c.replace(dg,""));)m[4]?p.shift():m[3]?(d=m[3].replace(ec," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][m[1]]=m[2].replace(ec," ").trim();return p[0]})(e);mt[i]=Tt(s?{["@keyframes "+i]:u}:u,n?"":"."+i)}let l=n&&mt.g?mt.g:null;return n&&(mt.g=mt[i]),((u,c,m,d)=>{d?c.data=c.data.replace(d,u):c.data.indexOf(u)===-1&&(c.data=m?u+c.data:c.data+u)})(mt[i],t,r,l),i},hg=(e,t,n)=>e.reduce((r,s,a)=>{let i=t[a];if(i&&i.call){let l=i(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=u?"."+u:l&&typeof l=="object"?l.props?"":Tt(l,""):l===!1?"":l}return r+s+(i??"")},"");function zo(e){let t=this||{},n=e.call?e(t.p):e;return fg(n.unshift?n.raw?hg(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,ug(t.target),t.g,t.o,t.k)}let Vf,bi,ji;zo.bind({g:1});let St=zo.bind({k:1});function mg(e,t,n,r){Tt.p=t,Vf=e,bi=n,ji=r}function Zt(e,t){let n=this||{};return function(){let r=arguments;function s(a,i){let l=Object.assign({},a),u=l.className||s.className;n.p=Object.assign({theme:bi&&bi()},l),n.o=/ *go\d+/.test(u),l.className=zo.apply(n,r)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),ji&&c[0]&&ji(l),Vf(c,l)}return s}}var pg=e=>typeof e=="function",jo=(e,t)=>pg(e)?e(t):e,gg=(()=>{let e=0;return()=>(++e).toString()})(),Hf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),xg=20,_l="default",Wf=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Wf(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},Vs=[],qf={toasts:[],pausedAt:void 0,settings:{toastLimit:xg}},ut={},Kf=(e,t=_l)=>{ut[t]=Wf(ut[t]||qf,e),Vs.forEach(([n,r])=>{n===t&&r(ut[t])})},Qf=e=>Object.keys(ut).forEach(t=>Kf(e,t)),yg=e=>Object.keys(ut).find(t=>ut[t].toasts.some(n=>n.id===e)),Uo=(e=_l)=>t=>{Kf(t,e)},vg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wg=(e={},t=_l)=>{let[n,r]=j.useState(ut[t]||qf),s=j.useRef(ut[t]);j.useEffect(()=>(s.current!==ut[t]&&r(ut[t]),Vs.push([t,r]),()=>{let i=Vs.findIndex(([l])=>l===t);i>-1&&Vs.splice(i,1)}),[t]);let a=n.toasts.map(i=>{var l,u,c;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((l=e[i.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||vg[i.type],style:{...e.style,...(c=e[i.type])==null?void 0:c.style,...i.style}}});return{...n,toasts:a}},bg=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||gg()}),as=e=>(t,n)=>{let r=bg(t,e,n);return Uo(r.toasterId||yg(r.id))({type:2,toast:r}),r.id},K=(e,t)=>as("blank")(e,t);K.error=as("error");K.success=as("success");K.loading=as("loading");K.custom=as("custom");K.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Uo(t)(n):Qf(n)};K.dismissAll=e=>K.dismiss(void 0,e);K.remove=(e,t)=>{let n={type:4,toastId:e};t?Uo(t)(n):Qf(n)};K.removeAll=e=>K.remove(void 0,e);K.promise=(e,t,n)=>{let r=K.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?jo(t.success,s):void 0;return a?K.success(a,{id:r,...n,...n==null?void 0:n.success}):K.dismiss(r),s}).catch(s=>{let a=t.error?jo(t.error,s):void 0;a?K.error(a,{id:r,...n,...n==null?void 0:n.error}):K.dismiss(r)}),e};var jg=1e3,Ng=(e,t="default")=>{let{toasts:n,pausedAt:r}=wg(e,t),s=j.useRef(new Map).current,a=j.useCallback((d,p=jg)=>{if(s.has(d))return;let v=setTimeout(()=>{s.delete(d),i({type:4,toastId:d})},p);s.set(d,v)},[]);j.useEffect(()=>{if(r)return;let d=Date.now(),p=n.map(v=>{if(v.duration===1/0)return;let y=(v.duration||0)+v.pauseDuration-(d-v.createdAt);if(y<0){v.visible&&K.dismiss(v.id);return}return setTimeout(()=>K.dismiss(v.id,t),y)});return()=>{p.forEach(v=>v&&clearTimeout(v))}},[n,r,t]);let i=j.useCallback(Uo(t),[t]),l=j.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=j.useCallback((d,p)=>{i({type:1,toast:{id:d,height:p}})},[i]),c=j.useCallback(()=>{r&&i({type:6,time:Date.now()})},[r,i]),m=j.useCallback((d,p)=>{let{reverseOrder:v=!1,gutter:y=8,defaultPosition:w}=p||{},b=n.filter(g=>(g.position||w)===(d.position||w)&&g.height),f=b.findIndex(g=>g.id===d.id),h=b.filter((g,x)=>x<f&&g.visible).length;return b.filter(g=>g.visible).slice(...v?[h+1]:[0,h]).reduce((g,x)=>g+(x.height||0)+y,0)},[n]);return j.useEffect(()=>{n.forEach(d=>{if(d.dismissed)a(d.id,d.removeDelay);else{let p=s.get(d.id);p&&(clearTimeout(p),s.delete(d.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:m}}},kg=St`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Sg=St`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cg=St`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Eg=Zt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Sg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Cg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_g=St`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Lg=Zt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_g} 1s linear infinite;
`,Rg=St`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ag=St`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Pg=Zt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ag} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Tg=Zt("div")`
  position: absolute;
`,Og=Zt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Dg=St`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Fg=Zt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Dg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ig=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?j.createElement(Fg,null,t):t:n==="blank"?null:j.createElement(Og,null,j.createElement(Lg,{...r}),n!=="loading"&&j.createElement(Tg,null,n==="error"?j.createElement(Eg,{...r}):j.createElement(Pg,{...r})))},$g=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mg=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Bg="0%{opacity:0;} 100%{opacity:1;}",zg="0%{opacity:1;} 100%{opacity:0;}",Ug=Zt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vg=Zt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Hg=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=Hf()?[Bg,zg]:[$g(n),Mg(n)];return{animation:t?`${St(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${St(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Wg=j.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?Hg(e.position||t||"top-center",e.visible):{opacity:0},a=j.createElement(Ig,{toast:e}),i=j.createElement(Vg,{...e.ariaProps},jo(e.message,e));return j.createElement(Ug,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:a,message:i}):j.createElement(j.Fragment,null,a,i))});mg(j.createElement);var qg=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=j.useCallback(i=>{if(i){let l=()=>{let u=i.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return j.createElement("div",{ref:a,className:t,style:n},s)},Kg=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},Qg=zo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Es=16,Yg=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,toasterId:a,containerStyle:i,containerClassName:l})=>{let{toasts:u,handlers:c}=Ng(n,a);return j.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Es,left:Es,right:Es,bottom:Es,pointerEvents:"none",...i},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(m=>{let d=m.position||t,p=c.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),v=Kg(d,p);return j.createElement(qg,{id:m.id,key:m.id,onHeightUpdate:c.updateHeight,className:m.visible?Qg:"",style:v},m.type==="custom"?jo(m.message,m):s?s(m):j.createElement(Wg,{toast:m,position:d}))}))},Ee=K;/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tc="popstate";function Jg(e={}){function t(r,s){let{pathname:a,search:i,hash:l}=r.location;return Ni("",{pathname:a,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Qr(s)}return Gg(t,n,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ie(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Xg(){return Math.random().toString(36).substring(2,10)}function nc(e,t){return{usr:e.state,key:e.key,idx:t}}function Ni(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?er(t):t,state:n,key:t&&t.key||r||Xg()}}function Qr({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function er(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Gg(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,l="POP",u=null,c=m();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function m(){return(i.state||{idx:null}).idx}function d(){l="POP";let b=m(),f=b==null?null:b-c;c=b,u&&u({action:l,location:w.location,delta:f})}function p(b,f){l="PUSH";let h=Ni(w.location,b,f);c=m()+1;let g=nc(h,c),x=w.createHref(h);try{i.pushState(g,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}a&&u&&u({action:l,location:w.location,delta:1})}function v(b,f){l="REPLACE";let h=Ni(w.location,b,f);c=m();let g=nc(h,c),x=w.createHref(h);i.replaceState(g,"",x),a&&u&&u({action:l,location:w.location,delta:0})}function y(b){return Zg(b)}let w={get action(){return l},get location(){return e(s,i)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(tc,d),u=b,()=>{s.removeEventListener(tc,d),u=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let f=y(b);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:v,go(b){return i.go(b)}};return w}function Zg(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),te(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Qr(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Yf(e,t,n="/"){return e0(e,t,n,!1)}function e0(e,t,n,r){let s=typeof t=="string"?er(t):t,a=Ct(s.pathname||"/",n);if(a==null)return null;let i=Jf(e);t0(i);let l=null;for(let u=0;l==null&&u<i.length;++u){let c=f0(a);l=c0(i[u],c,r)}return l}function Jf(e,t=[],n=[],r="",s=!1){let a=(i,l,u=s,c)=>{let m={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&u)return;te(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let d=wt([r,m.relativePath]),p=n.concat(m);i.children&&i.children.length>0&&(te(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),Jf(i.children,t,p,d,u)),!(i.path==null&&!i.index)&&t.push({path:d,score:l0(d,i.index),routesMeta:p})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,l);else for(let c of Xf(i.path))a(i,l,!0,c)}),t}function Xf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let i=Xf(r.join("/")),l=[];return l.push(...i.map(u=>u===""?a:[a,u].join("/"))),s&&l.push(...i),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function t0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:u0(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var n0=/^:[\w-]+$/,r0=3,s0=2,o0=1,a0=10,i0=-2,rc=e=>e==="*";function l0(e,t){let n=e.split("/"),r=n.length;return n.some(rc)&&(r+=i0),t&&(r+=s0),n.filter(s=>!rc(s)).reduce((s,a)=>s+(n0.test(a)?r0:a===""?o0:a0),r)}function u0(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function c0(e,t,n=!1){let{routesMeta:r}=e,s={},a="/",i=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,m=a==="/"?t:t.slice(a.length)||"/",d=No({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},m),p=u.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=No({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},m)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:wt([a,d.pathname]),pathnameBase:x0(wt([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=wt([a,d.pathnameBase]))}return i}function No(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=d0(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,{paramName:m,isOptional:d},p)=>{if(m==="*"){let y=l[p]||"";i=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return d&&!v?c[m]=void 0:c[m]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function d0(e,t=!1,n=!0){Ie(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function f0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ie(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ct(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m0=e=>h0.test(e);function p0(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?er(e):e,a;if(n)if(m0(n))a=n;else{if(n.includes("//")){let i=n;n=n.replace(/\/\/+/g,"/"),Ie(!1,`Pathnames cannot have embedded double slashes - normalizing ${i} -> ${n}`)}n.startsWith("/")?a=sc(n.substring(1),"/"):a=sc(n,t)}else a=t;return{pathname:a,search:y0(r),hash:v0(s)}}function sc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function wa(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function g0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ll(e){let t=g0(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Rl(e,t,n,r=!1){let s;typeof e=="string"?s=er(e):(s={...e},te(!s.pathname||!s.pathname.includes("?"),wa("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),wa("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),wa("#","search","hash",s)));let a=e===""||s.pathname==="",i=a?"/":s.pathname,l;if(i==null)l=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}l=d>=0?t[d]:"/"}let u=p0(s,l),c=i&&i!=="/"&&i.endsWith("/"),m=(a||i===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||m)&&(u.pathname+="/"),u}var wt=e=>e.join("/").replace(/\/\/+/g,"/"),x0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),y0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,v0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gf=["POST","PUT","PATCH","DELETE"];new Set(Gf);var b0=["GET",...Gf];new Set(b0);var tr=j.createContext(null);tr.displayName="DataRouter";var Vo=j.createContext(null);Vo.displayName="DataRouterState";j.createContext(!1);var Zf=j.createContext({isTransitioning:!1});Zf.displayName="ViewTransition";var j0=j.createContext(new Map);j0.displayName="Fetchers";var N0=j.createContext(null);N0.displayName="Await";var nt=j.createContext(null);nt.displayName="Navigation";var is=j.createContext(null);is.displayName="Location";var rt=j.createContext({outlet:null,matches:[],isDataRoute:!1});rt.displayName="Route";var Al=j.createContext(null);Al.displayName="RouteError";function k0(e,{relative:t}={}){te(nr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=j.useContext(nt),{hash:s,pathname:a,search:i}=ls(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:wt([n,a])),r.createHref({pathname:l,search:i,hash:s})}function nr(){return j.useContext(is)!=null}function ht(){return te(nr(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(is).location}var eh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function th(e){j.useContext(nt).static||j.useLayoutEffect(e)}function en(){let{isDataRoute:e}=j.useContext(rt);return e?$0():S0()}function S0(){te(nr(),"useNavigate() may be used only in the context of a <Router> component.");let e=j.useContext(tr),{basename:t,navigator:n}=j.useContext(nt),{matches:r}=j.useContext(rt),{pathname:s}=ht(),a=JSON.stringify(Ll(r)),i=j.useRef(!1);return th(()=>{i.current=!0}),j.useCallback((u,c={})=>{if(Ie(i.current,eh),!i.current)return;if(typeof u=="number"){n.go(u);return}let m=Rl(u,JSON.parse(a),s,c.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:wt([t,m.pathname])),(c.replace?n.replace:n.push)(m,c.state,c)},[t,n,a,s,e])}var nh=j.createContext(null);function Un(){return j.useContext(nh)}function C0(e){let t=j.useContext(rt).outlet;return j.useMemo(()=>t&&j.createElement(nh.Provider,{value:e},t),[t,e])}function ls(e,{relative:t}={}){let{matches:n}=j.useContext(rt),{pathname:r}=ht(),s=JSON.stringify(Ll(n));return j.useMemo(()=>Rl(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function E0(e,t){return rh(e,t)}function rh(e,t,n,r,s){var h;te(nr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=j.useContext(nt),{matches:i}=j.useContext(rt),l=i[i.length-1],u=l?l.params:{},c=l?l.pathname:"/",m=l?l.pathnameBase:"/",d=l&&l.route;{let g=d&&d.path||"";sh(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let p=ht(),v;if(t){let g=typeof t=="string"?er(t):t;te(m==="/"||((h=g.pathname)==null?void 0:h.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${g.pathname}" was given in the \`location\` prop.`),v=g}else v=p;let y=v.pathname||"/",w=y;if(m!=="/"){let g=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=Yf(e,{pathname:w});Ie(d||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ie(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let f=P0(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:wt([m,a.encodeLocation?a.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?m:wt([m,a.encodeLocation?a.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),i,n,r,s);return t&&f?j.createElement(is.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},f):f}function _0(){let e=I0(),t=w0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:a},"ErrorBoundary")," or"," ",j.createElement("code",{style:a},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:s},n):null,i)}var L0=j.createElement(_0,null),R0=class extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?j.createElement(rt.Provider,{value:this.props.routeContext},j.createElement(Al.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A0({routeContext:e,match:t,children:n}){let r=j.useContext(tr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(rt.Provider,{value:e},n)}function P0(e,t=[],n=null,r=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,i=n==null?void 0:n.errors;if(i!=null){let m=a.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);te(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let l=!1,u=-1;if(n)for(let m=0;m<a.length;m++){let d=a[m];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=m),d.route.id){let{loaderData:p,errors:v}=n,y=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(m,d)=>{var p,v;r(m,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},errorInfo:d})}:void 0;return a.reduceRight((m,d,p)=>{let v,y=!1,w=null,b=null;n&&(v=i&&d.route.id?i[d.route.id]:void 0,w=d.route.errorElement||L0,l&&(u<0&&p===0?(sh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):u===p&&(y=!0,b=d.route.hydrateFallbackElement||null)));let f=t.concat(a.slice(0,p+1)),h=()=>{let g;return v?g=w:y?g=b:d.route.Component?g=j.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=m,j.createElement(A0,{match:d,routeContext:{outlet:m,matches:f,isDataRoute:n!=null},children:g})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?j.createElement(R0,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0},onError:c}):h()},null)}function Pl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(e){let t=j.useContext(tr);return te(t,Pl(e)),t}function O0(e){let t=j.useContext(Vo);return te(t,Pl(e)),t}function D0(e){let t=j.useContext(rt);return te(t,Pl(e)),t}function Tl(e){let t=D0(e),n=t.matches[t.matches.length-1];return te(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function F0(){return Tl("useRouteId")}function I0(){var r;let e=j.useContext(Al),t=O0("useRouteError"),n=Tl("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function $0(){let{router:e}=T0("useNavigate"),t=Tl("useNavigate"),n=j.useRef(!1);return th(()=>{n.current=!0}),j.useCallback(async(s,a={})=>{Ie(n.current,eh),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...a}))},[e,t])}var oc={};function sh(e,t,n){!t&&!oc[e]&&(oc[e]=!0,Ie(!1,n))}j.memo(M0);function M0({routes:e,future:t,state:n,unstable_onError:r}){return rh(e,void 0,n,r,t)}function B0({to:e,replace:t,state:n,relative:r}){te(nr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext(nt);Ie(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=j.useContext(rt),{pathname:i}=ht(),l=en(),u=Rl(e,Ll(a),i,r==="path"),c=JSON.stringify(u);return j.useEffect(()=>{l(JSON.parse(c),{replace:t,state:n,relative:r})},[l,c,r,t,n]),null}function z0(e){return C0(e.context)}function ie(e){te(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function U0({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){te(!nr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:i,navigator:s,static:a,future:{}}),[i,s,a]);typeof n=="string"&&(n=er(n));let{pathname:u="/",search:c="",hash:m="",state:d=null,key:p="default"}=n,v=j.useMemo(()=>{let y=Ct(u,i);return y==null?null:{location:{pathname:y,search:c,hash:m,state:d,key:p},navigationType:r}},[i,u,c,m,d,p,r]);return Ie(v!=null,`<Router basename="${i}"> is not able to match the URL "${u}${c}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(nt.Provider,{value:l},j.createElement(is.Provider,{children:t,value:v}))}function oh({children:e,location:t}){return E0(ki(e),t)}function ki(e,t=[]){let n=[];return j.Children.forEach(e,(r,s)=>{if(!j.isValidElement(r))return;let a=[...t,s];if(r.type===j.Fragment){n.push.apply(n,ki(r.props.children,a));return}te(r.type===ie,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),te(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ki(r.props.children,a)),n.push(i)}),n}var Hs="get",Ws="application/x-www-form-urlencoded";function Ho(e){return e!=null&&typeof e.tagName=="string"}function V0(e){return Ho(e)&&e.tagName.toLowerCase()==="button"}function H0(e){return Ho(e)&&e.tagName.toLowerCase()==="form"}function W0(e){return Ho(e)&&e.tagName.toLowerCase()==="input"}function q0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K0(e,t){return e.button===0&&(!t||t==="_self")&&!q0(e)}function Si(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Q0(e,t){let n=Si(e);return t&&t.forEach((r,s)=>{n.has(s)||t.getAll(s).forEach(a=>{n.append(s,a)})}),n}var _s=null;function Y0(){if(_s===null)try{new FormData(document.createElement("form"),0),_s=!1}catch{_s=!0}return _s}var J0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ba(e){return e!=null&&!J0.has(e)?(Ie(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ws}"`),null):e}function X0(e,t){let n,r,s,a,i;if(H0(e)){let l=e.getAttribute("action");r=l?Ct(l,t):null,n=e.getAttribute("method")||Hs,s=ba(e.getAttribute("enctype"))||Ws,a=new FormData(e)}else if(V0(e)||W0(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(r=u?Ct(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Hs,s=ba(e.getAttribute("formenctype"))||ba(l.getAttribute("enctype"))||Ws,a=new FormData(l,e),!Y0()){let{name:c,type:m,value:d}=e;if(m==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,d)}}else{if(Ho(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hs,r=null,s=Ws,i=e}return a&&s==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ol(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G0(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ct(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Z0(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ex(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function tx(e,t,n){let r=await Promise.all(e.map(async s=>{let a=t.routes[s.route.id];if(a){let i=await Z0(a,n);return i.links?i.links():[]}return[]}));return ox(r.flat(1).filter(ex).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ac(e,t,n,r,s,a){let i=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var m;return n[c].pathname!==u.pathname||((m=n[c].route.path)==null?void 0:m.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,c)=>i(u,c)||l(u,c)):a==="data"?t.filter((u,c)=>{var d;let m=r.routes[u.route.id];if(!m||!m.hasLoader)return!1;if(i(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function nx(e,t,{includeHydrateFallback:n}={}){return rx(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function rx(e){return[...new Set(e)]}function sx(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function ox(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let a=JSON.stringify(sx(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function ah(){let e=j.useContext(tr);return Ol(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ax(){let e=j.useContext(Vo);return Ol(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Dl=j.createContext(void 0);Dl.displayName="FrameworkContext";function ih(){let e=j.useContext(Dl);return Ol(e,"You must render this element inside a <HydratedRouter> element"),e}function ix(e,t){let n=j.useContext(Dl),[r,s]=j.useState(!1),[a,i]=j.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:m,onTouchStart:d}=t,p=j.useRef(null);j.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let w=f=>{f.forEach(h=>{i(h.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return p.current&&b.observe(p.current),()=>{b.disconnect()}}},[e]),j.useEffect(()=>{if(r){let w=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{s(!0)},y=()=>{s(!1),i(!1)};return n?e!=="intent"?[a,p,{}]:[a,p,{onFocus:mr(l,v),onBlur:mr(u,y),onMouseEnter:mr(c,v),onMouseLeave:mr(m,y),onTouchStart:mr(d,v)}]:[!1,p,{}]}function mr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lx({page:e,...t}){let{router:n}=ah(),r=j.useMemo(()=>Yf(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?j.createElement(cx,{page:e,matches:r,...t}):null}function ux(e){let{manifest:t,routeModules:n}=ih(),[r,s]=j.useState([]);return j.useEffect(()=>{let a=!1;return tx(e,t,n).then(i=>{a||s(i)}),()=>{a=!0}},[e,t,n]),r}function cx({page:e,matches:t,...n}){let r=ht(),{manifest:s,routeModules:a}=ih(),{basename:i}=ah(),{loaderData:l,matches:u}=ax(),c=j.useMemo(()=>ac(e,t,u,s,r,"data"),[e,t,u,s,r]),m=j.useMemo(()=>ac(e,t,u,s,r,"assets"),[e,t,u,s,r]),d=j.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let y=new Set,w=!1;if(t.forEach(f=>{var g;let h=s.routes[f.route.id];!h||!h.hasLoader||(!c.some(x=>x.route.id===f.route.id)&&f.route.id in l&&((g=a[f.route.id])!=null&&g.shouldRevalidate)||h.hasClientLoader?w=!0:y.add(f.route.id))}),y.size===0)return[];let b=G0(e,i,"data");return w&&y.size>0&&b.searchParams.set("_routes",t.filter(f=>y.has(f.route.id)).map(f=>f.route.id).join(",")),[b.pathname+b.search]},[i,l,r,s,c,t,e,a]),p=j.useMemo(()=>nx(m,s),[m,s]),v=ux(m);return j.createElement(j.Fragment,null,d.map(y=>j.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),p.map(y=>j.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),v.map(({key:y,link:w})=>j.createElement("link",{key:y,nonce:n.nonce,...w})))}function dx(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var lh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lh&&(window.__reactRouterVersion="7.9.6")}catch{}function fx({basename:e,children:t,window:n}){let r=j.useRef();r.current==null&&(r.current=Jg({window:n,v5Compat:!0}));let s=r.current,[a,i]=j.useState({action:s.action,location:s.location}),l=j.useCallback(u=>{j.startTransition(()=>i(u))},[i]);return j.useLayoutEffect(()=>s.listen(l),[s,l]),j.createElement(U0,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:s})}var uh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ge=j.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:i,state:l,target:u,to:c,preventScrollReset:m,viewTransition:d,...p},v){let{basename:y}=j.useContext(nt),w=typeof c=="string"&&uh.test(c),b,f=!1;if(typeof c=="string"&&w&&(b=c,lh))try{let R=new URL(window.location.href),T=c.startsWith("//")?new URL(R.protocol+c):new URL(c),O=Ct(T.pathname,y);T.origin===R.origin&&O!=null?c=O+T.search+T.hash:f=!0}catch{Ie(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=k0(c,{relative:s}),[g,x,k]=ix(r,p),C=px(c,{replace:i,state:l,target:u,preventScrollReset:m,relative:s,viewTransition:d});function N(R){t&&t(R),R.defaultPrevented||C(R)}let E=j.createElement("a",{...p,...k,href:b||h,onClick:f||a?t:N,ref:dx(v,x),target:u,"data-discover":!w&&n==="render"?"true":void 0});return g&&!w?j.createElement(j.Fragment,null,E,j.createElement(lx,{page:h})):E});Ge.displayName="Link";var ch=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:i,viewTransition:l,children:u,...c},m){let d=ls(i,{relative:c.relative}),p=ht(),v=j.useContext(Vo),{navigator:y,basename:w}=j.useContext(nt),b=v!=null&&bx(d)&&l===!0,f=y.encodeLocation?y.encodeLocation(d).pathname:d.pathname,h=p.pathname,g=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(h=h.toLowerCase(),g=g?g.toLowerCase():null,f=f.toLowerCase()),g&&w&&(g=Ct(g,w)||g);const x=f!=="/"&&f.endsWith("/")?f.length-1:f.length;let k=h===f||!s&&h.startsWith(f)&&h.charAt(x)==="/",C=g!=null&&(g===f||!s&&g.startsWith(f)&&g.charAt(f.length)==="/"),N={isActive:k,isPending:C,isTransitioning:b},E=k?t:void 0,R;typeof r=="function"?R=r(N):R=[r,k?"active":null,C?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(N):a;return j.createElement(Ge,{...c,"aria-current":E,className:R,ref:m,style:T,to:i,viewTransition:l},typeof u=="function"?u(N):u)});ch.displayName="NavLink";var hx=j.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:a,method:i=Hs,action:l,onSubmit:u,relative:c,preventScrollReset:m,viewTransition:d,...p},v)=>{let y=vx(),w=wx(l,{relative:c}),b=i.toLowerCase()==="get"?"get":"post",f=typeof l=="string"&&uh.test(l),h=g=>{if(u&&u(g),g.defaultPrevented)return;g.preventDefault();let x=g.nativeEvent.submitter,k=(x==null?void 0:x.getAttribute("formmethod"))||i;y(x||g.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:s,state:a,relative:c,preventScrollReset:m,viewTransition:d})};return j.createElement("form",{ref:v,method:b,action:w,onSubmit:r?u:h,...p,"data-discover":!f&&e==="render"?"true":void 0})});hx.displayName="Form";function mx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dh(e){let t=j.useContext(tr);return te(t,mx(e)),t}function px(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:i}={}){let l=en(),u=ht(),c=ls(e,{relative:a});return j.useCallback(m=>{if(K0(m,t)){m.preventDefault();let d=n!==void 0?n:Qr(u)===Qr(c);l(e,{replace:d,state:r,preventScrollReset:s,relative:a,viewTransition:i})}},[u,l,c,n,r,t,e,s,a,i])}function gx(e){Ie(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=j.useRef(Si(e)),n=j.useRef(!1),r=ht(),s=j.useMemo(()=>Q0(r.search,n.current?null:t.current),[r.search]),a=en(),i=j.useCallback((l,u)=>{const c=Si(typeof l=="function"?l(new URLSearchParams(s)):l);n.current=!0,a("?"+c,u)},[a,s]);return[s,i]}var xx=0,yx=()=>`__${String(++xx)}__`;function vx(){let{router:e}=dh("useSubmit"),{basename:t}=j.useContext(nt),n=F0();return j.useCallback(async(r,s={})=>{let{action:a,method:i,encType:l,formData:u,body:c}=X0(r,t);if(s.navigate===!1){let m=s.fetcherKey||yx();await e.fetch(m,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||i,formEncType:s.encType||l,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||i,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function wx(e,{relative:t}={}){let{basename:n}=j.useContext(nt),r=j.useContext(rt);te(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...ls(e||".",{relative:t})},i=ht();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(m=>m==="")){l.delete("index"),u.filter(d=>d).forEach(d=>l.append("index",d));let m=l.toString();a.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:wt([n,a.pathname])),Qr(a)}function bx(e,{relative:t}={}){let n=j.useContext(Zf);te(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dh("useViewTransitionState"),s=ls(e,{relative:t});if(!n.isTransitioning)return!1;let a=Ct(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Ct(n.nextLocation.pathname,r)||n.nextLocation.pathname;return No(s.pathname,i)!=null||No(s.pathname,a)!=null}const jx="/assets/campusconnect-CAobDKHh.png";function Wo({className:e=""}){const t="h-20 w-auto object-contain",n=e?`${t} ${e}`.trim():t;return o.jsx("img",{src:jx,alt:"Campus Connect logo",className:n,loading:"lazy"})}function Nx(){const e=en();return o.jsx("div",{className:"min-h-screen flex flex-col bg-white",children:o.jsxs("main",{className:"flex flex-col items-center justify-center flex-1 px-6 py-16 text-center",children:[o.jsx(Wo,{className:"h-32 mb-12"}),o.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-gray-900 leading-tight",children:"Connecting Campus Life"}),o.jsx("h2",{className:"mt-3 text-4xl sm:text-5xl md:text-6xl font-semibold text-orange-500 leading-tight",children:"Effortlessly"}),o.jsx("p",{className:"mt-6 max-w-2xl text-gray-600 text-lg sm:text-xl",children:"From lost & found to event discoveryyour campus, connected."}),o.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row items-center gap-4",children:[o.jsx("button",{className:"min-w-[200px] rounded-full bg-gradient-to-r from-orange-500 via-orange-400 to-orange-500 px-8 py-3 text-base font-semibold text-white shadow-lg shadow-orange-200 transition-all duration-200 hover:-translate-y-0.5 hover:shadow-xl hover:from-orange-400 hover:to-orange-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-500 active:translate-y-0",onClick:()=>e("/signup"),children:"Join Community"}),o.jsx("button",{className:"min-w-[200px] rounded-full border border-orange-200 bg-white px-8 py-3 text-base font-semibold text-orange-500 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:border-orange-400 hover:bg-orange-50 hover:shadow-md focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-400 active:translate-y-0",onClick:()=>e("/dashboard"),children:"See Lists"})]})]})})}const dn="cc_role",Ci=e=>{if(!e)return;const t=String(e).trim().toLowerCase();if(t==="admin"||t==="user")return t};function fh(e){if(!(typeof window>"u"))try{const t=Ci(e);t?window.sessionStorage.setItem(dn,t):window.sessionStorage.removeItem(dn),window.localStorage.removeItem(dn)}catch(t){console.error("Failed to persist portal role",t)}}function xn({fallbackToLegacy:e=!1}={}){if(!(typeof window>"u"))try{const t=window.sessionStorage.getItem(dn),n=Ci(t);if(n)return n;if(e){const r=window.localStorage.getItem(dn),s=Ci(r);if(s)return s}}catch(t){console.error("Failed to read portal role",t)}}function kx(){if(!(typeof window>"u"))try{window.sessionStorage.removeItem(dn),window.localStorage.removeItem(dn)}catch(e){console.error("Failed to clear portal role",e)}}const ko="cc_session_token",Sx=()=>{if(!(typeof window>"u"))try{return window.sessionStorage.getItem(ko)||void 0}catch(e){console.error("Failed to access session token storage",e);return}};function Cx(e){if(!(typeof window>"u"))try{e&&typeof e=="string"&&e.trim().length>0?window.sessionStorage.setItem(ko,e.trim()):window.sessionStorage.removeItem(ko)}catch(t){console.error("Failed to persist session token",t)}}function Ex(){return Sx()}function _x(){if(!(typeof window>"u"))try{window.sessionStorage.removeItem(ko)}catch(e){console.error("Failed to clear session token",e)}}const Fl=(e="")=>e.replace(/\/+$/,"").trim(),hh=Fl("https://campus-connect-1-w95c.onrender.com"),Il=typeof window<"u",Lx=Il?Fl(window.location.origin):"",Rx=Il&&/\.vercel\.app$/i.test(window.location.hostname);if(Il&&!window.__CC_FETCH_ENHANCED__){const e=window.fetch?window.fetch.bind(window):null;typeof e=="function"&&(window.__CC_FETCH_ENHANCED__=!0,window.fetch=(t,n={})=>{const r={...n},s=new Headers(r.headers||{}),a=xn();a&&!s.has("X-Portal-Role")&&s.set("X-Portal-Role",a);const i=Ex();return i&&!s.has("Authorization")&&s.set("Authorization",`Bearer ${i}`),r.headers=s,Object.prototype.hasOwnProperty.call(r,"credentials")||(r.credentials="include"),e(t,r)})}const Yr=Rx?Lx:hh||"https://campus-connect-1-w95c.onrender.com",Ax=Fl(hh),Px=Ax||Yr;async function bn(e,t={}){const n=new Headers(t.headers||{}),r=xn();return r&&!n.has("X-Portal-Role")&&n.set("X-Portal-Role",r),await fetch(`${Yr}${e}`,{credentials:"include",...t,headers:n})}const ic=Yr,Y=e=>{if(!e)return ic;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${ic}${t}`};async function sn(e,t,n={}){const r=Y(e);try{const s=new Headers(n.headers||{}),a=xn();a&&!s.has("X-Portal-Role")&&s.set("X-Portal-Role",a);const i=await fetch(r,{credentials:"include",...n,headers:s});if(!i.ok){if(i.status===404)return{data:t,error:null};let u=`Failed to fetch ${r}`;try{const c=await i.json();c!=null&&c.message&&(u=c.message)}catch{}return{data:t,error:u}}return{data:await i.json(),error:null}}catch(s){return s.name==="AbortError"?{data:t,error:null}:{data:t,error:s.message||`Failed to fetch ${r}`}}}function Tx(){const[e,t]=j.useState("user"),[n,r]=j.useState({email:"",password:"",studentId:"",adminCode:""}),[s,a]=j.useState(""),[i,l]=j.useState(!1),u=en(),c=p=>{const{name:v,value:y}=p.target,w=v==="studentId"||v==="adminCode";r(b=>({...b,[v]:w?y.toUpperCase():y}))},m=()=>{t(p=>p==="user"?"admin":"user"),a("")},d=async p=>{if(p.preventDefault(),a(""),e==="user"&&!n.studentId.trim()){a("Student ID is required.");return}if(e==="admin"&&!n.adminCode.trim()){a("Admin code is required.");return}l(!0);try{const v=e==="admin"?"/api/auth/admin/signin":"/api/auth/user/signin",y=e==="admin"?{email:n.email,password:n.password,adminCode:n.adminCode.trim().toUpperCase()}:{email:n.email,password:n.password,studentId:n.studentId.trim().toUpperCase()},w=await fetch(Y(v),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y),credentials:"include"});let b;try{b=await w.json()}catch{b={}}if(!w.ok)throw new Error(b.message||"Login failed.");fh(e),b!=null&&b.token&&Cx(b.token),u("/dashboard")}catch(v){a(v.message)}finally{l(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white via-[#fff5eb] to-white flex flex-col items-center justify-center px-4 py-12",children:[o.jsxs("div",{className:"flex flex-col items-center gap-3 mb-8 text-center",children:[o.jsx(Wo,{className:"h-14"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Connect with your campus community"})]}),o.jsxs("div",{className:"w-full max-w-xl bg-white border border-orange-100 rounded-3xl shadow-sm px-8 py-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-orange-100 bg-[#fff5eb] px-6 py-2 shadow-sm",children:[o.jsx("span",{className:`text-sm font-semibold transition-colors ${e==="user"?"text-orange-600":"text-gray-400"}`,children:"User"}),o.jsx("button",{type:"button",onClick:m,className:"relative h-6 w-12 rounded-full bg-white border border-orange-200 transition",children:o.jsx("span",{className:`absolute top-0.5 left-0.5 h-5 w-5 rounded-full bg-gradient-to-r from-orange-500 to-orange-400 transition-transform shadow ${e==="admin"?"translate-x-[1.75rem]":"translate-x-0"}`})}),o.jsx("span",{className:`text-sm font-semibold transition-colors ${e==="admin"?"text-orange-600":"text-gray-400"}`,children:"Admin"})]})}),o.jsxs("div",{className:"flex rounded-full border border-orange-100 overflow-hidden text-sm font-semibold mb-8",children:[o.jsx("span",{className:"flex-1 text-center py-2 bg-orange-500 text-white",children:"Login"}),o.jsx(Ge,{to:"/signup",className:"flex-1 text-center py-2 bg-orange-50 text-orange-500 hover:bg-orange-100",children:"Sign Up"})]}),o.jsxs("form",{onSubmit:d,className:"flex flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"student@campus.edu",value:n.email,onChange:c,required:!0,className:"w-full rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),e==="user"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Student ID"}),o.jsx("input",{type:"text",name:"studentId",placeholder:"ST5",value:n.studentId,onChange:c,required:!0,className:"w-full rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),e==="admin"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Admin Code"}),o.jsx("input",{type:"text",name:"adminCode",placeholder:"ADM4",value:n.adminCode,onChange:c,required:!0,className:"w-full rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Password"}),o.jsx("input",{type:"password",name:"password",placeholder:"Enter your password",value:n.password,onChange:c,required:!0,className:"w-full rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),s&&o.jsx("div",{className:"text-center text-sm text-red-500",children:s}),o.jsx("button",{type:"submit",disabled:i,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-orange-400 py-2.5 text-white font-semibold hover:from-orange-400 hover:to-orange-300 transition disabled:opacity-70",children:i?"Logging in...":"Login"})]})]}),o.jsx(Ge,{to:"/",className:"mt-8 text-sm text-gray-500 hover:text-orange-500",children:"Back to Home"})]})}function Ox(){const[e,t]=j.useState("user"),[n,r]=j.useState({firstName:"",lastName:"",email:"",studentId:"",adminCode:"",password:"",confirmPassword:""}),[s,a]=j.useState(""),[i,l]=j.useState({}),[u,c]=j.useState(!1),m=en(),d=y=>{const{name:w,value:b}=y.target,f=w==="studentId"||w==="adminCode";r(h=>({...h,[w]:f?b.toUpperCase():b}))},p=()=>{t(y=>y==="user"?"admin":"user"),a(""),l({})},v=async y=>{if(y.preventDefault(),a(""),l({}),n.password!==n.confirmPassword){l({confirmPassword:"Passwords do not match."});return}if(e==="user"&&!n.studentId.trim()){l({studentId:"Student ID is required."});return}if(e==="admin"&&!n.adminCode.trim()){l({adminCode:"Admin code is required."});return}c(!0);try{const w=e==="admin"?"/api/auth/admin/signup":"/api/auth/user/signup",b=e==="admin"?{firstName:n.firstName,lastName:n.lastName,email:n.email,password:n.password,adminCode:n.adminCode.trim().toUpperCase()}:{firstName:n.firstName,lastName:n.lastName,email:n.email,password:n.password,studentId:n.studentId.trim().toUpperCase()},f=await fetch(Y(w),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b),credentials:"include"});let h={};const g=await f.text();if(g)try{h=JSON.parse(g)}catch{h={}}if(!f.ok){if(a(h.message||"Signup failed."),Array.isArray(h.errors)){const E={};h.errors.forEach(R=>{E[R.path]=R.message}),l(E)}return}const x=e==="admin"?"/api/auth/admin/signin":"/api/auth/user/signin",k=e==="admin"?{email:n.email,password:n.password,adminCode:n.adminCode.trim().toUpperCase()}:{email:n.email,password:n.password,studentId:n.studentId.trim().toUpperCase()},C=await fetch(Y(x),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k),credentials:"include"}),N=await C.json();if(!C.ok){a(N.message||"Login after signup failed.");return}fh(e),m("/dashboard")}catch(w){a(w.message)}finally{c(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white via-[#fff5eb] to-white flex flex-col items-center justify-center px-4 py-12",children:[o.jsxs("div",{className:"flex flex-col items-center gap-3 mb-8 text-center",children:[o.jsx(Wo,{className:"h-14"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Connect with your campus community"})]}),o.jsxs("div",{className:"w-full max-w-2xl bg-white border border-orange-100 rounded-3xl shadow-sm px-8 py-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-orange-100 bg-[#fff5eb] px-6 py-2 shadow-sm",children:[o.jsx("span",{className:`text-sm font-semibold transition-colors ${e==="user"?"text-orange-600":"text-gray-400"}`,children:"User"}),o.jsx("button",{type:"button",onClick:p,className:"relative h-6 w-12 rounded-full bg-white border border-orange-200 transition",children:o.jsx("span",{className:`absolute top-0.5 left-0.5 h-5 w-5 rounded-full bg-gradient-to-r from-orange-500 to-orange-400 transition-transform shadow ${e==="admin"?"translate-x-[1.75rem]":"translate-x-0"}`})}),o.jsx("span",{className:`text-sm font-semibold transition-colors ${e==="admin"?"text-orange-600":"text-gray-400"}`,children:"Admin"})]})}),o.jsxs("div",{className:"flex rounded-full border border-orange-100 overflow-hidden text-sm font-semibold mb-8",children:[o.jsx(Ge,{to:"/login",className:"flex-1 text-center py-2 bg-orange-50 text-orange-500 hover:bg-orange-100",children:"Login"}),o.jsx("span",{className:"flex-1 text-center py-2 bg-orange-500 text-white",children:"Sign Up"})]}),o.jsxs("form",{onSubmit:v,className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"First Name"}),o.jsx("input",{type:"text",name:"firstName",placeholder:"John",value:n.firstName,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.firstName&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.firstName})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Last Name"}),o.jsx("input",{type:"text",name:"lastName",placeholder:"Doe",value:n.lastName,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.lastName&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.lastName})]}),o.jsxs("div",{className:"md:col-span-2 flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email"}),o.jsx("input",{type:"email",name:"email",placeholder:"student@campus.edu",value:n.email,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.email&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.email})]}),e==="user"&&o.jsxs("div",{className:"md:col-span-2 flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Student ID"}),o.jsx("input",{type:"text",name:"studentId",placeholder:"ST10",value:n.studentId,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.studentId&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.studentId})]}),e==="admin"&&o.jsxs("div",{className:"md:col-span-2 flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Admin Code"}),o.jsx("input",{type:"text",name:"adminCode",placeholder:"ADM7",value:n.adminCode,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.adminCode&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.adminCode})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Password"}),o.jsx("input",{type:"password",name:"password",placeholder:"Create a password",value:n.password,onChange:d,required:!0,minLength:6,maxLength:80,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.password&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.password})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 mb-1",children:"Confirm Password"}),o.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Repeat password",value:n.confirmPassword,onChange:d,required:!0,className:"rounded-xl border border-orange-100 px-4 py-2.5 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"}),i.confirmPassword&&o.jsx("span",{className:"text-xs text-red-500 mt-1",children:i.confirmPassword})]}),s&&o.jsx("div",{className:"md:col-span-2 text-center text-sm text-red-500",children:s}),o.jsx("div",{className:"md:col-span-2",children:o.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-orange-400 py-2.5 text-white font-semibold hover:from-orange-400 hover:to-orange-300 transition disabled:opacity-70",children:u?"Creating account...":"Create Account"})})]})]}),o.jsx(Ge,{to:"/",className:"mt-8 text-sm text-gray-500 hover:text-orange-500",children:"Back to Home"})]})}var mh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lc=S.createContext&&S.createContext(mh),Ht=function(){return Ht=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ht.apply(this,arguments)},Dx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function ph(e){return e&&e.map(function(t,n){return S.createElement(t.tag,Ht({key:n},t.attr),ph(t.child))})}function q(e){return function(t){return S.createElement(Fx,Ht({attr:Ht({},e.attr)},t),ph(e.child))}}function Fx(e){var t=function(n){var r=e.attr,s=e.size,a=e.title,i=Dx(e,["attr","size","title"]),l=s||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),S.createElement("svg",Ht({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:u,style:Ht(Ht({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&S.createElement("title",null,a),e.children)};return lc!==void 0?S.createElement(lc.Consumer,null,function(n){return t(n)}):t(mh)}function Ix(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function Ei(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function gh(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function rr(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function Wt(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function $x(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function xh(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Mx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}}]})(e)}function Jr(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function Bx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function uc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function zx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function Xr(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function Ux(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function yh(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function Vx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"}},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}}]})(e)}function Hx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}},{tag:"polyline",attr:{points:"22,6 12,13 2,6"}}]})(e)}function jn(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function Wx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function vh(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function yn(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"}}]})(e)}function qx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}},{tag:"path",attr:{d:"M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14"}}]})(e)}function tn(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"}},{tag:"polyline",attr:{points:"23 20 23 14 17 14"}},{tag:"path",attr:{d:"M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"}}]})(e)}function $l(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Kx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function Gr(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function wh(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"}},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"}}]})(e)}function Zr(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function Qx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function cc(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"17 8 12 3 7 8"}},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"}}]})(e)}function ja(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"polyline",attr:{points:"17 11 19 13 23 9"}}]})(e)}function Yx(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Ml(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function Yt(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function es(e){return q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}const Jx="Hi! I'm the Campus Connect assistant. Ask me to report items, check announcements, RSVP to events, and more.";function Xx(e){return e==="admin"?"admin":"student"}function pr(e){if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function Gx(e,t){if(!t||typeof t!="object")return[];const n=[],r=3,s=(a,i,l)=>{!Array.isArray(a)||a.length===0||(l&&n.push(l),a.slice(0,r).forEach((u,c)=>{const m=i(u,c);m&&n.push(` ${m}`)}),a.length>r&&n.push(`and ${a.length-r} more.`))};switch(e){case"VIEW_LOST_ITEMS":{s(t.items,a=>{if(!a)return null;const i=pr(a.dateLost||a.createdAt),l=a.location||"Unknown location",u=a.status?` (${a.status})`:"",c=[a.title||"Unnamed item",l];return i&&c.push(i),`${c.join("  ")}${u}`},"Here are the latest lost items:");break}case"VIEW_FOUND_ITEMS":{s(t.items,a=>{if(!a)return null;const i=pr(a.dateFound||a.createdAt),l=a.locationFound||a.location||"Unknown location",u=a.status?` (${a.status})`:"",c=[a.title||"Unnamed item",l];return i&&c.push(i),`${c.join("  ")}${u}`},"Here are the latest found items:");break}case"VIEW_EVENTS":{s(t.events,a=>{if(!a)return null;const i=pr(a.date||a.startDate),l=a.venue||"Venue TBA";return`${a.title||"Untitled event"}  ${l}${i?`  ${i}`:""}`},"Upcoming events:");break}case"VIEW_ANNOUNCEMENTS":{s(t.announcements,a=>{if(!a)return null;const i=pr(a.createdAt),l=a.category?` [${a.category}]`:"";return`${a.title||"Announcement"}${l}${i?`  ${i}`:""}`},"Recent announcements:");break}case"VIEW_NOTES":{s(t.notes,a=>{if(!a)return null;const i=a.subject?`  ${a.subject}`:"",l=typeof a.downloads=="number"?` (${a.downloads} downloads)`:"";return`${a.title||a.fileName||"Shared note"}${i}${l}`},"Shared notes:");break}case"VIEW_DISCUSSIONS":{s(t.discussions,a=>{if(!a)return null;const i=Array.isArray(a.tags)&&a.tags.length?` [${a.tags.slice(0,3).join(", ")}]`:"",l=pr(a.createdAt);return`${a.title||"Discussion"}${i}${l?`  ${l}`:""}`},"Latest discussions:");break}}return n}function Zx(e){return e.map(t=>({role:t.role==="assistant"?"assistant":"user",content:t.content}))}function ey({context:e={},videoSrc:t}){const n=Xx(e.role),r=[t,e.widgetVideoSrc].map(f=>typeof f=="string"?f.trim():"").find(f=>f.length>0)||"",[s,a]=S.useState(!1),[i,l]=S.useState(""),[u,c]=S.useState(!1),[m,d]=S.useState([{id:"welcome",role:"assistant",content:Jx}]),p=S.useRef(null),v=()=>a(f=>!f);S.useEffect(()=>{p.current&&(p.current.scrollTop=p.current.scrollHeight)},[m,u]);const y=S.useCallback((f,h)=>{d(g=>[...g,{id:`${f}-${Date.now()}-${Math.random().toString(16).slice(2)}`,role:f,content:h}])},[]),w=S.useCallback(async f=>{var x;const h=f.trim();if(!h||u)return;const g={id:`user-${Date.now()}`,role:"user",content:h};d(k=>[...k,g]),l(""),c(!0);try{const k=await bn("/api/ai/command",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:Zx([...m,g]),context:{role:n,name:e.name||"",email:e.email||""},executeAction:!0})});let C,N=null;try{(k.headers.get("content-type")||"").includes("application/json")?C=await k.json():N=await k.text()}catch(E){N=N||E.message}if(!C)throw new Error(((x=N==null?void 0:N.slice)==null?void 0:x.call(N,0,160))||"Assistant returned an unexpected response.");if(!k.ok)throw new Error((C==null?void 0:C.details)||(C==null?void 0:C.message)||"Failed to reach the assistant.");if(C.reply&&y("assistant",C.reply),C.followUpQuestion&&y("assistant",C.followUpQuestion),C.execution){const{success:E,message:R,details:T}=C.execution;R?y("assistant",R):E&&y("assistant","Action completed."),Gx(C.action,T).forEach(A=>y("assistant",A))}}catch(k){y("assistant",k.message||"I ran into a problem handling that request. Please try again.")}finally{c(!1)}},[y,e.email,e.name,u,m,n]),b=f=>{f.preventDefault(),w(i)};return o.jsxs(o.Fragment,{children:[o.jsx("button",{type:"button",className:"ai-widget-button",onClick:v,"aria-label":"Campus Connect assistant",children:r?o.jsx("video",{className:"ai-widget-video",src:r,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"metadata","aria-hidden":"true"}):null}),s&&o.jsxs("div",{className:"ai-widget-panel",children:[o.jsxs("header",{className:"ai-widget-header",children:[o.jsxs("div",{children:[o.jsx("p",{className:"ai-widget-title",children:"Campus Assistant"}),o.jsx("p",{className:"ai-widget-subtitle",children:n==="admin"?"Admin tools":"Student support"})]}),o.jsx("button",{type:"button",className:"ai-widget-close",onClick:v,"aria-label":"Close assistant",children:""})]}),o.jsxs("div",{className:"ai-widget-messages",ref:p,children:[m.map(f=>o.jsx("div",{className:`ai-widget-message ai-widget-message-${f.role}`,children:o.jsx("div",{className:"ai-widget-bubble",children:f.content})},f.id)),u&&o.jsx("div",{className:"ai-widget-message ai-widget-message-assistant",children:o.jsxs("div",{className:"ai-widget-bubble ai-widget-typing",children:[o.jsx("span",{className:"ai-dot"}),o.jsx("span",{className:"ai-dot"}),o.jsx("span",{className:"ai-dot"})]})})]}),o.jsxs("form",{className:"ai-widget-input",onSubmit:b,children:[o.jsx("input",{type:"text",placeholder:"Ask me to handle something...",value:i,onChange:f=>l(f.target.value),disabled:u}),o.jsx("button",{type:"submit",disabled:u||!i.trim(),children:"Send"})]})]})]})}const ty="https://ouch-prod-src-cdn.icons8.com/tw/videos/PO1dzXcrNHFjmc5K.webm".trim(),ny=[{title:"Main Menu",items:[{label:"Dashboard",to:"/dashboard",icon:yh,end:!0},{label:"Lost & Found",to:"/dashboard/lost-and-found",icon:jn},{label:"Events",to:"/dashboard/events",icon:Wt},{label:"Announcements",to:"/dashboard/announcements",icon:rr},{label:"Discussions",to:"/dashboard/discussions",icon:vh},{label:"Emergency Alerts",to:"/dashboard/emergency-alerts",icon:Gr},{label:"Notes Sharing",to:"/dashboard/notes",icon:Xr},{label:"Skill Exchange",to:"/dashboard/skills",icon:Yt}]},{title:"Account",items:[{label:"Profile",to:"/dashboard/profile",icon:Ml}]}],ry=[{title:"Administration",items:[{label:"Overview",to:"/dashboard",icon:yh,end:!0},{label:"Users",to:"/dashboard/users",icon:Yt},{label:"Lost & Found Control",to:"/dashboard/manage/lost-found",icon:jn},{label:"Events Manager",to:"/dashboard/manage/events",icon:Wt},{label:"Announcements Manager",to:"/dashboard/manage/announcements",icon:rr}]},{title:"Community",items:[{label:"Emergency Alerts",to:"/dashboard/emergency-alerts",icon:Gr},{label:"Notes Library",to:"/dashboard/notes",icon:Xr},{label:"Discussions",to:"/dashboard/discussions",icon:vh},{label:"Resources",to:"/dashboard/skills",icon:Mx}]},{title:"Account",items:[{label:"Profile",to:"/dashboard/profile",icon:Ml}]}];function dc({sections:e,onNavigate:t}){return o.jsx(o.Fragment,{children:e.map(n=>o.jsxs("div",{className:"px-4 py-5",children:[o.jsx("p",{className:"mb-3 text-xs font-semibold uppercase tracking-wide text-gray-400",children:n.title}),o.jsx("div",{className:"space-y-1",children:n.items.map(r=>{const s=r.icon;return o.jsxs(ch,{to:r.to,end:r.end,className:({isActive:a})=>`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${a?"bg-orange-100 text-orange-600 shadow-sm":"text-gray-600 hover:bg-orange-50"}`,onClick:t,children:[o.jsx(s,{className:"text-lg"}),o.jsx("span",{children:r.label})]},r.label)})})]},n.title))})}function sy({role:e="user"}){const t=en(),n=ht(),[r,s]=S.useState(e),[a,i]=S.useState(!1);S.useEffect(()=>{if(e)s(e);else{const p=xn({fallbackToLegacy:!0})||"user";s(p)}},[e]),S.useEffect(()=>{i(!1)},[n.pathname]);const l=S.useCallback(async()=>{try{const p=xn();await fetch(Y("/api/auth/logout"),{method:"POST",credentials:"include",headers:p?{"X-Portal-Role":p}:void 0})}catch(p){console.error("Logout request failed",p)}finally{kx(),_x(),t("/")}},[t]),u=r==="admin"?ry:ny,c=S.useCallback(()=>i(!0),[]),m=S.useCallback(()=>i(!1),[]),d=o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(Wo,{className:"h-12"}),o.jsxs("span",{className:"mt-2 inline-flex items-center gap-1 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[o.jsx(Kx,{className:"text-sm"}),r==="admin"?"Admin":"Student"]})]});return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("header",{className:"flex items-center justify-between border-b border-orange-100 bg-white/95 px-4 py-3 shadow-sm lg:hidden",children:[o.jsx("button",{type:"button","aria-label":"Open navigation",onClick:c,className:"rounded-full border border-orange-100 p-2 text-orange-500 shadow-sm",children:o.jsx(Wx,{className:"text-xl"})}),d,o.jsx("span",{className:"w-9","aria-hidden":"true"})]}),o.jsxs("div",{className:"flex",children:[o.jsxs("aside",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:flex lg:w-64 lg:flex-col lg:border-r lg:border-orange-50 lg:bg-white/95 lg:shadow-sm",children:[o.jsx("div",{className:"flex h-20 items-center justify-center border-b border-orange-50",children:d}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx(dc,{sections:u})}),o.jsx("div",{className:"px-4 pb-4 pt-2",children:o.jsx("button",{onClick:l,className:"w-full rounded-lg bg-orange-500 py-2 font-semibold text-white transition hover:bg-orange-400",children:"Logout"})})]}),o.jsxs("main",{className:"flex-1 px-4 py-6 sm:px-6 lg:ml-64 lg:px-10",children:[o.jsx(z0,{context:{role:r}}),o.jsx(ey,{context:{role:r},videoSrc:ty})]})]}),a&&o.jsxs("div",{className:"lg:hidden",children:[o.jsx("div",{className:"fixed inset-0 z-40 bg-black/30",onClick:m}),o.jsxs("aside",{className:"fixed inset-y-0 left-0 z-50 flex w-72 max-w-[80vw] flex-col border-r border-orange-50 bg-white shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-orange-50 px-4 py-3",children:[d,o.jsx("button",{type:"button","aria-label":"Close navigation",onClick:m,className:"rounded-full border border-orange-100 p-2 text-orange-500 shadow-sm",children:o.jsx(es,{className:"text-xl"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx(dc,{sections:u,onNavigate:m})}),o.jsx("div",{className:"border-t border-orange-50 px-4 pb-5 pt-3",children:o.jsx("button",{onClick:l,className:"w-full rounded-lg bg-orange-500 py-2 font-semibold text-white transition hover:bg-orange-400",children:"Logout"})})]})]})]})}function oy(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[s,a]=S.useState([]),[i,l]=S.useState([]),[u,c]=S.useState([]),[m,d]=S.useState([]),[p,v]=S.useState(!0),[y,w]=S.useState(""),b=en();S.useEffect(()=>{const O=new AbortController;let A=!1;return(async()=>{var _,z,F,U,B;v(!0),w("");try{const[L,P,I,M,V,ne]=await Promise.all([sn("/api/profile/me",null,{signal:O.signal}),sn("/api/lost/preview",{preview:[]},{signal:O.signal}),sn("/api/found/preview",{preview:[]},{signal:O.signal}),sn("/api/events",{events:[]},{signal:O.signal}),sn("/api/announcements",{notifications:[],count:0,unreadCount:0},{signal:O.signal}),sn("/api/emergency/active",{data:[]},{signal:O.signal})]);if(A)return;const de=[L,P,I,M,V,ne].some(st=>!!st.error);t(((_=L.data)==null?void 0:_.profile)??null),r(((z=P.data)==null?void 0:z.preview)??[]),a(((F=I.data)==null?void 0:F.preview)??[]),l(((U=M.data)==null?void 0:U.events)??[]),c((V.data??{}).notifications??[]),d(((B=ne.data)==null?void 0:B.data)??[]),de&&w("Some dashboard data could not be loaded. Please refresh to retry.")}catch(L){L.name!=="AbortError"&&!A&&(console.error("Dashboard data load error",L),w("Failed to load dashboard data. Please try again."))}finally{A||v(!1)}})(),()=>{A=!0,O.abort()}},[]);const f=S.useMemo(()=>e?`${e.firstName??""} ${e.lastName??""}`.trim()||e.email||"Explorer":"",[e]),h=S.useMemo(()=>{const O=new Date().getHours();return O>=5&&O<12?"Good morning":O>=12&&O<17?"Good afternoon":O>=17&&O<24?"Good evening":"Hello"},[]),g=n.length,x=s.length,k=i.length,C=u.length,N=i[0],E=S.useMemo(()=>[{key:"report",label:"Report Lost Item",description:"Log something you misplaced and notify campus.",icon:yn,to:"/dashboard/lost-and-found?report=1"},{key:"lostfound",label:"Browse Lost & Found",description:"Review new reports from the community.",icon:jn,to:"/dashboard/lost-and-found"},{key:"events",label:"Events",description:"Discover upcoming activities.",icon:Wt,to:"/dashboard/events"},{key:"announcements",label:"Announcements",description:"Catch up on recent news.",icon:rr,to:"/dashboard/announcements"}],[]),R=[{label:"Lost Items Logged",value:g,helper:g?`${Math.min(g,5)} new this week`:"No open reports",accent:"bg-red-100 text-red-600"},{label:"Found Items Reported",value:x,helper:x?"Coordinate pickup with owners":"Nothing waiting pickup",accent:"bg-orange-100 text-orange-600"},{label:"Upcoming Events",value:k,helper:N?`${new Date(N.date).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}  ${N.title}`:"No events scheduled",accent:"bg-indigo-100 text-indigo-600"},{label:"Announcements",value:C,helper:C?"Stay current with campus news":"All quiet for now",accent:"bg-emerald-100 text-emerald-600"}],T=m.slice(0,2);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("p",{className:"text-sm font-semibold text-orange-500",children:"Welcome back"}),o.jsxs("h1",{className:"mt-2 flex items-center gap-2 text-3xl font-bold text-gray-900",children:[o.jsx("span",{children:h}),f?o.jsxs("span",{children:[", ",f]}):o.jsx("span",{"aria-hidden":"true",className:"inline-flex h-6 w-24 animate-pulse rounded bg-orange-100"})]}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Here's a quick overview of what's happening around campus today."}),y&&o.jsx("div",{className:"mt-4 rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:y})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:R.map(O=>o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-5 shadow-sm",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:O.label}),o.jsxs("div",{className:"mt-3 flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:O.value}),o.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${O.accent}`,children:O.helper})]})]},O.label))}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3",children:[o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm lg:col-span-2",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Jump straight into the things you use most."}),o.jsx("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:E.map(O=>{const A=O.icon;return o.jsxs("button",{type:"button",onClick:()=>b(O.to),className:"flex items-start gap-3 rounded-2xl border border-orange-100 bg-white p-4 text-left shadow-sm transition hover:border-orange-200 hover:shadow",children:[o.jsx("span",{className:"rounded-full bg-orange-100 p-2 text-orange-600",children:o.jsx(A,{})}),o.jsxs("span",{children:[o.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:O.label}),o.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:O.description})]})]},O.key)})})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Alerts & Notifications"}),o.jsx("div",{className:"mt-4 space-y-3",children:T.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No emergency alerts right now. Stay safe!"}):T.map(O=>o.jsxs("div",{className:"rounded-lg border border-orange-100 bg-orange-50 px-4 py-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase text-orange-600",children:[o.jsx(gh,{}),o.jsx("span",{children:O.severity})]}),o.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:O.title}),o.jsx("p",{className:"mt-1 text-xs text-gray-600",children:O.message})]},O._id))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Announcements"}),o.jsxs("div",{className:"mt-4 space-y-3",children:[u.slice(0,3).map(O=>{var A;return o.jsxs("div",{className:"rounded-lg border border-orange-100 px-4 py-3",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-800",children:O.title}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:((A=O.message)==null?void 0:A.length)>120?`${O.message.slice(0,120)}`:O.message})]},O._id)}),u.length===0&&o.jsx("p",{className:"text-sm text-gray-500",children:"No announcements yet. Check back later today."})]})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Events"}),o.jsxs("div",{className:"mt-4 space-y-3",children:[i.slice(0,3).map(O=>o.jsxs("div",{className:"rounded-lg border border-orange-100 px-4 py-3",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-800",children:O.title}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:O.date?new Date(O.date).toLocaleDateString():"Date TBA"})]},O._id)),i.length===0&&o.jsx("p",{className:"text-sm text-gray-500",children:"No upcoming events yet."})]})]})]}),p&&o.jsx("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 text-center text-sm text-gray-500 shadow-sm",children:"Loading dashboard data..."})]})}function ay({onClose:e,onSuccess:t}){const[n,r]=S.useState("lost"),[s,a]=S.useState({title:"",description:"",location:"",contact:"",image:"",date:""}),[i,l]=S.useState(""),[u,c]=S.useState(""),[m,d]=S.useState(!1),p=w=>{a({...s,[w.target.name]:w.target.value})},v=w=>{r(w.target.value),a({title:"",description:"",location:"",contact:"",image:"",date:""}),l(""),c("")},y=async w=>{w.preventDefault(),l(""),c(""),d(!0);try{let b,f;if(n==="lost")b={title:s.title,description:s.description,location:s.location,contact:s.contact,dateLost:s.date?new Date(s.date).toISOString():void 0},s.image&&s.image.trim()!==""&&(b.image=s.image),f="/api/lost/report";else{if(b={title:s.title,description:s.description,location:s.location,contact:s.contact,date:s.date?new Date(s.date).toISOString():void 0},s.image&&s.image.trim()!=="")try{new URL(s.image),b.image=s.image}catch{l("Image must be a valid URL."),d(!1);return}f="/api/found/report"}const h=await fetch(Y(f),{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)}),g=await h.json();if(!h.ok)throw new Error(g.message||"Failed to report item");c("Item reported successfully."),Ee.success("Item reported successfully."),a({title:"",description:"",location:"",contact:"",image:"",date:""}),t==null||t(),e==null||e()}catch(b){l(b.message),Ee.error(b.message||"Failed to report item.")}finally{d(!1)}};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:o.jsxs("div",{className:"w-full max-w-xl rounded-xl border border-orange-100 bg-white p-8 shadow-2xl",children:[o.jsx("button",{type:"button",onClick:()=>e==null?void 0:e(),className:"mb-6 inline-flex items-center gap-2 rounded-lg border border-orange-500 px-4 py-2 text-sm font-semibold text-orange-500 transition hover:bg-orange-500 hover:text-white",children:" Back to Lost & Found"}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Report Item"}),o.jsx("p",{className:"mb-6 text-sm text-gray-500",children:"Help us reunite items with their owners"}),o.jsxs("div",{className:"rounded-lg border border-orange-100 bg-[#fff8f3] p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Item Details"}),o.jsx("p",{className:"mb-4 text-sm text-gray-400",children:"Provide as much detail as possible"}),o.jsxs("form",{onSubmit:y,className:"flex flex-col gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Item Name"}),o.jsx("input",{name:"title",value:s.title,onChange:p,required:!0,placeholder:"e.g., Blue Backpack",className:"w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Category"}),o.jsxs("select",{name:"category",value:n,onChange:v,required:!0,className:"w-full rounded border px-3 py-2",children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"lost",children:"Lost"}),o.jsx("option",{value:"found",children:"Found"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Location"}),o.jsx("input",{name:"location",value:s.location,onChange:p,required:!0,placeholder:"e.g., Library 2nd Floor",className:"w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Date"}),o.jsx("input",{name:"date",type:"date",value:s.date,onChange:p,required:!0,className:"w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Description"}),o.jsx("textarea",{name:"description",value:s.description,onChange:p,required:!0,placeholder:"Provide detailed description...",className:"min-h-[80px] w-full rounded border px-3 py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"mb-1 block text-sm font-medium text-gray-700",children:"Contact Information"}),o.jsx("input",{name:"contact",value:s.contact,onChange:p,required:!0,placeholder:"your.email@campus.edu",className:"w-full rounded border px-3 py-2"})]}),o.jsx("input",{name:"image",value:s.image,onChange:p,type:"hidden"}),i&&o.jsx("div",{className:"text-sm text-red-500",children:i}),u&&o.jsx("div",{className:"text-sm text-green-600",children:u}),o.jsx("button",{type:"submit",disabled:m,className:"rounded bg-gradient-to-r from-orange-400 to-orange-600 py-2 font-semibold text-white transition hover:from-orange-500 hover:to-orange-700 disabled:opacity-70",children:m?"Reporting...":"Submit Report"})]})]})]})})}const iy=[{label:"Open Lost Reports",accent:"bg-red-100 text-red-600",helper:e=>e?`${Math.min(e,5)} needs attention`:"All caught up",sourceKey:"lost"},{label:"Found Items Logged",accent:"bg-orange-100 text-orange-600",helper:e=>e?"Coordinate return with owners":"No pickups pending",sourceKey:"found"},{label:"New This Week",accent:"bg-indigo-100 text-indigo-600",helper:e=>e?"Keep an eye on recent activity":"No new reports this week",sourceKey:"week"}];function ly(){const[e,t]=gx(),[n,r]=S.useState(""),[s,a]=S.useState("all"),[i,l]=S.useState(!1),[u,c]=S.useState(null),[m,d]=S.useState([]),[p,v]=S.useState([]),[y,w]=S.useState(!1),[b,f]=S.useState(""),[h,g]=S.useState(0);S.useEffect(()=>{if(e.get("report")==="1"){l(!0);const A=new URLSearchParams(e.toString());A.delete("report"),t(A,{replace:!0})}},[e,t]);const x=S.useCallback(async A=>{if(A.status===404)return{preview:[]};let _={};try{_=await A.json()}catch{_={}}if(!A.ok)throw new Error((_==null?void 0:_.message)||"Failed to fetch lost & found data.");return _},[]),k=S.useCallback(async A=>{w(!0),f("");try{const[_,z]=await Promise.all([fetch(Y("/api/lost/preview"),{credentials:"include",signal:A}),fetch(Y("/api/found/preview"),{credentials:"include",signal:A})]),F=await x(_),U=await x(z);d(Array.isArray(F==null?void 0:F.preview)?F.preview:[]),v(Array.isArray(U==null?void 0:U.preview)?U.preview:[])}catch(_){if(_.name==="AbortError")return;f(_.message||"Unable to load lost and found items.")}finally{w(!1)}},[x]);S.useEffect(()=>{const A=new AbortController;return k(A.signal),()=>A.abort()},[k,h]);const C=S.useCallback(()=>{g(A=>A+1)},[]),N=S.useMemo(()=>{const A=(_,z)=>_.map(F=>({...F,_type:z}));return[...A(m,"lost"),...A(p,"found")]},[m,p]),E=S.useMemo(()=>{const A=n.trim().toLowerCase();return N.filter(_=>s!=="all"&&_._type!==s?!1:A?[_.title,_.description,_.category,_.location,_.locationFound,_.contact].filter(Boolean).map(F=>String(F).toLowerCase()).some(F=>F.includes(A)):!0).sort((_,z)=>{const F=new Date(_.dateLost||_.dateFound||_.createdAt||0).getTime();return new Date(z.dateLost||z.dateFound||z.createdAt||0).getTime()-F})},[N,s,n]),R=S.useMemo(()=>{const A=Date.now()-6048e5;return N.filter(_=>new Date(_.dateLost||_.dateFound||_.createdAt||0).getTime()>=A).length},[N]),T=S.useMemo(()=>({lost:m.length,found:p.length,week:R}),[p.length,R,m.length]),O=A=>{const _=A._type==="lost"?"bg-red-100 text-red-600 border border-red-200":"bg-orange-100 text-orange-600 border border-orange-200",z=A._type==="lost"?A.location:A.locationFound,F=A._type==="lost"?A.dateLost:A.dateFound,U=F?new Date(F).toLocaleDateString():"";return o.jsxs("div",{className:"flex flex-col gap-3 rounded-xl border border-orange-100 bg-white p-5 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-base font-semibold text-gray-900",children:A.title}),o.jsx("p",{className:"text-xs text-gray-500",children:z||"Location not provided"})]}),o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold capitalize ${_}`,children:A._type})]}),o.jsx("p",{className:"max-h-20 overflow-hidden text-sm text-gray-600",children:A.description||"No description provided."}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-gray-500",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Category"}),o.jsx("p",{children:A.category||""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Reported"}),o.jsx("p",{children:U})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Contact"}),o.jsx("p",{children:A.contact||""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Status"}),o.jsx("p",{children:A.status||"Pending"})]})]}),o.jsx("button",{type:"button",onClick:()=>c(A),className:"mt-1 inline-flex w-full items-center justify-center gap-2 rounded-lg border border-orange-200 px-3 py-2 text-sm font-medium text-orange-600 transition hover:bg-orange-50",children:"View Details"})]},A._id)};return o.jsxs("div",{className:"min-h-[90vh] rounded-xl bg-[#FFF8F3] px-3 py-6 sm:px-6 lg:px-10",children:[o.jsxs("div",{className:"mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Lost & Found"}),o.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"Help reunite items with their owners."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{type:"button",onClick:C,className:"inline-flex items-center gap-2 rounded-lg border border-orange-300 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:"Refresh"}),o.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400",children:[o.jsx(yn,{className:"text-lg"}),"Report Item"]})]})]}),o.jsx("div",{className:"mb-6 grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:iy.map(A=>o.jsxs("div",{className:"rounded-xl border border-orange-100 bg-white p-5 shadow-sm",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:A.label}),o.jsxs("div",{className:"mt-3 flex items-baseline gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:T[A.sourceKey]}),o.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${A.accent}`,children:A.helper(T[A.sourceKey])})]})]},A.label))}),o.jsx("div",{className:"mb-6 rounded-xl border border-orange-100 bg-white p-4 shadow-sm sm:p-6",children:o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[o.jsx($l,{className:"text-lg text-gray-400"}),o.jsx("input",{type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"Search by item, location, or contact",className:"w-full rounded-lg border border-orange-100 px-3 py-2 text-sm focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),o.jsx("div",{className:"flex shrink-0 items-center gap-2",children:["all","lost","found"].map(A=>o.jsx("button",{type:"button",onClick:()=>a(A),className:`rounded-lg px-4 py-2 text-xs font-semibold uppercase tracking-wide transition ${{true:"bg-orange-500 text-white",false:"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}[String(s===A)]}`,children:A},A))})]})}),b&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:b}),o.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3",children:y?Array.from({length:3}).map((A,_)=>o.jsxs("div",{className:"h-48 rounded-xl border border-orange-100 bg-white p-5 shadow-sm animate-pulse",children:[o.jsx("div",{className:"h-4 w-28 rounded bg-orange-100"}),o.jsx("div",{className:"mt-4 h-3 w-3/4 rounded bg-orange-100"}),o.jsx("div",{className:"mt-2 h-3 w-1/2 rounded bg-orange-100"}),o.jsx("div",{className:"mt-6 h-8 w-full rounded bg-orange-100"})]},_)):E.length===0?o.jsx("div",{className:"col-span-full rounded-xl border border-orange-100 bg-white p-10 text-center text-sm text-gray-500 shadow-sm",children:n||s!=="all"?"No items match your current filters.":"No lost or found items have been reported yet."}):E.map(A=>O(A))}),u&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:o.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl bg-white p-6 shadow-2xl",children:[o.jsx("button",{type:"button",onClick:()=>c(null),className:"absolute right-4 top-4 text-2xl text-gray-400 hover:text-gray-600",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold uppercase ${u._type==="lost"?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:u._type}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.title})]}),o.jsx("p",{className:"text-sm text-gray-600",children:u.description||"No description provided."}),u.image&&o.jsx("img",{src:u.image,alt:u.title,className:"h-56 w-full rounded-xl object-cover"}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm text-gray-600 sm:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Location"}),o.jsx("p",{children:u._type==="lost"?u.location:u.locationFound||""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Date"}),o.jsx("p",{children:u._type==="lost"?u.dateLost?new Date(u.dateLost).toLocaleDateString():"":u.dateFound?new Date(u.dateFound).toLocaleDateString():""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Contact"}),o.jsx("p",{children:u.contact||""})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-700",children:"Reported On"}),o.jsx("p",{children:u.createdAt?new Date(u.createdAt).toLocaleString():""})]})]})]})]})}),i&&o.jsx(ay,{onClose:()=>l(!1),onSuccess:()=>{l(!1),C()}})]})}const uy={open:"bg-emerald-100 text-emerald-600",full:"bg-red-100 text-red-600",ended:"bg-gray-200 text-gray-600"},cy=e=>{const t=Date.now(),n=e.date?new Date(e.date).getTime():null,r=typeof e.capacity=="number"?e.capacity:null,s=r?Math.max(r-(e.attendeesCount||0),0):null;return n&&n<t?{key:"ended",label:"Past"}:r&&s===0?{key:"full",label:"Full"}:{key:"open",label:s!==null?`${s} spots left`:"Open"}};function dy(){const[e,t]=S.useState([]),[n,r]=S.useState(""),[s,a]=S.useState("all"),[i,l]=S.useState(!1),[u,c]=S.useState(""),[m,d]=S.useState(""),[p,v]=S.useState(0),y=S.useRef(null),w=S.useCallback(async x=>{l(!0),c("");try{const k=await fetch(Y("/api/events"),{credentials:"include",signal:x});if(k.status===404){t([]);return}const C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.message)||"Failed to load events.");const N=Array.isArray(C==null?void 0:C.events)?C.events:[];t(N)}catch(k){if(k.name==="AbortError")return;console.error("Error fetching events",k),c(k.message||"Unable to fetch events.")}finally{l(!1)}},[]);S.useEffect(()=>{const x=new AbortController;return w(x.signal),()=>x.abort()},[w,p]);const b=S.useCallback(async(x,k)=>{if(!y.current){y.current=x,d("");try{const C=await fetch(Y(`/api/events/${x}/rsvp`),{method:k?"DELETE":"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),N=await C.json().catch(()=>({}));if(!C.ok)throw new Error((N==null?void 0:N.message)||"Unable to update RSVP status.");const E=N==null?void 0:N.event;E&&t(R=>R.map(T=>T._id===x?E:T)),d((N==null?void 0:N.message)||(k?"RSVP cancelled.":"RSVP confirmed."))}catch(C){console.error("RSVP error",C),d(C.message||"Unable to process RSVP. Please try again.")}finally{y.current=null}}},[]),f=S.useMemo(()=>{const x=n.trim().toLowerCase();return e.filter(k=>s!=="all"&&(k.category||"").toLowerCase()!==s?!1:x?[k.title,k.description,k.venue,k.category].filter(Boolean).map(C=>String(C).toLowerCase()).some(C=>C.includes(x)):!0)},[s,e,n]),h=S.useMemo(()=>{const x=new Set(e.map(k=>(k.category||"General").toLowerCase()));return["all",...Array.from(x)]},[e]),g=()=>{r(""),a("all")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Campus Events"}),o.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"RSVP to upcoming activities and keep track of what matters to you."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>v(x=>x+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{className:"text-base"}),"Refresh"]}),o.jsx("button",{type:"button",onClick:g,className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Clear Filters"})]})]}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{className:"flex flex-1 items-center gap-3",children:[o.jsx(Wt,{className:"text-lg text-gray-400"}),o.jsx("input",{type:"search",value:n,onChange:x=>r(x.target.value),placeholder:"Search by title, description, or venue",className:"w-full rounded-lg border border-orange-100 px-3 py-2 text-sm focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),o.jsx("div",{className:"flex shrink-0 items-center gap-2",children:h.map(x=>o.jsx("button",{type:"button",onClick:()=>a(x),className:`rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-wide transition ${{true:"bg-orange-500 text-white",false:"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}[String(s===x)]}`,children:x==="all"?"All":x},x))})]}),u&&o.jsx("div",{className:"mt-4 rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:u}),m&&o.jsx("div",{className:"mt-4 rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-600",children:m})]}),i?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((x,k)=>o.jsxs("div",{className:"h-40 animate-pulse rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("div",{className:"h-4 w-1/3 rounded bg-orange-100"}),o.jsx("div",{className:"mt-3 h-3 w-1/2 rounded bg-orange-100"}),o.jsx("div",{className:"mt-3 h-3 w-2/3 rounded bg-orange-100"}),o.jsx("div",{className:"mt-6 h-10 w-full rounded bg-orange-100"})]},k))}):f.length===0?o.jsx("div",{className:"rounded-2xl border border-dashed border-orange-200 bg-white p-10 text-center text-sm text-gray-500 shadow-sm",children:e.length===0?"No events scheduled yet. Check back soon!":"No events match your filters. Try a different search."}):o.jsx("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:f.map(x=>{var E;const k=cy(x),C=typeof x.capacity=="number"&&x.capacity>0?`${x.attendeesCount||0}/${x.capacity} attending`:`${x.attendeesCount||0} attending`,N=x.startTime||x.time||null;return o.jsxs("article",{className:"flex h-full flex-col justify-between rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsx("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold uppercase text-indigo-600",children:x.category||"General"}),o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold capitalize ${uy[k.key]}`,children:k.label})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x.title}),o.jsx("p",{className:"text-sm text-gray-600",children:x.description}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-500",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Wt,{}),x.date?new Date(x.date).toLocaleDateString(void 0,{month:"long",day:"numeric",year:"numeric"}):"Date TBA"]}),N&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jr,{}),N]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(jn,{}),x.venue||"Venue TBA"]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Yt,{}),C]})]})]}),o.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[o.jsxs("div",{className:"flex -space-x-2",children:[(E=x.attendees)==null?void 0:E.slice(0,3).map(R=>{var T;return o.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white bg-orange-100 text-xs font-semibold text-orange-600",children:((T=R==null?void 0:R.name)==null?void 0:T.split(" ").map(O=>O[0]).join(""))||"?"},`${x._id}-${R.email}`)}),x.attendeesCount>3&&o.jsxs("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-white bg-gray-100 text-xs font-semibold text-gray-600",children:["+",x.attendeesCount-3]})]}),o.jsxs("button",{type:"button",disabled:y.current===x._id||k.key==="ended",onClick:()=>b(x._id,!!x.isAttending),className:`inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition ${x.isAttending?"border border-emerald-200 bg-emerald-50 text-emerald-600 hover:bg-emerald-100":"bg-orange-500 text-white hover:bg-orange-400"} disabled:opacity-60`,children:[x.isAttending?o.jsx(xh,{}):o.jsx(Wt,{}),x.isAttending?"Going":"RSVP"]})]})]},x._id)})})]})}const fy={notices:"Notice",events:"Event",update:"Update",holidays:"Holiday",others:"General",emergency:"Emergency"},fc={low:"bg-emerald-100 text-emerald-600 border border-emerald-200",medium:"bg-amber-100 text-amber-600 border border-amber-200",high:"bg-red-100 text-red-600 border border-red-200"};function hy(){const[e,t]=S.useState([]),[n,r]=S.useState(""),[s,a]=S.useState("all"),[i,l]=S.useState(!1),[u,c]=S.useState(!1),[m,d]=S.useState(""),[p,v]=S.useState(0),y=S.useRef(null),w=S.useCallback(async x=>{c(!0),d("");try{const k=await fetch(Y("/api/announcements"),{credentials:"include",signal:x});if(k.status===404){t([]);return}const C=await k.json().catch(()=>({}));if(!k.ok)throw new Error((C==null?void 0:C.message)||"Failed to load announcements.");const N=Array.isArray(C==null?void 0:C.notifications)?C.notifications:[];t(N)}catch(k){if(k.name==="AbortError")return;console.error("Announcements fetch error",k),d(k.message||"Unable to fetch announcements.")}finally{c(!1)}},[]);S.useEffect(()=>{const x=new AbortController;return w(x.signal),()=>x.abort()},[w,p]);const b=S.useCallback(async x=>{if(!y.current){y.current=x;try{const k=await fetch(Y(`/api/announcements/${x}/read`),{method:"POST",credentials:"include"});if(!k.ok){const C=await k.json().catch(()=>({}));throw new Error((C==null?void 0:C.message)||"Unable to mark announcement as read.")}t(C=>C.map(N=>N._id===x?{...N,isRead:!0}:N)),K.success("Marked as read.")}catch(k){console.error("Mark announcement error",k),K.error(k.message||"Unable to update announcement status.")}finally{y.current=null}}},[]),f=S.useMemo(()=>{const x=new Set(e.map(k=>(k.category||"others").toLowerCase()));return["all",...Array.from(x)]},[e]),h=S.useMemo(()=>{const x=n.trim().toLowerCase();return e.filter(k=>i&&k.isRead||s!=="all"&&(k.category||"").toLowerCase()!==s?!1:x?[k.title,k.message,k.topic].filter(Boolean).map(C=>String(C).toLowerCase()).some(C=>C.includes(x)):!0)},[e,s,n,i]),g=()=>{r(""),a("all"),l(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Announcements"}),o.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"Review recent updates, notices, and urgent communications."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>v(x=>x+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]}),o.jsx("button",{type:"button",onClick:g,className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Clear Filters"})]})]}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(rr,{className:"text-lg text-gray-400"}),o.jsx("input",{type:"search",value:n,onChange:x=>r(x.target.value),placeholder:"Search by title or message",className:"w-full rounded-lg border border-orange-100 px-3 py-2 text-sm focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-200"})]}),o.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ux,{className:"text-gray-400"}),f.map(x=>o.jsx("button",{type:"button",onClick:()=>a(x),className:`rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-wide transition ${{true:"bg-orange-500 text-white",false:"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}[String(s===x)]}`,children:x==="all"?"All":x},x))]}),o.jsxs("label",{className:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-gray-600",children:[o.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border border-orange-200 text-orange-500",checked:i,onChange:x=>l(x.target.checked)}),"Unread only"]})]})]}),m&&o.jsx("div",{className:"mt-4 rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:m})]}),u?o.jsx("div",{className:"space-y-4",children:Array.from({length:4}).map((x,k)=>o.jsxs("div",{className:"h-36 animate-pulse rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("div",{className:"h-4 w-32 rounded bg-orange-100"}),o.jsx("div",{className:"mt-3 h-3 w-2/3 rounded bg-orange-100"}),o.jsx("div",{className:"mt-2 h-3 w-3/4 rounded bg-orange-100"})]},k))}):h.length===0?o.jsx("div",{className:"rounded-2xl border border-dashed border-orange-200 bg-white p-10 text-center text-sm text-gray-500 shadow-sm",children:e.length===0?"No announcements posted yet.":"Nothing matches your filters."}):o.jsx("div",{className:"space-y-4",children:h.map(x=>{const k=x.urgency||(x.isImportant?"high":"medium"),C=fc[k]||fc.medium,N=(x.category||"others").toLowerCase();return o.jsxs("article",{className:`rounded-2xl border ${x.isRead?"border-orange-100 bg-white":"border-orange-200 bg-orange-50"} p-6 shadow-sm transition`,children:[o.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-semibold ${C}`,children:k.toUpperCase()}),o.jsx("span",{className:"rounded-full bg-indigo-50 px-3 py-1 text-xs font-semibold uppercase text-indigo-600",children:fy[N]||"Update"}),!x.isRead&&o.jsx("span",{className:"rounded-full bg-red-100 px-2.5 py-1 text-xs font-semibold uppercase text-red-600",children:"New"})]}),o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x.title}),o.jsx("p",{className:"text-sm text-gray-600",children:x.message})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",disabled:x.isRead||y.current===x._id,onClick:()=>b(x._id),className:"inline-flex items-center gap-2 rounded-lg border border-emerald-200 bg-white px-3 py-2 text-sm font-semibold text-emerald-600 transition hover:bg-emerald-50 disabled:opacity-60",children:[o.jsx($x,{}),"Mark as read"]})})]}),o.jsxs("footer",{className:"mt-4 flex flex-wrap items-center gap-4 text-xs text-gray-500",children:[x.topic&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(wh,{}),x.topic]}),(x.tags||[]).map(E=>o.jsxs("span",{className:"rounded-full bg-orange-100 px-2.5 py-1 font-semibold text-orange-600",children:["#",E]},E)),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Ml,{}),x.targetAudience?`Audience: ${x.targetAudience}`:"All audiences"]}),o.jsx("span",{children:x.createdAt?new Date(x.createdAt).toLocaleString():"Timestamp unavailable"}),x.expiresAt&&o.jsxs("span",{children:["Expires ",new Date(x.expiresAt).toLocaleString()]})]})]},x._id)})})]})}const hc={critical:"border-red-200 bg-red-50 text-red-700",warning:"border-amber-200 bg-amber-50 text-amber-700",info:"border-sky-200 bg-sky-50 text-sky-700"},mc={all:"Entire campus",students:"Students",faculty:"Faculty"},my=[{value:"in-app",label:"In-app"},{value:"push",label:"Push"},{value:"email",label:"Email"},{value:"sms",label:"SMS"}],py=[{value:"weather",label:"Weather"},{value:"security",label:"Security"},{value:"health",label:"Health"},{value:"infrastructure",label:"Infrastructure"},{value:"other",label:"Other"}],Na={title:"",message:"",severity:"info",category:"other",audience:"all",deliveryChannels:["in-app"],expiresAt:"",location:"",attachments:""};function gy(){const e=(Un==null?void 0:Un())??{},{role:t="user"}=e,n=t==="admin",[r,s]=S.useState([]),[a,i]=S.useState("all"),[l,u]=S.useState("all"),[c,m]=S.useState(!1),[d,p]=S.useState(""),[v,y]=S.useState(""),[w,b]=S.useState(0),f=S.useRef(null),[h,g]=S.useState(Na),[x,k]=S.useState({submitting:!1,error:"",success:""}),C=S.useCallback(async _=>{m(!0),p("");try{const z=await fetch(Y("/api/emergency/active"),{credentials:"include",signal:_}),F=await z.json().catch(()=>({}));if(!z.ok)throw new Error((F==null?void 0:F.message)||"Failed to load emergency alerts.");const U=Array.isArray(F==null?void 0:F.data)?F.data:[];s(U)}catch(z){if(z.name==="AbortError")return;console.error("Emergency alerts fetch error",z),p(z.message||"Unable to fetch alerts.")}finally{m(!1)}},[]),N=_=>{const{name:z,value:F}=_.target;g(U=>({...U,[z]:F}))},E=_=>{g(z=>{const F=z.deliveryChannels.includes(_);if(F&&z.deliveryChannels.length===1)return z;const U=F?z.deliveryChannels.filter(B=>B!==_):[...z.deliveryChannels,_];return{...z,deliveryChannels:U}})},R=()=>{g(Na),k(_=>({..._,error:"",success:""}))},T=async _=>{if(_.preventDefault(),k({submitting:!0,error:"",success:""}),!h.deliveryChannels.length){k({submitting:!1,error:"Select at least one delivery channel.",success:""});return}let z;if(h.expiresAt){const L=new Date(h.expiresAt);if(Number.isNaN(L.getTime())){k({submitting:!1,error:"Provide a valid expiry date.",success:""});return}if(L<=new Date){k({submitting:!1,error:"Expiry must be in the future.",success:""});return}z=L.toISOString()}const F={};h.location.trim()&&(F.location=h.location.trim());const U=h.attachments.split(`
`).map(L=>L.trim()).filter(Boolean);U.length&&(F.attachments=U);const B={title:h.title.trim(),message:h.message.trim(),severity:h.severity,category:h.category,audience:h.audience,deliveryChannels:h.deliveryChannels,...z?{expiresAt:z}:{},...Object.keys(F).length?{metadata:F}:{}};try{const L=await fetch(Y("/api/emergency"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}),P=await L.json().catch(()=>({}));if(!L.ok)throw new Error((P==null?void 0:P.message)||"Failed to create emergency alert.");k({submitting:!1,error:"",success:(P==null?void 0:P.message)||"Emergency alert created."}),g(Na),b(I=>I+1)}catch(L){console.error("Emergency alert create error",L),k({submitting:!1,error:L.message||"Unable to create alert.",success:""})}};S.useEffect(()=>{const _=new AbortController;return C(_.signal),()=>_.abort()},[C,w]);const O=S.useCallback(async _=>{if(!f.current){f.current=_,y("");try{const z=await fetch(Y(`/api/emergency/${_}/acknowledge`),{method:"POST",credentials:"include"}),F=await z.json().catch(()=>({}));if(!z.ok)throw new Error((F==null?void 0:F.message)||"Failed to acknowledge alert.");s(U=>U.map(B=>B._id===_?{...B,acknowledged:!0}:B)),y((F==null?void 0:F.message)||"Alert acknowledged.")}catch(z){console.error("Acknowledge alert error",z),y(z.message||"Unable to update alert status.")}finally{f.current=null}}},[]),A=S.useMemo(()=>r.filter(_=>!(a!=="all"&&_.severity!==a||l!=="all"&&_.audience!==l)),[r,l,a]);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Emergency Alerts"}),o.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"Monitor active alerts and acknowledge updates that apply to you."})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{type:"button",onClick:()=>b(_=>_+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]})})]}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:["all","info","warning","critical"].map(_=>o.jsx("button",{type:"button",onClick:()=>i(_),className:`rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-wide transition ${{true:"bg-orange-500 text-white",false:"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}[String(a===_)]}`,children:_==="all"?"All Severity":_},_))}),o.jsx("div",{className:"flex items-center gap-2",children:["all","students","faculty"].map(_=>o.jsx("button",{type:"button",onClick:()=>u(_),className:`rounded-full px-4 py-2 text-xs font-semibold uppercase tracking-wide transition ${{true:"bg-indigo-500 text-white",false:"border border-indigo-200 bg-white text-indigo-500 hover:bg-indigo-50"}[String(l===_)]}`,children:_==="all"?"All Audiences":mc[_]||_},_))})]}),d&&o.jsx("div",{className:"mt-4 rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:d}),v&&o.jsx("div",{className:"mt-4 rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-600",children:v})]}),n&&o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("header",{className:"mb-4 flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Emergency Alert"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Publish urgent updates for the campus community. Fill in every required field before submitting."})]})}),x.error&&o.jsx("div",{className:"mb-4 rounded-lg border border-red-100 bg-red-50 px-4 py-2 text-sm text-red-600",children:x.error}),x.success&&o.jsx("div",{className:"mb-4 rounded-lg border border-emerald-100 bg-emerald-50 px-4 py-2 text-sm text-emerald-600",children:x.success}),o.jsxs("form",{onSubmit:T,className:"space-y-5",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Title"}),o.jsx("input",{type:"text",name:"title",value:h.title,onChange:N,required:!0,minLength:5,maxLength:140,placeholder:"e.g. Severe weather warning",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Severity"}),o.jsxs("select",{name:"severity",value:h.severity,onChange:N,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:[o.jsx("option",{value:"info",children:"Info"}),o.jsx("option",{value:"warning",children:"Warning"}),o.jsx("option",{value:"critical",children:"Critical"})]})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{name:"message",value:h.message,onChange:N,required:!0,minLength:20,maxLength:2e3,rows:4,placeholder:"Provide detailed instructions and the nature of the emergency.",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Category"}),o.jsx("select",{name:"category",value:h.category,onChange:N,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:py.map(_=>o.jsx("option",{value:_.value,children:_.label},_.value))})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Audience"}),o.jsxs("select",{name:"audience",value:h.audience,onChange:N,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:[o.jsx("option",{value:"all",children:"Entire campus"}),o.jsx("option",{value:"students",children:"Students"}),o.jsx("option",{value:"faculty",children:"Faculty"})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Expires at (optional)"}),o.jsx("input",{type:"datetime-local",name:"expiresAt",value:h.expiresAt,onChange:N,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("fieldset",{className:"space-y-2",children:[o.jsx("legend",{className:"text-sm font-semibold text-gray-700",children:"Delivery channels"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:my.map(_=>o.jsxs("label",{className:"inline-flex items-center gap-2 rounded-full border border-orange-200 bg-orange-50/60 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-orange-600",children:[o.jsx("input",{type:"checkbox",className:"h-3 w-3",checked:h.deliveryChannels.includes(_.value),onChange:()=>E(_.value)}),_.label]},_.value))})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Location (optional)"}),o.jsx("input",{type:"text",name:"location",value:h.location,onChange:N,maxLength:120,placeholder:"e.g. North Hall, 2nd floor",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Attachment URLs (optional, one per line)"}),o.jsx("textarea",{name:"attachments",value:h.attachments,onChange:N,rows:3,placeholder:"https://example.com/resource.pdf",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:R,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Reset"}),o.jsxs("button",{type:"submit",disabled:x.submitting,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400 disabled:cursor-not-allowed disabled:bg-orange-300",children:[o.jsx(yn,{}),x.submitting?"Publishing...":"Create Alert"]})]})]})]}),c?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((_,z)=>o.jsxs("div",{className:"h-40 animate-pulse rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("div",{className:"h-4 w-1/3 rounded bg-orange-100"}),o.jsx("div",{className:"mt-3 h-3 w-2/3 rounded bg-orange-100"}),o.jsx("div",{className:"mt-2 h-3 w-1/2 rounded bg-orange-100"})]},z))}):A.length===0?o.jsx("div",{className:"rounded-2xl border border-dashed border-orange-200 bg-white p-10 text-center text-sm text-gray-500 shadow-sm",children:r.length===0?"No active alerts right now.":"No alerts match your filters."}):o.jsx("div",{className:"space-y-4",children:A.map(_=>{var z;return o.jsxs("article",{className:`rounded-2xl border ${hc[_.severity]||hc.info} p-6 shadow-sm`,children:[o.jsxs("header",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold uppercase",children:[o.jsx(gh,{}),o.jsx("span",{children:_.severity||"info"})]}),o.jsx("h2",{className:"text-xl font-bold",children:_.title}),o.jsx("p",{className:"text-sm",children:_.message})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("button",{type:"button",disabled:_.acknowledged||f.current===_._id,onClick:()=>O(_._id),className:`inline-flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-semibold transition ${_.acknowledged?"border border-emerald-200 bg-emerald-50 text-emerald-600":"border border-white bg-white text-slate-700 hover:bg-slate-50"} disabled:opacity-60`,children:[o.jsx(xh,{}),_.acknowledged?"Acknowledged":"Mark acknowledged"]})})]}),o.jsxs("footer",{className:"mt-4 flex flex-wrap items-center gap-4 text-xs",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Yt,{}),mc[_.audience]||"All"]}),((z=_.metadata)==null?void 0:z.location)&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(jn,{}),_.metadata.location]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(qx,{}),"Channels: ",(_.deliveryChannels||[]).join(", ")||"In-app"]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jr,{}),_.createdAt?new Date(_.createdAt).toLocaleString():"Posted just now"]}),_.expiresAt&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jr,{}),"Expires ",new Date(_.expiresAt).toLocaleString()]})]})]},_._id)})})]})}function pc({title:e}){return o.jsxs("div",{className:"rounded-xl border border-orange-100 bg-white p-10 shadow-sm",children:[o.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:e}),o.jsx("p",{className:"mt-2 text-gray-500",children:"This section is under construction. Explore the other modules from the sidebar in the meantime."})]})}const ka=[],gc=e=>{if(!e)return"Unknown";try{return new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}catch{return"Unknown"}},xy=[".pdf",".doc",".docx"].join(","),yy=(e=0)=>!Number.isFinite(e)||e<0?"0 downloads":e===1?"1 download":`${e} downloads`,vy=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown";const t=["B","KB","MB","GB"];let n=e,r=0;for(;n>=1024&&r<t.length-1;)n/=1024,r+=1;return`${n.toFixed(n>=10||r===0?0:1)} ${t[r]}`};function wy(){var B,L;const e=(Un==null?void 0:Un())??{},{role:t="user"}=e,n=t==="admin",[r,s]=S.useState(ka),[a,i]=S.useState(!0),[l,u]=S.useState(null),[c,m]=S.useState(""),[d,p]=S.useState(!1),[v,y]=S.useState(null),[w,b]=S.useState({loading:!1,error:null}),[f,h]=S.useState({title:"",subject:"",description:""}),[g,x]=S.useState(null),k=S.useRef(null),[C,N]=S.useState({id:null,error:""});S.useEffect(()=>{let P=!1;async function I(){i(!0);const{data:M,error:V}=await sn("/api/notes/all",{success:!1,notes:ka});P||(V?u(V):(u(null),s(Array.isArray(M==null?void 0:M.notes)?M.notes:ka)),i(!1))}return I(),()=>{P=!0}},[]);const E=S.useMemo(()=>{if(!c)return r;const P=c.toLowerCase();return r.filter(I=>{var V,ne;return[I==null?void 0:I.title,I==null?void 0:I.description,I==null?void 0:I.subject,(V=I==null?void 0:I.uploader)==null?void 0:V.name,(ne=I==null?void 0:I.uploader)==null?void 0:ne.email].some(de=>de&&de.toLowerCase().includes(P))})},[r,c]),R=()=>{p(!1),b({loading:!1,error:null}),h({title:"",subject:"",description:""}),x(null),k.current&&(k.current.value="")},T=P=>{const{name:I,value:M}=P.target;h(V=>({...V,[I]:M}))},O=P=>{var M;const I=(M=P.target.files)==null?void 0:M[0];x(I||null)},A=async P=>{if(P.preventDefault(),b({loading:!0,error:null}),!g){b({loading:!1,error:"Please choose a PDF or DOC/DOCX file."});return}const I=new FormData;I.append("title",f.title.trim()),I.append("subject",f.subject.trim()),I.append("description",f.description.trim()),I.append("file",g);try{const M=await fetch(Y("/api/notes/upload"),{method:"POST",credentials:"include",body:I}),V=await M.json().catch(()=>({}));if(!M.ok||!(V!=null&&V.note)){const ne=(V==null?void 0:V.message)||"Failed to upload the note.";b({loading:!1,error:ne});return}s(ne=>{const de=ne.filter(st=>st._id!==V.note._id);return[V.note,...de]}),b({loading:!1,error:null}),R(),y(V.note)}catch(M){b({loading:!1,error:(M==null?void 0:M.message)||"Failed to upload the note."})}},_=P=>{y(P)},z=()=>{y(null)},F=S.useCallback(P=>{s(I=>I.map(M=>M._id===P?{...M,downloads:(M.downloads||0)+1}:M)),y(I=>I&&I._id===P?{...I,downloads:(I.downloads||0)+1}:I)},[]),U=S.useCallback(async P=>{if(!(!P||!window.confirm("Delete this note? This action cannot be undone."))){N({id:P,error:""});try{const M=await fetch(Y(`/api/notes/${P}`),{method:"DELETE",credentials:"include"}),V=await M.json().catch(()=>({}));if(!M.ok)throw new Error((V==null?void 0:V.message)||"Failed to delete note.");s(ne=>ne.filter(de=>de._id!==P)),y(ne=>ne&&ne._id===P?null:ne),N({id:null,error:""})}catch(M){console.error("Note delete error",M),N({id:null,error:M.message||"Unable to delete note."})}}},[]);return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notes Sharing"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Upload and browse study materials shared by the Campus Connect community."})]}),o.jsxs("button",{type:"button",onClick:()=>p(!0),className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400",children:[o.jsx(cc,{className:"text-base"}),"Upload Notes"]})]}),o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[o.jsx($l,{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"search",placeholder:"Search by title, subject, or uploader",value:c,onChange:P=>m(P.target.value),className:"w-full rounded-lg border border-gray-200 bg-white py-2 pl-9 pr-3 text-sm shadow-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),l&&o.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:[o.jsx(Ei,{className:"text-base"}),o.jsx("span",{children:l})]}),!l&&C.error&&o.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:[o.jsx(Ei,{className:"text-base"}),o.jsx("span",{children:C.error})]})]}),o.jsx("section",{children:a?o.jsx("div",{className:"flex min-h-[200px] items-center justify-center rounded-2xl border border-dashed border-gray-200 bg-white/70",children:o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Loading shared notes..."})}):E.length===0?o.jsxs("div",{className:"flex min-h-[200px] flex-col items-center justify-center gap-2 rounded-2xl border border-dashed border-gray-200 bg-white/70 text-center",children:[o.jsx(Xr,{className:"text-3xl text-gray-300"}),o.jsx("p",{className:"text-sm font-medium text-gray-600",children:c?"No notes match your search.":"No notes have been shared yet."}),!c&&o.jsx("p",{className:"text-xs text-gray-400",children:"Be the first to share helpful study materials with the community."})]}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:E.map(P=>{var I;return o.jsxs("article",{className:"group flex h-full flex-col rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition hover:-translate-y-1 hover:shadow-md",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"inline-flex rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:P.subject||"General"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:P.title}),o.jsx("p",{className:"text-sm text-gray-500",children:P.description})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[n&&o.jsx("button",{type:"button",onClick:()=>U(P._id),disabled:C.id===P._id,className:"inline-flex items-center justify-center rounded-full border border-red-200 bg-white p-2 text-sm font-semibold text-red-500 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:o.jsx(Zr,{className:"text-base"})}),o.jsx("span",{className:"rounded-full bg-gray-100 px-3 py-1 text-xs font-medium text-gray-500",children:yy(P.downloads)})]})]}),o.jsxs("div",{className:"mt-6 flex flex-1 flex-col justify-end gap-3 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium text-gray-700",children:((I=P==null?void 0:P.uploader)==null?void 0:I.name)||"Shared anonymously"}),o.jsx("span",{className:"hidden h-1.5 w-1.5 rounded-full bg-gray-300 sm:inline-block","aria-hidden":"true"}),o.jsx("span",{children:gc(P.createdAt)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{type:"button",onClick:()=>_(P),className:"inline-flex flex-1 items-center justify-center gap-2 rounded-lg border border-orange-200 px-3 py-2 text-sm font-semibold text-orange-500 transition hover:border-orange-300 hover:bg-orange-50",children:[o.jsx(zx,{className:"text-base"}),"Preview"]}),o.jsxs("a",{href:Y(P.downloadUrl||`/api/notes/${P._id}/download`),target:"_blank",rel:"noopener noreferrer",onClick:()=>F(P._id),className:"inline-flex items-center justify-center gap-2 rounded-lg bg-orange-500 px-3 py-2 text-sm font-semibold text-white transition hover:bg-orange-400",children:[o.jsx(uc,{className:"text-base"}),"Download"]})]})]})]},P._id)})})}),d&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Share New Notes"}),o.jsx("button",{type:"button",onClick:R,className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",children:o.jsx(es,{className:"text-lg"})})]}),o.jsxs("form",{onSubmit:A,className:"space-y-5 px-6 py-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Title"}),o.jsx("input",{type:"text",name:"title",value:f.title,onChange:T,required:!0,minLength:3,maxLength:120,placeholder:"E.g. Advanced Calculus Notes",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Subject"}),o.jsx("input",{type:"text",name:"subject",value:f.subject,onChange:T,required:!0,minLength:2,maxLength:80,placeholder:"E.g. Mathematics",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Description"}),o.jsx("textarea",{name:"description",value:f.description,onChange:T,required:!0,minLength:10,maxLength:500,rows:4,placeholder:"Provide a short summary and key takeaways from the notes.",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm shadow-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"block rounded-2xl border border-dashed border-orange-200 bg-orange-50/40 p-6 text-center",children:[o.jsxs("span",{className:"flex flex-col items-center gap-3 text-sm text-orange-600",children:[o.jsx(cc,{className:"text-2xl"}),o.jsx("span",{className:"font-semibold",children:"Upload PDF or Word document"}),o.jsx("span",{className:"text-xs text-orange-500",children:"Maximum size 15MB. Supported formats: PDF, DOC, DOCX."})]}),o.jsx("input",{type:"file",accept:xy,onChange:O,required:!0,ref:k,className:"sr-only"}),g&&o.jsxs("p",{className:"mt-3 text-xs font-medium text-orange-600",children:["Selected: ",g.name]})]}),w.error&&o.jsx("p",{className:"text-sm text-red-500",children:w.error}),o.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:R,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:w.loading,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400 disabled:cursor-not-allowed disabled:bg-orange-300",children:w.loading?"Uploading...":"Share Notes"})]})]})]})}),v&&o.jsx("div",{className:"fixed inset-0 z-30 flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"flex w-full max-w-5xl flex-col overflow-hidden rounded-3xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-start justify-between border-b border-gray-100 px-6 py-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:v.title}),o.jsxs("p",{className:"mt-0.5 text-xs text-gray-500",children:["Shared by ",((B=v==null?void 0:v.uploader)==null?void 0:B.name)||"Unknown"," on ",gc(v.createdAt)]})]}),o.jsx("button",{type:"button",onClick:z,className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",children:o.jsx(es,{className:"text-lg"})})]}),o.jsxs("div",{className:"grid gap-0 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-4 border-b border-gray-100 p-6 md:border-b-0 md:border-r",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-flex rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:v.subject||"General"}),o.jsx("p",{className:"mt-3 text-sm text-gray-600",children:v.description})]}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-500",children:[o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"File name:"})," ",v.fileName]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"File type:"})," ",v.fileType]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"File size:"})," ",vy(v.fileSize)]}),o.jsxs("li",{children:[o.jsx("span",{className:"font-semibold text-gray-700",children:"Downloads:"})," ",v.downloads||0]})]}),o.jsxs("div",{className:"flex gap-3",children:[n&&o.jsxs("button",{type:"button",onClick:()=>U(v._id),disabled:C.id===v._id,className:"inline-flex items-center gap-2 rounded-lg border border-red-200 px-4 py-2 text-sm font-semibold text-red-600 transition hover:bg-red-50 disabled:cursor-not-allowed disabled:opacity-60",children:[o.jsx(Zr,{className:"text-base"}),C.id===v._id?"Deleting...":"Delete"]}),o.jsxs("a",{href:Y(v.downloadUrl||`/api/notes/${v._id}/download`),target:"_blank",rel:"noopener noreferrer",onClick:()=>F(v._id),className:"inline-flex flex-1 items-center justify-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-semibold text-white transition hover:bg-orange-400",children:[o.jsx(uc,{className:"text-base"}),"Download"]})]})]}),o.jsx("div",{className:"relative min-h-[340px] bg-gray-50",children:(L=v.fileType)!=null&&L.includes("pdf")?o.jsx("iframe",{title:`Preview of ${v.title}`,src:Y(v.previewUrl||`/api/notes/${v._id}/preview`),className:"absolute inset-0 h-full w-full rounded-br-3xl"}):o.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-3 p-6 text-center text-sm text-gray-500",children:[o.jsx(Xr,{className:"text-3xl text-gray-300"}),o.jsx("p",{children:"Preview is available for PDF files only. Please download the document to view it on your device."})]})})]})]})})]})}async function sr(e){const r=(e.headers.get("content-type")||"").includes("application/json")?await e.json():null;if(!e.ok){const s=(r==null?void 0:r.message)||"Request failed.",a=new Error(s);throw a.status=e.status,a.payload=r,a}return r}const bh=(e={})=>{const t=new URLSearchParams;Object.entries(e).forEach(([r,s])=>{s==null||s===""||t.set(r,s)});const n=t.toString();return n?`?${n}`:""};async function by(e={}){const t=await bn(`/api/discussions/live${bh(e)}`,{method:"GET"});return sr(t)}async function jy(e){const t=await bn("/api/discussions/live",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return sr(t)}async function Ny(e){const t=await bn(`/api/discussions/live/${e}/join`,{method:"POST"});return sr(t)}async function ky(e){const t=await bn(`/api/discussions/live/${e}/leave`,{method:"POST"});return sr(t)}async function xc(e,t={}){const n=await bn(`/api/discussions/live/${e}/messages${bh(t)}`,{method:"GET"});return sr(n)}async function Sy(){const e=await bn("/api/discussions/live/socket-token",{method:"POST"});return sr(e)}function Cy({discussion:e,isActive:t,onSelect:n}){var a,i;const r=()=>{typeof n=="function"&&n(e)},s=["rounded-3xl border px-8 py-6 transition-all duration-150","bg-white/90 backdrop-blur-sm",t?"border-orange-400 shadow-lg":"border-orange-100 shadow-sm hover:border-orange-200"].filter(Boolean).join(" ");return o.jsxs("article",{className:s,children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-600",children:e.topicTag||"Campus"}),o.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:e.title}),o.jsx("p",{className:"max-w-3xl text-sm leading-relaxed text-slate-600",children:e.description})]}),o.jsxs("div",{className:"flex flex-col items-end gap-4",children:[o.jsx("div",{className:"text-right text-xs uppercase tracking-wide text-slate-400",children:new Date(e.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric"})}),o.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-2 rounded-full border border-orange-400 px-4 py-2 text-sm font-medium text-orange-600 transition hover:bg-orange-50",children:[e.isJoined?"Open discussion":"View discussion",o.jsx("span",{"aria-hidden":"true",children:""})]})]})]}),o.jsxs("footer",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-slate-500",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block h-2 w-2 rounded-full bg-emerald-400","aria-hidden":"true"}),e.participantsCount," participant",e.participantsCount===1?"":"s"]}),e.creator&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"inline-flex h-8 w-8 items-center justify-center overflow-hidden rounded-full bg-orange-100 text-sm font-semibold text-orange-600",children:[(a=e.creator.firstName)==null?void 0:a[0],(i=e.creator.lastName)==null?void 0:i[0]]}),o.jsxs("span",{className:"text-slate-600",children:[e.creator.firstName," ",e.creator.lastName]})]})]})]})}const ft=Object.create(null);ft.open="0";ft.close="1";ft.ping="2";ft.pong="3";ft.message="4";ft.upgrade="5";ft.noop="6";const qs=Object.create(null);Object.keys(ft).forEach(e=>{qs[ft[e]]=e});const _i={type:"error",data:"parser error"},jh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Nh=typeof ArrayBuffer=="function",kh=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Bl=({type:e,data:t},n,r)=>jh&&t instanceof Blob?n?r(t):yc(t,r):Nh&&(t instanceof ArrayBuffer||kh(t))?n?r(t):yc(new Blob([t]),r):r(ft[e]+(t||"")),yc=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function vc(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Sa;function Ey(e,t){if(jh&&e.data instanceof Blob)return e.data.arrayBuffer().then(vc).then(t);if(Nh&&(e.data instanceof ArrayBuffer||kh(e.data)))return t(vc(e.data));Bl(e,!1,n=>{Sa||(Sa=new TextEncoder),t(Sa.encode(n))})}const wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<wc.length;e++)br[wc.charCodeAt(e)]=e;const _y=e=>{let t=e.length*.75,n=e.length,r,s=0,a,i,l,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const c=new ArrayBuffer(t),m=new Uint8Array(c);for(r=0;r<n;r+=4)a=br[e.charCodeAt(r)],i=br[e.charCodeAt(r+1)],l=br[e.charCodeAt(r+2)],u=br[e.charCodeAt(r+3)],m[s++]=a<<2|i>>4,m[s++]=(i&15)<<4|l>>2,m[s++]=(l&3)<<6|u&63;return c},Ly=typeof ArrayBuffer=="function",zl=(e,t)=>{if(typeof e!="string")return{type:"message",data:Sh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Ry(e.substring(1),t)}:qs[n]?e.length>1?{type:qs[n],data:e.substring(1)}:{type:qs[n]}:_i},Ry=(e,t)=>{if(Ly){const n=_y(e);return Sh(n,t)}else return{base64:!0,data:e}},Sh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Ch="",Ay=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((a,i)=>{Bl(a,!1,l=>{r[i]=l,++s===n&&t(r.join(Ch))})})},Py=(e,t)=>{const n=e.split(Ch),r=[];for(let s=0;s<n.length;s++){const a=zl(n[s],t);if(r.push(a),a.type==="error")break}return r};function Ty(){return new TransformStream({transform(e,t){Ey(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const a=new DataView(s.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{s=new Uint8Array(9);const a=new DataView(s.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ca;function Ls(e){return e.reduce((t,n)=>t+n.length,0)}function Rs(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Oy(e,t){Ca||(Ca=new TextDecoder);const n=[];let r=0,s=-1,a=!1;return new TransformStream({transform(i,l){for(n.push(i);;){if(r===0){if(Ls(n)<1)break;const u=Rs(n,1);a=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ls(n)<2)break;const u=Rs(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Ls(n)<8)break;const u=Rs(n,8),c=new DataView(u.buffer,u.byteOffset,u.length),m=c.getUint32(0);if(m>Math.pow(2,21)-1){l.enqueue(_i);break}s=m*Math.pow(2,32)+c.getUint32(4),r=3}else{if(Ls(n)<s)break;const u=Rs(n,s);l.enqueue(zl(a?u:Ca.decode(u),t)),r=0}if(s===0||s>e){l.enqueue(_i);break}}}})}const Eh=4;function ce(e){if(e)return Dy(e)}function Dy(e){for(var t in ce.prototype)e[t]=ce.prototype[t];return e}ce.prototype.on=ce.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ce.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ce.prototype.off=ce.prototype.removeListener=ce.prototype.removeAllListeners=ce.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ce.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};ce.prototype.emitReserved=ce.prototype.emit;ce.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ce.prototype.hasListeners=function(e){return!!this.listeners(e).length};const qo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Ue=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Fy="arraybuffer";function _h(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Iy=Ue.setTimeout,$y=Ue.clearTimeout;function Ko(e,t){t.useNativeTimers?(e.setTimeoutFn=Iy.bind(Ue),e.clearTimeoutFn=$y.bind(Ue)):(e.setTimeoutFn=Ue.setTimeout.bind(Ue),e.clearTimeoutFn=Ue.clearTimeout.bind(Ue))}const My=1.33;function By(e){return typeof e=="string"?zy(e):Math.ceil((e.byteLength||e.size)*My)}function zy(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Lh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Uy(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Vy(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let a=n[r].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}class Hy extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Ul extends ce{constructor(t){super(),this.writable=!1,Ko(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Hy(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=zl(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Uy(t);return n.length?"?"+n:""}}class Wy extends Ul{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Py(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Ay(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Lh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let Rh=!1;try{Rh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const qy=Rh;function Ky(){}class Qy extends Wy{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,a)=>{this.onError("xhr post error",s,a)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}let Vn=class Ks extends ce{constructor(t,n,r){super(),this.createRequest=t,Ko(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=_h(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ks.requestsCount++,Ks.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ky,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ks.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Vn.requestsCount=0;Vn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bc);else if(typeof addEventListener=="function"){const e="onpagehide"in Ue?"pagehide":"unload";addEventListener(e,bc,!1)}}function bc(){for(let e in Vn.requests)Vn.requests.hasOwnProperty(e)&&Vn.requests[e].abort()}const Yy=function(){const e=Ah({xdomain:!1});return e&&e.responseType!==null}();class Jy extends Qy{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Yy&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Vn(Ah,this.uri(),t)}}function Ah(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||qy))return new XMLHttpRequest}catch{}if(!t)try{return new Ue[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Ph=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Xy extends Ul{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=Ph?{}:_h(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;Bl(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}s&&qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Lh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ea=Ue.WebSocket||Ue.MozWebSocket;class Gy extends Xy{createSocket(t,n,r){return Ph?new Ea(t,n,r):n?new Ea(t,n):new Ea(t)}doWrite(t,n){this.ws.send(n)}}class Zy extends Ul{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Oy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=Ty();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const a=()=>{r.read().then(({done:l,value:u})=>{l||(this.onPacket(u),a())}).catch(l=>{})};a();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&qo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const ev={websocket:Gy,webtransport:Zy,polling:Jy},tv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Li(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=tv.exec(e||""),a={},i=14;for(;i--;)a[nv[i]]=s[i]||"";return n!=-1&&r!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=rv(a,a.path),a.queryKey=sv(a,a.query),a}function rv(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function sv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,a){s&&(n[s]=a)}),n}const Ri=typeof addEventListener=="function"&&typeof removeEventListener=="function",Qs=[];Ri&&addEventListener("offline",()=>{Qs.forEach(e=>e())},!1);class qt extends ce{constructor(t,n){if(super(),this.binaryType=Fy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Li(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Li(n.host).host);Ko(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vy(this.opts.query)),Ri&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Qs.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Eh,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&qt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",qt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=By(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,qo(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:t,data:n,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(qt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ri&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Qs.indexOf(this._offlineEventListener);r!==-1&&Qs.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}qt.protocol=Eh;class ov extends qt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;qt.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!r)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;qt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function a(){r||(r=!0,m(),n.close(),n=null)}const i=d=>{const p=new Error("probe error: "+d);p.transport=n.name,a(),this.emitReserved("upgradeError",p)};function l(){i("transport closed")}function u(){i("socket closed")}function c(d){n&&d.name!==n.name&&a()}const m=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",l),this.off("close",u),this.off("upgrading",c)};n.once("open",s),n.once("error",i),n.once("close",l),this.once("close",u),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let av=class extends ov{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>ev[s]).filter(s=>!!s)),super(t,r)}};function iv(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Li(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}const lv=typeof ArrayBuffer=="function",uv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Th=Object.prototype.toString,cv=typeof Blob=="function"||typeof Blob<"u"&&Th.call(Blob)==="[object BlobConstructor]",dv=typeof File=="function"||typeof File<"u"&&Th.call(File)==="[object FileConstructor]";function Vl(e){return lv&&(e instanceof ArrayBuffer||uv(e))||cv&&e instanceof Blob||dv&&e instanceof File}function Ys(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Ys(e[n]))return!0;return!1}if(Vl(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Ys(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ys(e[n]))return!0;return!1}function fv(e){const t=[],n=e.data,r=e;return r.data=Ai(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Ai(e,t){if(!e)return e;if(Vl(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Ai(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Ai(e[r],t));return n}return e}function hv(e,t){return e.data=Pi(e.data,t),delete e.attachments,e}function Pi(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Pi(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Pi(e[n],t));return e}const mv=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pv=5;var W;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class gv{constructor(t){this.replacer=t}encode(t){return(t.type===W.EVENT||t.type===W.ACK)&&Ys(t)?this.encodeAsBinary({type:t.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===W.BINARY_EVENT||t.type===W.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=fv(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function jc(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hl extends ce{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===W.BINARY_EVENT;r||n.type===W.BINARY_ACK?(n.type=r?W.EVENT:W.ACK,this.reconstructor=new xv(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Vl(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(W[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===W.BINARY_EVENT||r.type===W.BINARY_ACK){const a=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(a,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(a,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const a=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(a,n+1))}if(t.charAt(++n)){const a=this.tryParse(t.substr(n));if(Hl.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case W.CONNECT:return jc(n);case W.DISCONNECT:return n===void 0;case W.CONNECT_ERROR:return typeof n=="string"||jc(n);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&mv.indexOf(n[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xv{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=hv(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yv=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hl,Encoder:gv,get PacketType(){return W},protocol:pv},Symbol.toStringTag,{value:"Module"}));function Je(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const vv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Oh extends ce{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Je(t,"open",this.onopen.bind(this)),Je(t,"packet",this.onpacket.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,a;if(vv.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:W.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,d=n.pop();this._registerAckCallback(m,d),i.id=m}const l=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(u?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},s),i=(...l)=>{this.io.clearTimeoutFn(a),n.apply(this,l)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((r,s)=>{const a=(i,l)=>i?s(i):r(l);a.withError=!0,n.push(a),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...a)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case W.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(t);break;case W.ACK:case W.BINARY_ACK:this.onack(t);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:W.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function or(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}or.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};or.prototype.reset=function(){this.attempts=0};or.prototype.setMin=function(e){this.ms=e};or.prototype.setMax=function(e){this.max=e};or.prototype.setJitter=function(e){this.jitter=e};class Ti extends ce{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Ko(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new or({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||yv;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new av(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Je(n,"open",function(){r.onopen(),t&&t()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},i=Je(n,"error",a);if(this._timeout!==!1){const l=this._timeout,u=this.setTimeoutFn(()=>{s(),a(new Error("timeout")),n.close()},l);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Je(t,"ping",this.onping.bind(this)),Je(t,"data",this.ondata.bind(this)),Je(t,"error",this.onerror.bind(this)),Je(t,"close",this.onclose.bind(this)),Je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){qo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Oh(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const gr={};function Js(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=iv(e,t.path||"/socket.io"),r=n.source,s=n.id,a=n.path,i=gr[s]&&a in gr[s].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let u;return l?u=new Ti(r,t):(gr[s]||(gr[s]=new Ti(r,t)),u=gr[s]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(Js,{Manager:Ti,Socket:Oh,io:Js,connect:Js});const Nc=40,wv=e=>e?(e instanceof Date?e:new Date(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";function bv({discussion:e,onClose:t,onMembershipChange:n}){const[r,s]=j.useState(!!(e!=null&&e.isJoined)),[a,i]=j.useState([]),[l,u]=j.useState(!1),[c,m]=j.useState(!1),[d,p]=j.useState(!1),[v,y]=j.useState(""),[w,b]=j.useState((e==null?void 0:e.participantsCount)||0),[f,h]=j.useState(null),g=j.useRef(null),x=j.useRef(!0),k=j.useRef(null),C=j.useRef(null);j.useEffect(()=>{s(!!(e!=null&&e.isJoined)),b((e==null?void 0:e.participantsCount)||0)},[e==null?void 0:e.id,e==null?void 0:e.isJoined,e==null?void 0:e.participantsCount]);const N=(F="smooth")=>{C.current&&C.current.scrollIntoView({behavior:F})};j.useEffect(()=>{x.current&&N(a.length>40?"auto":"smooth")},[a]),j.useEffect(()=>{x.current=!0},[e==null?void 0:e.id]),j.useEffect(()=>{if(!(e!=null&&e.id))return;let F=!1;return(async()=>{m(!0);try{const B=await xc(e.id,{limit:Nc});if(F)return;i(B.messages||[]),u(!!B.hasMore),x.current=!0}catch(B){F||Ee.error(B.message||"Failed to load messages.")}finally{F||m(!1)}})(),()=>{F=!0,i([]),u(!1)}},[e==null?void 0:e.id]);const E=async()=>{if(!(!r||!(e!=null&&e.id)))try{const{token:F,userId:U}=await Sy();h(U||null);const B=Js(Px,{transports:["websocket","polling"],withCredentials:!0,auth:{token:F}});B.on("connect_error",L=>{Ee.error((L==null?void 0:L.message)||"Unable to connect to discussion.")}),B.on("discussion:error",L=>{L!=null&&L.message&&Ee.error(L.message),L!=null&&L.tempId&&i(P=>P.filter(I=>I.tempId!==L.tempId)),p(!1)}),B.on("discussion:message",L=>{i(P=>{const I=L.tempId?P.filter(M=>M.tempId!==L.tempId):[...P];return I.push(L),I}),p(!1)}),B.on("connect",()=>{B.emit("discussion:join",{discussionId:e.id})}),g.current=B}catch(F){Ee.error((F==null?void 0:F.message)||"Unable to start live chat.")}};j.useEffect(()=>{if(!r){g.current&&(g.current.emit("discussion:leave",{discussionId:e==null?void 0:e.id}),g.current.disconnect(),g.current=null);return}return E(),()=>{g.current&&(g.current.emit("discussion:leave",{discussionId:e==null?void 0:e.id}),g.current.disconnect(),g.current=null)}},[r,e==null?void 0:e.id]);const R=async()=>{if(!(!(e!=null&&e.id)||!l||c)){m(!0);try{const F=a[0],U=await xc(e.id,{limit:Nc,before:F?F.createdAt:void 0});i(B=>[...U.messages||[],...B]),u(!!U.hasMore),x.current=!1}catch(F){Ee.error(F.message||"Failed to load earlier messages.")}finally{m(!1)}}},T=async()=>{var F,U;try{const B=await Ny(e.id);s(!0),b(((F=B==null?void 0:B.discussion)==null?void 0:F.participantsCount)??w+1),Ee.success("Joined discussion"),typeof n=="function"&&n({discussionId:e.id,isJoined:!0,participantsCount:((U=B==null?void 0:B.discussion)==null?void 0:U.participantsCount)??w+1})}catch(B){Ee.error(B.message||"Unable to join.")}},O=async()=>{var F,U;try{const B=await ky(e.id);s(!1),b(((F=B==null?void 0:B.discussion)==null?void 0:F.participantsCount)??Math.max(w-1,0)),Ee.success("Left discussion"),typeof n=="function"&&n({discussionId:e.id,isJoined:!1,participantsCount:((U=B==null?void 0:B.discussion)==null?void 0:U.participantsCount)??Math.max(w-1,0)})}catch(B){Ee.error(B.message||"Unable to leave.")}},A=()=>{const F=v.trim();if(!F||d||!g.current)return;const U=`${e.id}-${Date.now()}`,B={id:U,tempId:U,discussionId:e.id,content:F,createdAt:new Date().toISOString(),sender:{id:f||"self",firstName:"You",lastName:""},optimistic:!0};i(L=>[...L,B]),y(""),p(!0),g.current.emit("discussion:message",{discussionId:e.id,content:F,tempId:U}),setTimeout(()=>{p(!1)},150)},_=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),A())},z=j.useMemo(()=>a.map(F=>{var ne,de,st,ot;const U=f?String((ne=F.sender)==null?void 0:ne.id)===String(f):((de=F.sender)==null?void 0:de.id)==="self",B=U?"You":`${((st=F.sender)==null?void 0:st.firstName)??""} ${((ot=F.sender)==null?void 0:ot.lastName)??""}`.trim(),L=B.length>0?B.replace(/\s+/g," "):"Participant",M=`max-w-[70%] rounded-3xl px-4 py-3 text-sm leading-relaxed shadow ${U?"rounded-tl-md rounded-bl-md bg-gradient-to-r from-orange-500 to-orange-400 text-white":"rounded-tr-md rounded-br-md bg-slate-100 text-slate-700"}`;return o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:M,children:[o.jsx("p",{children:F.content}),o.jsxs("span",{className:`mt-2 block text-[11px] uppercase tracking-wide ${U?"text-white/70":"text-slate-500"}`,children:[L," ",wv(F.createdAt)]})]})},F.id)}),[a,f]);return o.jsxs("section",{className:"flex h-full w-full flex-col rounded-3xl border border-orange-100 bg-gradient-to-b from-rose-50/60 to-white shadow-2xl",children:[o.jsxs("header",{className:"flex items-center justify-between rounded-t-3xl border-b border-orange-100 bg-white/90 px-6 py-5",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-600",children:e.topicTag||"Campus"}),o.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:e.title}),o.jsx("p",{className:"text-sm text-slate-500",children:e.description})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"rounded-full bg-white px-3 py-1 text-xs font-medium text-slate-500 shadow",children:[w," participant",w===1?"":"s"]}),r?o.jsx("button",{type:"button",onClick:O,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Leave discussion"}):o.jsx("button",{type:"button",onClick:T,className:"rounded-full bg-gradient-to-r from-orange-500 to-orange-400 px-5 py-2 text-sm font-semibold text-white shadow-md transition hover:from-orange-600 hover:to-orange-500",children:"Join discussion"}),o.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-transparent p-2 text-slate-400 transition hover:text-slate-600","aria-label":"Close discussion",children:"X"})]})]}),o.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[o.jsxs("div",{ref:k,className:"flex-1 space-y-4 overflow-y-auto bg-gradient-to-b from-white via-orange-50/40 to-white px-6 py-6",onScroll:F=>{const{scrollTop:U,scrollHeight:B,clientHeight:L}=F.currentTarget,P=B-(U+L)<80;x.current=P},children:[l&&o.jsx("div",{className:"flex justify-center",children:o.jsx("button",{type:"button",onClick:R,disabled:c,className:"rounded-full border border-orange-200 px-4 py-1 text-xs font-semibold text-orange-500 transition hover:border-orange-300 hover:text-orange-600 disabled:cursor-not-allowed disabled:opacity-60",children:c?"Loading...":"Load previous messages"})}),z,o.jsx("span",{ref:C})]}),o.jsx("footer",{className:"border-t border-orange-100 bg-white/90 px-6 py-4",children:r?o.jsxs("div",{className:"flex items-end gap-3",children:[o.jsx("textarea",{value:v,onChange:F=>y(F.target.value),onKeyDown:_,placeholder:"Share an update or ask a question",rows:1,className:"min-h-[52px] flex-1 resize-none rounded-2xl border border-orange-100 px-4 py-3 text-sm text-slate-700 focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"}),o.jsx("button",{type:"button",onClick:A,disabled:!v.trim()||d,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-400 px-5 py-3 text-sm font-semibold text-white shadow-md transition hover:from-orange-600 hover:to-orange-500 disabled:cursor-not-allowed disabled:opacity-60",children:"Send"})]}):o.jsx("div",{className:"rounded-2xl border border-dashed border-orange-200 bg-orange-50/40 p-5 text-sm text-orange-600",children:"Join this discussion to start chatting in real time."})})]})]})}function jv({open:e,onClose:t,onSubmit:n,busy:r}){const[s,a]=j.useState(""),[i,l]=j.useState(""),[u,c]=j.useState("");j.useEffect(()=>{e&&(a(""),l(""),c(""))},[e]);const m=d=>{d.preventDefault(),typeof n=="function"&&n({title:s,description:i,topicTag:u})};return e?o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm",children:o.jsxs("div",{className:"relative w-full max-w-lg rounded-3xl bg-white p-8 shadow-2xl",children:[o.jsx("button",{type:"button",onClick:t,className:"absolute right-6 top-6 text-sm font-semibold text-slate-400 transition hover:text-slate-600",children:"X"}),o.jsx("h2",{className:"text-2xl font-semibold text-slate-900",children:"Start a new discussion"}),o.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Set the stage with a concise overview and let your peers jump in."}),o.jsxs("form",{className:"mt-6 space-y-5",onSubmit:m,children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Discussion title"}),o.jsx("input",{type:"text",value:s,onChange:d=>a(d.target.value),required:!0,maxLength:120,placeholder:"Best study spots on campus?",className:"w-full rounded-2xl border border-orange-100 px-4 py-3 text-sm font-medium text-slate-800 focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Topic tag (optional)"}),o.jsx("input",{type:"text",value:u,onChange:d=>c(d.target.value),maxLength:50,placeholder:"Campus Life",className:"w-full rounded-2xl border border-orange-100 px-4 py-3 text-sm text-slate-700 focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Description"}),o.jsx("textarea",{value:i,onChange:d=>l(d.target.value),required:!0,minLength:10,maxLength:500,rows:4,placeholder:"Share the context and invite others to weigh in.",className:"w-full rounded-2xl border border-orange-100 px-4 py-3 text-sm text-slate-700 focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:t,className:"rounded-full border border-slate-200 px-4 py-2 text-sm font-medium text-slate-600 transition hover:border-slate-300 hover:text-slate-800",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:r,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-400 px-6 py-2 text-sm font-semibold text-white shadow-md transition hover:from-orange-600 hover:to-orange-500 disabled:cursor-not-allowed disabled:opacity-60",children:r?"Creating...":"Create discussion"})]})]})]})}):null}function Nv(){const[e,t]=j.useState([]),[n,r]=j.useState(!0),[s,a]=j.useState(null),[i,l]=j.useState(!1),[u,c]=j.useState(!1);j.useEffect(()=>{let y=!1;return(async()=>{var b;r(!0);try{const f=await by({limit:30});y||(t(f.discussions||[]),(b=f.discussions)!=null&&b.length||a(null))}catch(f){y||Ee.error(f.message||"Unable to load discussions.")}finally{y||r(!1)}})(),()=>{y=!0}},[]);const m=j.useMemo(()=>e.find(y=>y.id===s)||null,[e,s]),d=y=>{a((y==null?void 0:y.id)||null)},p=async({title:y,description:w,topicTag:b})=>{try{c(!0);const h=(await jy({title:y,description:w,topicTag:b})).discussion;t(g=>[h,...g]),a(h.id),Ee.success("Discussion created"),l(!1)}catch(f){Ee.error(f.message||"Unable to create discussion.")}finally{c(!1)}},v=({discussionId:y,isJoined:w,participantsCount:b})=>{t(f=>f.map(h=>h.id===y?{...h,isJoined:w,participantsCount:b}:h))};return o.jsxs("div",{className:"flex h-full flex-col gap-6",children:[o.jsxs("header",{className:"flex flex-col justify-between gap-4 rounded-3xl border border-orange-100 bg-gradient-to-r from-orange-50 to-white px-8 py-6 shadow-sm sm:flex-row sm:items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Discussions"}),o.jsx("p",{className:"mt-1 max-w-2xl text-sm text-slate-500",children:"Connect and engage with your community. Join live threads to swap ideas, plan events, or get quick help from classmates."})]}),o.jsxs("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-orange-400 px-5 py-3 text-sm font-semibold text-white shadow-md transition hover:from-orange-600 hover:to-orange-500",children:[o.jsx("span",{className:"text-lg",children:"+"}),"New Discussion"]})]}),o.jsxs("section",{className:"flex flex-1 flex-col gap-4 overflow-hidden rounded-3xl border border-orange-100 bg-white/80 p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Browse discussions"}),!n&&o.jsxs("span",{className:"text-xs text-slate-400",children:[e.length," active thread",e.length===1?"":"s"]})]}),o.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto pr-1",children:n?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((y,w)=>o.jsxs("div",{className:"animate-pulse rounded-3xl border border-orange-100 bg-orange-50/60 p-6",children:[o.jsx("div",{className:"h-4 w-24 rounded bg-orange-100"}),o.jsx("div",{className:"mt-4 h-6 w-3/4 rounded bg-orange-100"}),o.jsx("div",{className:"mt-3 h-4 w-full rounded bg-orange-100"})]},w))}):e.length?e.map(y=>o.jsx(Cy,{discussion:y,isActive:(m==null?void 0:m.id)===y.id,onSelect:d},y.id)):o.jsx("div",{className:"flex h-full flex-col items-center justify-center rounded-3xl border border-dashed border-orange-200 bg-orange-50/40 p-8 text-center text-sm text-orange-600",children:o.jsx("p",{children:"No live discussions yet. Be the first to start one!"})})})]}),m&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-900/40 px-4 py-6 backdrop-blur-sm",onClick:()=>a(null),children:o.jsx("div",{className:"relative flex h-full w-full max-h-[calc(100vh-3rem)] max-w-5xl",onClick:y=>y.stopPropagation(),children:o.jsx("div",{className:"flex h-full w-full",children:o.jsx(bv,{discussion:m,onClose:()=>a(null),onMembershipChange:v},`dialog-${m.id}`)})})}),o.jsx(jv,{open:i,onClose:()=>l(!1),onSubmit:p,busy:u})]})}const kv={summary:{users:{total:0,active:0},admins:{total:0,active:0},lostItems:{total:0,open:0},foundItems:{total:0,open:0},events:{total:0,upcoming:0},announcements:{total:0},notes:{total:0},emergencyAlerts:{total:0,active:0},discussions:{total:0}},recentUsers:[],recentActivities:[]},Sv=[{key:"users",title:"Users",icon:Yt,getValue:e=>e.users.total,getHint:e=>`${e.users.active} active`,accent:"bg-orange-100 text-orange-600"},{key:"admins",title:"Admins",icon:Gr,getValue:e=>e.admins.total,getHint:e=>`${e.admins.active} active`,accent:"bg-emerald-100 text-emerald-600"},{key:"events",title:"Events",icon:Wt,getValue:e=>e.events.total,getHint:e=>`${e.events.upcoming} upcoming`,accent:"bg-indigo-100 text-indigo-600"},{key:"announcements",title:"Announcements",icon:rr,getValue:e=>e.announcements.total,getHint:()=>"Manage communications",accent:"bg-amber-100 text-amber-600"},{key:"lostItems",title:"Lost Items",icon:Ix,getValue:e=>e.lostItems.total,getHint:e=>`${e.lostItems.open} open reports`,accent:"bg-red-100 text-red-600"},{key:"foundItems",title:"Found Items",icon:Qx,getValue:e=>e.foundItems.total,getHint:e=>`${e.foundItems.open} awaiting claim`,accent:"bg-lime-100 text-lime-600"},{key:"notes",title:"Notes Library",icon:Xr,getValue:e=>e.notes.total,getHint:()=>"Shared resources",accent:"bg-sky-100 text-sky-600"},{key:"emergencyAlerts",title:"Emergency Alerts",icon:Bx,getValue:e=>e.emergencyAlerts.total,getHint:e=>`${e.emergencyAlerts.active} active`,accent:"bg-purple-100 text-purple-600"}],Cv={lost:{label:"Lost Item",tone:"text-red-600"},found:{label:"Found Item",tone:"text-lime-600"},event:{label:"Event",tone:"text-indigo-600"},announcement:{label:"Announcement",tone:"text-amber-600"},alert:{label:"Alert",tone:"text-purple-600"}},kc=e=>{if(!e)return"Unknown";try{return new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}catch{return String(e)}};function Ev(){const[e,t]=S.useState(kv),[n,r]=S.useState(!0),[s,a]=S.useState(""),[i,l]=S.useState(0),u=S.useCallback(async()=>{r(!0),a("");try{const p=await fetch(Y("/api/admin/overview"),{credentials:"include"});if(!p.ok){const y=await p.json().catch(()=>({}));throw new Error((y==null?void 0:y.message)||"Failed to load overview data.")}const v=await p.json();t(y=>({...y,...v}))}catch(p){console.error("Admin overview fetch error",p),a(p.message||"Unable to load overview data."),K.error(p.message||"Failed to refresh dashboard")}finally{r(!1)}},[]);S.useEffect(()=>{u()},[u,i]);const{summary:c,recentUsers:m,recentActivities:d}=e;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Control Panel"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Monitor campus activity, review recent reports, and jump into management tools."})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs("button",{type:"button",onClick:()=>l(p=>p+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]})})]}),s&&o.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:s}),o.jsx("section",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:Sv.map(p=>{const v=p.icon,y=p.getValue(c),w=p.getHint(c);return o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-5 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:`inline-flex items-center justify-center rounded-xl px-3 py-2 text-lg ${p.accent}`,children:o.jsx(v,{})}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:p.title})]}),o.jsx("div",{className:"mt-4 text-3xl font-semibold text-gray-900",children:n?"--":y}),o.jsx("div",{className:"mt-2 text-sm text-gray-500",children:n?"Calculating...":w})]},p.key)})}),o.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recently Joined Students"}),o.jsx(Ge,{to:"/dashboard/users",className:"text-sm font-semibold text-orange-500 hover:text-orange-400",children:"View all"})]}),m.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No recent sign-ups yet."}):o.jsx("ul",{className:"space-y-3",children:m.map(p=>o.jsxs("li",{className:"flex items-center justify-between gap-3 rounded-lg border border-orange-50 bg-orange-50/60 px-4 py-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.name}),o.jsx("p",{className:"text-xs text-gray-500",children:p.email})]}),o.jsxs("div",{className:"text-right text-xs text-gray-400",children:[o.jsx("div",{children:p.studentId||"No ID"}),o.jsx("div",{children:kc(p.joinedAt)})]})]},p.id))})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Activity"}),o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:"Last 10 updates"})]}),d.length===0?o.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity recorded."}):o.jsx("ul",{className:"space-y-4",children:d.map(p=>{const v=Cv[p.type]||{label:p.type,tone:"text-gray-500"};return o.jsxs("li",{className:"border-l-4 border-orange-200 pl-4",children:[o.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide ${v.tone}`,children:v.label}),o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:p.title}),o.jsx("p",{className:"text-xs text-gray-500",children:kc(p.timestamp)}),p.meta&&Object.keys(p.meta).length>0&&o.jsx("p",{className:"mt-1 text-xs text-gray-400",children:Object.entries(p.meta).map(([y,w])=>`${y}: ${w??"n/a"}`).join("  ")})]},`${p.type}-${p.id}`)})})]})]}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick actions"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Jump directly to common admin workflows."}),o.jsxs("div",{className:"mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsx(Ge,{to:"/dashboard/manage/lost-found",className:"rounded-xl border border-orange-100 bg-orange-50/60 px-4 py-3 text-sm font-semibold text-orange-600 transition hover:bg-orange-100",children:"Review lost & found"}),o.jsx(Ge,{to:"/dashboard/manage/events",className:"rounded-xl border border-indigo-100 bg-indigo-50/60 px-4 py-3 text-sm font-semibold text-indigo-600 transition hover:bg-indigo-100",children:"Create an event"}),o.jsx(Ge,{to:"/dashboard/manage/announcements",className:"rounded-xl border border-amber-100 bg-amber-50/60 px-4 py-3 text-sm font-semibold text-amber-600 transition hover:bg-amber-100",children:"Post an announcement"}),o.jsx(Ge,{to:"/dashboard/users",className:"rounded-xl border border-emerald-100 bg-emerald-50/60 px-4 py-3 text-sm font-semibold text-emerald-600 transition hover:bg-emerald-100",children:"Audit users"})]})]})]})}const _a=[{key:"lost",label:"Lost Items",description:"Reports submitted by students when they lose belongings.",emptyMessage:"No lost item reports found."},{key:"found",label:"Found Items",description:"Items submitted as found and awaiting collection.",emptyMessage:"No found items recorded yet."}],_v=e=>{if(!e)return"--";try{return new Intl.DateTimeFormat("en",{dateStyle:"medium"}).format(new Date(e))}catch{return String(e)}};function Lv(){const[e,t]=S.useState("lost"),[n,r]=S.useState([]),[s,a]=S.useState([]),[i,l]=S.useState(!1),[u,c]=S.useState(""),[m,d]=S.useState(0),p=S.useCallback(async()=>{l(!0),c("");try{const[b,f]=await Promise.all([fetch(Y("/api/admin/lost-items"),{credentials:"include"}),fetch(Y("/api/admin/found-items"),{credentials:"include"})]),h=await b.json().catch(()=>({})),g=await f.json().catch(()=>({}));if(!b.ok)throw new Error((h==null?void 0:h.message)||"Failed to load lost items.");if(!f.ok)throw new Error((g==null?void 0:g.message)||"Failed to load found items.");r(Array.isArray(h.items)?h.items:[]),a(Array.isArray(g.items)?g.items:[])}catch(b){console.error("Admin lost/found fetch error",b),c(b.message||"Unable to load lost and found items."),K.error(b.message||"Failed to refresh lost & found data")}finally{l(!1)}},[]);S.useEffect(()=>{p()},[p,m]);const v=async(b,f)=>{if(!(!f||!window.confirm("Are you sure you want to remove this entry? This action cannot be undone.")))try{const g=b==="lost"?`/api/lost/${f}`:`/api/found/${f}`,x=await fetch(Y(g),{method:"DELETE",credentials:"include"}),k=await x.json().catch(()=>({}));if(!x.ok)throw new Error((k==null?void 0:k.message)||"Failed to delete record.");K.success("Entry deleted successfully."),b==="lost"?r(C=>C.filter(N=>N.id!==f)):a(C=>C.filter(N=>N.id!==f))}catch(g){console.error("Delete lost/found error",g),K.error(g.message||"Unable to delete entry.")}},y=e==="lost"?n:s,w=_a.find(b=>b.key===e)??_a[0];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lost & Found Control"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Review and moderate reported items across the campus community."})]}),o.jsxs("button",{type:"button",onClick:()=>d(b=>b+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]})]}),u&&o.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:u}),o.jsx("div",{className:"flex flex-wrap items-center gap-3",children:_a.map(b=>o.jsxs("button",{type:"button",onClick:()=>t(b.key),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition ${e===b.key?"bg-orange-500 text-white":"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}`,children:[b.key==="lost"?o.jsx(Ei,{}):o.jsx(Vx,{}),b.label]},b.key))}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("header",{className:"mb-4 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:w.label}),o.jsx("p",{className:"text-sm text-gray-500",children:w.description})]}),o.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:[y.length," records"]})]}),i?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((b,f)=>o.jsx("div",{className:"h-20 animate-pulse rounded-xl border border-orange-100 bg-orange-50/60"},f))}):y.length===0?o.jsx("div",{className:"rounded-xl border border-dashed border-orange-200 bg-orange-50/40 p-10 text-center text-sm text-gray-500",children:w.emptyMessage}):o.jsx("ul",{className:"space-y-4",children:y.map(b=>{var f;return o.jsx("li",{className:"rounded-2xl border border-orange-100 bg-orange-50/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[o.jsx(jn,{}),((f=b.status)==null?void 0:f.toUpperCase())||"STATUS"]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:b.title}),o.jsx("p",{className:"text-sm text-gray-600",children:b.description}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[o.jsx("span",{className:"mr-3 font-semibold text-gray-600",children:"Reported:"}),_v(e==="lost"?b.dateLost:b.dateFound)]}),b.reporter&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Reporter:"})," ",b.reporter.name,"  ",b.reporter.email,b.reporter.studentId?`  ${b.reporter.studentId}`:""]}),b.contact&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-semibold text-gray-600",children:"Contact:"})," ",b.contact]})]}),o.jsx("div",{className:"flex gap-2 self-end md:self-start",children:o.jsxs("button",{type:"button",onClick:()=>v(e,b.id),className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-600 transition hover:bg-red-50",children:[o.jsx(Zr,{}),"Delete"]})})]})},b.id)})})]})]})}const Rv=e=>{if(!e)return{date:"--",time:"--"};try{const t=new Date(e);return{date:new Intl.DateTimeFormat("en",{dateStyle:"medium"}).format(t),time:new Intl.DateTimeFormat("en",{timeStyle:"short"}).format(t)}}catch{return{date:String(e),time:"--"}}},Av=(e,t)=>!e||e<=0?`${t} attending`:`${t}/${e} attending`;function Pv({onCreateEvent:e}){const[t,n]=S.useState([]),[r,s]=S.useState(!1),[a,i]=S.useState(""),[l,u]=S.useState(0),[c,m]=S.useState(!1),[d,p]=S.useState({title:"",description:"",venue:"",date:"",category:"",time:"",capacity:""}),[v,y]=S.useState(""),[w,b]=S.useState(!1),f=S.useCallback(E=>({id:String(E._id||E.id),title:E.title,description:E.description,venue:E.venue,date:E.date,startTime:E.startTime,attendeesCount:E.attendeesCount||0,capacity:E.capacity,category:E.category,createdAt:E.createdAt}),[]),h=S.useCallback(async()=>{s(!0),i("");try{const E=await fetch(Y("/api/events"),{credentials:"include"});if(E.status===404){n([]);return}const R=await E.json().catch(()=>({}));if(!E.ok)throw new Error((R==null?void 0:R.message)||"Failed to fetch events.");const T=Array.isArray(R.events)?R.events:[];n(T.map(f))}catch(E){console.error("Admin events fetch error",E),i(E.message||"Unable to load events."),K.error(E.message||"Failed to refresh events")}finally{s(!1)}},[f]);S.useEffect(()=>{h()},[h,l]);const g=async E=>{if(!(!E||!window.confirm("Delete this event? This cannot be undone.")))try{const T=await fetch(Y(`/api/admin/events/${E}`),{method:"DELETE",credentials:"include"}),O=await T.json().catch(()=>({}));if(!T.ok)throw new Error((O==null?void 0:O.message)||"Failed to delete event.");K.success("Event removed successfully."),n(A=>A.filter(_=>_.id!==E))}catch(T){console.error("Admin event delete error",T),K.error(T.message||"Unable to delete event.")}},x=()=>{if(typeof e=="function"){e();return}y(""),b(!1),m(!0)},k=()=>{w||(m(!1),y(""),p({title:"",description:"",venue:"",date:"",category:"",time:"",capacity:""}))},C=E=>{const{name:R,value:T}=E.target;p(O=>({...O,[R]:T}))},N=async E=>{if(E.preventDefault(),w)return;y("");const R={title:d.title.trim(),description:d.description.trim(),venue:d.venue.trim(),category:d.category.trim(),time:d.time.trim(),date:d.date.trim(),capacity:d.capacity.trim()};if(!R.title||!R.description||!R.venue||!R.date){y("Please complete all required fields.");return}const T=new Date(R.date);if(Number.isNaN(T.getTime())){y("Provide a valid event date.");return}const O={title:R.title,description:R.description,venue:R.venue,date:T.toISOString()};if(R.category&&(O.category=R.category),R.time&&(O.time=R.time),R.capacity){const A=Number.parseInt(R.capacity,10);if(Number.isNaN(A)||A<0){y("Capacity must be a positive number.");return}O.capacity=A}b(!0);try{const A=await fetch(Y("/api/events/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)}),_=await A.json().catch(()=>({}));if(!A.ok||!(_!=null&&_.event))throw new Error((_==null?void 0:_.message)||"Failed to create event.");K.success((_==null?void 0:_.message)||"Event created successfully."),n(z=>[f(_.event),...z]),b(!1),k()}catch(A){console.error("Admin create event error",A),y(A.message||"Unable to create event."),b(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Events Management"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Review upcoming activities, monitor attendance, and remove outdated events."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>u(E=>E+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]}),o.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-600",children:[o.jsx(yn,{}),"New Event"]})]})]}),a&&o.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:a}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("header",{className:"mb-4 flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Campus Events"}),o.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," events in calendar. Stay current by clearing past items."]})]})}),r?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((E,R)=>o.jsx("div",{className:"h-24 animate-pulse rounded-xl border border-orange-100 bg-orange-50/60"},R))}):t.length===0?o.jsx("div",{className:"rounded-xl border border-dashed border-orange-200 bg-orange-50/40 p-10 text-center text-sm text-gray-500",children:"No events scheduled yet. Create an event to get started."}):o.jsx("ul",{className:"space-y-4",children:t.map(E=>{const{date:R,time:T}=Rv(E.date);return o.jsx("li",{className:"rounded-2xl border border-orange-100 bg-orange-50/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[o.jsx(Wt,{}),E.category||"General"]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:E.title}),o.jsx("p",{className:"text-sm text-gray-600",children:E.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(jn,{}),E.venue]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jr,{}),R,"  ",T]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Yt,{}),Av(E.capacity,E.attendeesCount)]})]})]}),o.jsx("div",{className:"flex gap-2 self-end md:self-start",children:o.jsxs("button",{type:"button",onClick:()=>g(E.id),className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-600 transition hover:bg-red-50",children:[o.jsx(Zr,{}),"Delete"]})})]})},E.id)})})]}),c&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"w-full max-w-3xl rounded-3xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create New Event"}),o.jsx("button",{type:"button",onClick:k,className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",children:o.jsx(es,{className:"text-lg"})})]}),o.jsxs("form",{onSubmit:N,className:"space-y-5 px-6 py-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Title"}),o.jsx("input",{type:"text",name:"title",value:d.title,onChange:C,required:!0,minLength:3,maxLength:120,placeholder:"e.g. Career Fair 2025",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Category (optional)"}),o.jsx("input",{type:"text",name:"category",value:d.category,onChange:C,maxLength:50,placeholder:"e.g. Career",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Description"}),o.jsx("textarea",{name:"description",value:d.description,onChange:C,required:!0,minLength:10,maxLength:500,rows:4,placeholder:"Share event details and what students should expect.",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Venue"}),o.jsx("input",{type:"text",name:"venue",value:d.venue,onChange:C,required:!0,minLength:3,maxLength:120,placeholder:"e.g. Main Auditorium",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Date & Time"}),o.jsx("input",{type:"datetime-local",name:"date",value:d.date,onChange:C,required:!0,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Capacity (optional)"}),o.jsx("input",{type:"number",min:"0",name:"capacity",value:d.capacity,onChange:C,placeholder:"Unlimited",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Additional Time Note (optional)"}),o.jsx("input",{type:"text",name:"time",value:d.time,onChange:C,maxLength:20,placeholder:"e.g. 10:00 AM - 2:00 PM",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),v&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-600",children:v}),o.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:k,disabled:w,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:w,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400 disabled:cursor-not-allowed disabled:bg-orange-300",children:[o.jsx(yn,{}),w?"Creating...":"Create Event"]})]})]})]})})]})}const Sc=e=>{if(!e)return"--";try{return new Intl.DateTimeFormat("en",{dateStyle:"medium",timeStyle:"short"}).format(new Date(e))}catch{return String(e)}},Tv=(e,t)=>{switch((e||(t?"high":"medium")).toLowerCase()){case"high":return"bg-red-100 text-red-600";case"low":return"bg-emerald-100 text-emerald-600";default:return"bg-orange-100 text-orange-600"}},Ov=[{value:"notices",label:"Notices"},{value:"events",label:"Events"},{value:"update",label:"Update"},{value:"holidays",label:"Holidays"},{value:"others",label:"Others"},{value:"emergency",label:"Emergency"}],Dv=[{value:"all",label:"All"},{value:"students",label:"Students"},{value:"faculty",label:"Faculty"}],Fv=[{value:"new",label:"New"},{value:"update",label:"Update"},{value:"reminder",label:"Reminder"}],Iv=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],Cc={title:"",message:"",category:"notices",targetAudience:"all",urgency:"medium",status:"new",topic:"",expiresAt:"",isImportant:!1,tags:""},Ec=e=>({id:String(e._id||e.id),title:e.title,message:e.message,category:e.category,urgency:e.urgency,topic:e.topic,tags:Array.isArray(e.tags)?e.tags:[],createdAt:e.createdAt,expiresAt:e.expiresAt,isImportant:!!e.isImportant,targetAudience:e.targetAudience,status:e.status});function $v({onCreateAnnouncement:e}){const[t,n]=S.useState([]),[r,s]=S.useState(!1),[a,i]=S.useState(""),[l,u]=S.useState(0),[c,m]=S.useState(!1),[d,p]=S.useState(Cc),[v,y]=S.useState(""),[w,b]=S.useState(!1),f=S.useCallback(async()=>{s(!0),i("");try{const N=await fetch(Y("/api/notifications"),{credentials:"include"});if(N.status===404){n([]);return}const E=await N.json().catch(()=>({}));if(!N.ok)throw new Error((E==null?void 0:E.message)||"Failed to load announcements.");const R=Array.isArray(E.notifications)?E.notifications:[];n(R.map(Ec))}catch(N){console.error("Admin announcements fetch error",N),i(N.message||"Unable to load announcements."),K.error(N.message||"Failed to refresh announcements")}finally{s(!1)}},[]);S.useEffect(()=>{f()},[f,l]);const h=async N=>{if(!(!N||!window.confirm("Delete this announcement? This cannot be undone.")))try{const R=await fetch(Y(`/api/admin/announcements/${N}`),{method:"DELETE",credentials:"include"}),T=await R.json().catch(()=>({}));if(!R.ok)throw new Error((T==null?void 0:T.message)||"Failed to delete announcement.");K.success("Announcement removed successfully."),n(O=>O.filter(A=>A.id!==N))}catch(R){console.error("Admin announcement delete error",R),K.error(R.message||"Unable to delete announcement.")}},g=()=>{if(typeof e=="function"){e();return}y(""),b(!1),m(!0)},x=()=>{w||(m(!1),y(""),p(Cc))},k=N=>{const{name:E,value:R,type:T,checked:O}=N.target;p(A=>({...A,[E]:T==="checkbox"?O:R}))},C=async N=>{if(N.preventDefault(),w)return;y("");const E={title:d.title.trim(),message:d.message.trim(),category:d.category,targetAudience:d.targetAudience,urgency:d.urgency,status:d.status,isImportant:!!d.isImportant};if(!E.title||!E.message){y("Title and message are required.");return}if(d.topic.trim()&&(E.topic=d.topic.trim()),d.expiresAt){const T=new Date(d.expiresAt);if(Number.isNaN(T.getTime())){y("Provide a valid expiry date.");return}if(T<=new Date){y("Expiry must be in the future.");return}E.expiresAt=T.toISOString()}const R=d.tags.split(/[,\n]/).map(T=>T.trim()).filter(Boolean);if(R.length>0){if(R.length>6){y("Limit tags to 6 or fewer.");return}E.tags=[...new Set(R)].slice(0,6)}b(!0);try{const T=await fetch(Y("/api/notifications/create"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)}),O=await T.json().catch(()=>({}));if(!T.ok||!(O!=null&&O.notification))throw new Error((O==null?void 0:O.message)||"Failed to create announcement.");K.success((O==null?void 0:O.message)||"Announcement published successfully."),n(A=>[Ec(O.notification),...A]),b(!1),x()}catch(T){console.error("Admin create announcement error",T),y(T.message||"Unable to create announcement."),b(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Announcements"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Broadcast key updates to the community and retire outdated alerts promptly."})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>u(N=>N+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]}),o.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-600",children:[o.jsx(yn,{}),"New Announcement"]})]})]}),a&&o.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:a}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsx("header",{className:"mb-4 flex items-start justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Latest Notices"}),o.jsxs("p",{className:"text-sm text-gray-500",children:[t.length," announcements live. Keep information timely and relevant."]})]})}),r?o.jsx("div",{className:"space-y-4",children:Array.from({length:3}).map((N,E)=>o.jsx("div",{className:"h-24 animate-pulse rounded-xl border border-orange-100 bg-orange-50/60"},E))}):t.length===0?o.jsx("div",{className:"rounded-xl border border-dashed border-orange-200 bg-orange-50/40 p-10 text-center text-sm text-gray-500",children:"No announcements yet. Share updates as soon as they are ready."}):o.jsx("ul",{className:"space-y-4",children:t.map(N=>o.jsx("li",{className:"rounded-2xl border border-orange-100 bg-orange-50/60 p-5 shadow-sm",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[o.jsx(rr,{}),N.category||"Notices",o.jsx("span",{className:`rounded-full px-2 py-0.5 text-[10px] font-bold ${Tv(N.urgency,N.isImportant)}`,children:N.urgency||(N.isImportant?"high":"medium")}),N.targetAudience&&o.jsx("span",{className:"rounded-full bg-gray-900 px-2 py-0.5 text-[10px] font-semibold text-white",children:N.targetAudience})]}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:N.title}),o.jsx("p",{className:"text-sm text-gray-600",children:N.message}),o.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-gray-500",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Jr,{}),Sc(N.createdAt)]}),N.expiresAt&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:["expires ",Sc(N.expiresAt)]}),N.topic&&o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(wh,{}),N.topic]})]}),N.tags.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:N.tags.map(E=>o.jsxs("span",{className:"rounded-full bg-white px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wide text-orange-500",children:["#",E]},E))})]}),o.jsx("div",{className:"flex gap-2 self-end md:self-start",children:o.jsxs("button",{type:"button",onClick:()=>h(N.id),className:"inline-flex items-center gap-2 rounded-lg border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-600 transition hover:bg-red-50",children:[o.jsx(Zr,{}),"Delete"]})})]})},N.id))})]}),c&&o.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/40 p-4",children:o.jsxs("div",{className:"w-full max-w-3xl rounded-3xl bg-white shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Announcement"}),o.jsx("button",{type:"button",onClick:x,className:"rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600",children:o.jsx(es,{className:"text-lg"})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-5 px-6 py-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Title"}),o.jsx("input",{type:"text",name:"title",value:d.title,onChange:k,required:!0,minLength:3,maxLength:120,placeholder:"e.g. Maintenance notice",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Topic (optional)"}),o.jsx("input",{type:"text",name:"topic",value:d.topic,onChange:k,maxLength:50,placeholder:"e.g. Facilities",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Message"}),o.jsx("textarea",{name:"message",value:d.message,onChange:k,required:!0,minLength:5,maxLength:1e3,rows:4,placeholder:"Share the details of your announcement.",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Category"}),o.jsx("select",{name:"category",value:d.category,onChange:k,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:Ov.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Audience"}),o.jsx("select",{name:"targetAudience",value:d.targetAudience,onChange:k,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:Dv.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Status"}),o.jsx("select",{name:"status",value:d.status,onChange:k,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:Fv.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Urgency"}),o.jsx("select",{name:"urgency",value:d.urgency,onChange:k,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100",children:Iv.map(N=>o.jsx("option",{value:N.value,children:N.label},N.value))})]}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Expires at (optional)"}),o.jsx("input",{type:"datetime-local",name:"expiresAt",value:d.expiresAt,onChange:k,className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]})]}),o.jsx("div",{className:"flex flex-wrap items-center gap-4",children:o.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold text-gray-700",children:[o.jsx("input",{type:"checkbox",name:"isImportant",checked:d.isImportant,onChange:k,className:"h-4 w-4 rounded border-gray-300 text-orange-500 focus:ring-orange-400"}),"Mark as important"]})}),o.jsxs("label",{className:"space-y-1 text-sm font-semibold text-gray-700",children:[o.jsx("span",{children:"Tags (optional)"}),o.jsx("textarea",{name:"tags",value:d.tags,onChange:k,rows:2,placeholder:"Separate tags with commas or new lines (max 6).",className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-100"})]}),v&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-600",children:v}),o.jsxs("div",{className:"flex items-center justify-end gap-3 border-t border-gray-100 pt-4",children:[o.jsx("button",{type:"button",onClick:x,disabled:w,className:"rounded-lg border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-600 transition hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-60",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:w,className:"inline-flex items-center gap-2 rounded-lg bg-orange-500 px-5 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-orange-400 disabled:cursor-not-allowed disabled:bg-orange-300",children:[o.jsx(yn,{}),w?"Publishing...":"Publish"]})]})]})]})})]})}const Mv=e=>{if(!e)return"--";try{return new Intl.DateTimeFormat("en",{dateStyle:"medium"}).format(new Date(e))}catch{return String(e)}},Bv=e=>e?"bg-emerald-100 text-emerald-600 border border-emerald-200":"bg-gray-100 text-gray-500 border border-gray-200";function zv(){const[e,t]=S.useState({totalUsers:0,users:[],admins:[]}),[n,r]=S.useState(!1),[s,a]=S.useState(""),[i,l]=S.useState("users"),[u,c]=S.useState(0),[m,d]=S.useState(""),p=S.useCallback(async()=>{r(!0),a("");try{const w=await fetch(Y("/api/admin/users"),{credentials:"include"}),b=await w.json().catch(()=>({}));if(!w.ok)throw new Error((b==null?void 0:b.message)||"Failed to load user directory.");t({totalUsers:b.totalUsers||0,users:Array.isArray(b.users)?b.users:[],admins:Array.isArray(b.admins)?b.admins:[]})}catch(w){console.error("Admin users fetch error",w),a(w.message||"Unable to load directory."),K.error(w.message||"Failed to refresh directory")}finally{r(!1)}},[]);S.useEffect(()=>{p()},[p,u]);const v=S.useMemo(()=>{const w=i==="admins"?e.admins:e.users;if(!m.trim())return w;const b=m.trim().toLowerCase();return w.filter(f=>[f.name,f.email,f.studentId,f.adminCode].filter(Boolean).some(h=>h.toLowerCase().includes(b)))},[e,i,m]),y=i==="admins"?"Admins":"Students";return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Community Directory"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Track who has access, confirm activity, and keep contact details organized."})]}),o.jsxs("button",{type:"button",onClick:()=>c(w=>w+1),className:"inline-flex items-center gap-2 rounded-lg border border-orange-200 bg-white px-4 py-2 text-sm font-semibold text-orange-600 transition hover:bg-orange-50",children:[o.jsx(tn,{}),"Refresh"]})]}),s&&o.jsx("div",{className:"rounded-lg border border-red-100 bg-red-50 px-4 py-3 text-sm text-red-600",children:s}),o.jsxs("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-orange-500",children:"Total Users"}),o.jsx(Yt,{className:"text-orange-400"})]}),o.jsx("p",{className:"mt-3 text-2xl font-bold text-gray-900",children:e.totalUsers}),o.jsx("p",{className:"text-xs text-gray-500",children:"Registered students on the platform."})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-orange-500",children:"Active Students"}),o.jsx(ja,{className:"text-emerald-400"})]}),o.jsx("p",{className:"mt-3 text-2xl font-bold text-gray-900",children:e.users.filter(w=>w.active).length}),o.jsx("p",{className:"text-xs text-gray-500",children:"Currently signed in with valid sessions."})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-orange-500",children:"Admin Team"}),o.jsx(Gr,{className:"text-orange-400"})]}),o.jsx("p",{className:"mt-3 text-2xl font-bold text-gray-900",children:e.admins.length}),o.jsx("p",{className:"text-xs text-gray-500",children:"Total administrators with dashboard access."})]}),o.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-white p-4 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-orange-500",children:"Admins Online"}),o.jsx(ja,{className:"text-emerald-400"})]}),o.jsx("p",{className:"mt-3 text-2xl font-bold text-gray-900",children:e.admins.filter(w=>w.active).length}),o.jsx("p",{className:"text-xs text-gray-500",children:"Admins with active sessions right now."})]})]}),o.jsxs("section",{className:"rounded-2xl border border-orange-100 bg-white p-6 shadow-sm",children:[o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{type:"button",onClick:()=>l("users"),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition ${i==="users"?"bg-orange-500 text-white":"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}`,children:[o.jsx(Yt,{}),"Students"]}),o.jsxs("button",{type:"button",onClick:()=>l("admins"),className:`inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold transition ${i==="admins"?"bg-orange-500 text-white":"border border-orange-200 bg-white text-orange-500 hover:bg-orange-50"}`,children:[o.jsx(Gr,{}),"Admins"]})]}),o.jsxs("div",{className:"relative w-full md:w-80",children:[o.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"search",placeholder:`Search ${y.toLowerCase()}...`,className:"w-full rounded-full border border-orange-100 bg-orange-50/60 py-2 pl-10 pr-4 text-sm text-gray-700 placeholder:text-gray-400 focus:border-orange-300 focus:outline-none",value:m,onChange:w=>d(w.target.value)})]})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("header",{className:"mb-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:y}),o.jsxs("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-400",children:[v.length," records"]})]}),n?o.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((w,b)=>o.jsx("div",{className:"h-16 animate-pulse rounded-xl border border-orange-100 bg-orange-50/60"},b))}):v.length===0?o.jsxs("div",{className:"rounded-xl border border-dashed border-orange-200 bg-orange-50/40 p-10 text-center text-sm text-gray-500",children:["No ",y.toLowerCase()," matched your filters."]}):o.jsx("ul",{className:"divide-y divide-orange-100",children:v.map(w=>o.jsxs("li",{className:"flex flex-col gap-2 py-4 sm:flex-row sm:items-center sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:w.name||"Unnamed"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-500",children:[o.jsxs("span",{className:"inline-flex items-center gap-1",children:[o.jsx(Hx,{}),w.email||"--"]}),i==="admins"?o.jsxs("span",{className:"inline-flex items-center gap-1",children:["Admin Code:",o.jsx("strong",{className:"font-semibold text-gray-700",children:w.adminCode||"--"})]}):o.jsxs("span",{className:"inline-flex items-center gap-1",children:["Student ID:",o.jsx("strong",{className:"font-semibold text-gray-700",children:w.studentId||"--"})]}),o.jsxs("span",{className:"inline-flex items-center gap-1",children:["Joined ",Mv(w.joinedAt||w.createdAt)]})]})]}),o.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${Bv(w.active)}`,children:[w.active?o.jsx(ja,{}):o.jsx(Yx,{}),w.active?"Active":"Offline"]})]},w.id))})]})]})]})}function Uv(){const[e,t]=S.useState(null);return S.useEffect(()=>{const n=xn({fallbackToLegacy:!0});t(n==="admin"?"admin":"user")},[]),e?o.jsx(oh,{children:o.jsxs(ie,{element:o.jsx(sy,{role:e}),children:[e==="admin"?o.jsxs(o.Fragment,{children:[o.jsx(ie,{index:!0,element:o.jsx(Ev,{})}),o.jsx(ie,{path:"users",element:o.jsx(zv,{})}),o.jsx(ie,{path:"manage/lost-found",element:o.jsx(Lv,{})}),o.jsx(ie,{path:"manage/events",element:o.jsx(Pv,{})}),o.jsx(ie,{path:"manage/announcements",element:o.jsx($v,{})})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{index:!0,element:o.jsx(oy,{})}),o.jsx(ie,{path:"lost-and-found",element:o.jsx(ly,{})}),o.jsx(ie,{path:"events",element:o.jsx(dy,{})}),o.jsx(ie,{path:"announcements",element:o.jsx(hy,{})}),o.jsx(ie,{path:"skills",element:o.jsx(pc,{title:"Skill Exchange"})})]}),o.jsx(ie,{path:"emergency-alerts",element:o.jsx(gy,{})}),o.jsx(ie,{path:"discussions",element:o.jsx(Nv,{})}),o.jsx(ie,{path:"notes",element:o.jsx(wy,{})}),o.jsx(ie,{path:"profile",element:o.jsx(pc,{title:"Profile"})}),o.jsx(ie,{path:"*",element:o.jsx(B0,{to:".",replace:!0})})]})}):o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:o.jsx("span",{className:"rounded-full border border-orange-200 px-4 py-2 text-sm font-semibold text-orange-500",children:"Loading dashboard..."})})}function Vv(){return S.useEffect(()=>{const e=new AbortController;return fetch(Y("/healthz"),{signal:e.signal,credentials:"include"}).catch(()=>{}),()=>e.abort()},[]),o.jsx(fx,{children:o.jsxs(oh,{children:[o.jsx(ie,{path:"/",element:o.jsx(Nx,{})}),o.jsx(ie,{path:"/login",element:o.jsx(Tx,{})}),o.jsx(ie,{path:"/signup",element:o.jsx(Ox,{})}),o.jsx(ie,{path:"/dashboard/*",element:o.jsx(Uv,{})})]})})}if(typeof window<"u"&&typeof window.fetch=="function"){const e=window.fetch.bind(window);window.fetch=(t,n)=>{const r=xn();if(!r)return e(t,n);let s="";if(typeof t=="string"?s=t:t instanceof Request&&(s=t.url??""),!(!s||s.startsWith("/")||typeof Yr=="string"&&s.startsWith(Yr)))return e(t,n);const i=(n==null?void 0:n.headers)||(t instanceof Request?t.headers:void 0)||{},l=new Headers(i);l.has("X-Portal-Role")||l.set("X-Portal-Role",r);const u={...n,headers:l};if(t instanceof Request){const c=new Request(t,u);return e(c)}return e(t,u)}}zf(document.getElementById("root")).render(o.jsxs(S.StrictMode,{children:[o.jsx(Vv,{}),o.jsx(Yg,{position:"top-center",toastOptions:{duration:3e3}})]}));
